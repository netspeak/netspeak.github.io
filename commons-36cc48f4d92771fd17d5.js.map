{"version":3,"sources":["webpack:///./src/img/x.svg","webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./src/lib/localize.ts","webpack:///./src/img/copy.svg","webpack:///./src/lib/util.ts","webpack:///./src/lib/prism.ts","webpack:///./src/elements/netspeak-query-text.tsx","webpack:///./src/elements/netspeak-example-queries.tsx","webpack:///./src/elements/netspeak-search-bar.tsx","webpack:///./src/lib/snippets.ts","webpack:///./src/elements/load-more-button.tsx","webpack:///./src/elements/transparent-button.tsx","webpack:///./src/elements/netspeak-result-list.tsx","webpack:///./node_modules/reactjs-popup/reactjs-popup.es.js","webpack:///./src/elements/netspeak-search.tsx","webpack:///./src/page-elements/netspeak-header.tsx","webpack:///./src/page-elements/netspeak-footer.tsx","webpack:///./src/page-elements/page.tsx","webpack:///./src/img/pin.svg","webpack:///./src/page-elements/shared-head.tsx","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/lib/lru-cache.ts","webpack:///./src/lib/netspeak.ts","webpack:///./node_modules/react-helmet/node_modules/react-fast-compare/index.js","webpack:///./src/img/favicon.ico","webpack:///./src/lib/dynamic.tsx","webpack:///./src/lib/cancelable-promise.ts","webpack:///./src/lib/jsonp.ts","webpack:///./src/img/history.svg","webpack:///./src/img/i.svg","webpack:///./node_modules/react-helmet/es/Helmet.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/prismjs/prism.js","webpack:///(webpack)/buildin/global.js"],"names":["module","exports","ex","React","React__default","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","canUseDOM","window","document","createElement","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","Error","WrappedComponent","state","mountedInstances","emitChange","map","instance","props","SideEffect","_PureComponent","subClass","superClass","apply","this","arguments","prototype","create","constructor","__proto__","peek","rewind","recordedState","undefined","_proto","UNSAFE_componentWillMount","push","componentDidUpdate","componentWillUnmount","index","indexOf","splice","render","PureComponent","displayName","name","getDisplayName","supportedLanguages","Set","createLocalizer","locales","locale","lang","getCurrentLang","localStorage","getItem","navigator","languages","l","toLowerCase","has","exec","detectCurrentLang","setCurrentLang","setItem","constructQueryParams","params","list","hasOwnProperty","call","encodeURIComponent","String","length","join","textContent","html","replace","div","innerHTML","normalizeSpaces","str","trim","optional","condition","supplier","delay","duration","Promise","resolve","setTimeout","assertNever","url","JSON","stringify","LoadingState","idCounter","nextId","noop","Prism","netspeak","NetspeakQueryText","query","highlight","className","dangerouslySetInnerHTML","__html","NetspeakExampleQueries","corpus","exampleQueries","defaultCorpus","examples","handleClick","e","currentTarget","dataset","onQueryClicked","keys","explanation","onClick","data-query","en","de","NetspeakSearchBar","_onChangeHandler","cancel","setState","equalQueries","CancelablePromise","then","onQueryEnter","ignoreCanceled","_oKeyupHandler","original","getDerivedStateFromProps","type","autoFocus","onChange","onKeyUp","q1","q2","normalizeQuery","unfairSupplierCombination","suppliers","pendingSuppliers","pendingResolves","cached","resolvePendingResolves","forEach","fromCache","pop","i","snippets","console","log","empty","callSuppliers","exactSupplier","count","buffer","waitingForSupplier","Math","min","s","error","toLookaheadSnippetSupplier","lookahead","done","makePromise","current","next","all","more","phraseReCache","Map","getPhraseRegex","phrase","get","source","test","RegExp","set","Snippets","backends","defaultTimeout","getSupplier","_createSuppliers","filterFn","filter","filterSupplier","mapFn","mapSupplier","_removeUrlsInText","_createRelevantSnippetFilter","config","supplierCount","getCount","backend","rejected","catch","nonRejectingSupplier","timeout","Infinity","dead","raceIsOver","timeoutPromise","race","x","timeoutSupplier","parallel","testRe","pastExamples","snippet","text","id","add","URL_REGEX","urls","NetspeakSnippetsBackend","internalPage","noFurtherExamples","request","size","from","search","res","results","uuid","ChatNoir","fetch","json","reject","GoogleBooksSnippetBackend","maxResults","q","startIndex","currentIndex","message","items","item","volumeInfo","previewLink","title","description","searchInfo","textSnippet","DEFAULT_SNIPPETS","LoadMoreButton","loading","disabled","TransparentButton","selectedClass","selected","image","style","backgroundImage","PhraseSnippetState","MORE_AVAILABLE","pushSnippets","setLoading","copy","PhraseState","pinned","expanded","setPinned","setExpanded","setSnippets","NetspeakResultList","phrases","ResultListItem","stats","PhraseContainer","phraseState","formatFrequency","formatter","Intl","NumberFormat","freq","frequency","ceil","log10","factor","pow","floor","format","formatPercentage","ratio","frequencySum","useLarge","round","minimumFractionDigits","maximumFractionDigits","formatText","elements","words","word","classes","WordTypes","WORD","Word","nameOfType","Fragment","backgroundSize","frequencyMax","PhraseInfo","copied","cancelable","newCancelableCollection","loadSnippets","snippetState","_change","p","LOADING","result","change","EXHAUSTED","_onCopyButtonClick","_copiedDelay","clipboard","writeText","_onPinButtonClick","componentDidMount","changeFn","CopyImage","PinImage","PhraseExample","sources","href","target","rel","match","textParts","pushBefore","maxLength","substr","pushAfter","re","context","emphasize","_defineProperties","descriptor","_extends","assign","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","_setPrototypeOf","_assertThisInitialized","self","ReferenceError","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","toString","_iterableToArray","TypeError","_nonIterableSpread","getCoordinatesForPosition","triggerBounding","ContentBounding","position","arrow","_ref","offsetX","offsetY","margin","args","split","CenterTop","top","height","CenterLeft","left","width","transform","arrowTop","arrowLeft","concat","styles","popupContent","tooltip","zIndex","background","border","boxShadow","padding","modal","popupArrow","overlay","bottom","right","display","POSITION_TYPES","_React$PureComponent","Popup","_this","Constructor","_classCallCheck","_possibleConstructorReturn","setPosition","closePopup","lockScroll","getElementsByTagName","overflow","persist","isOpen","openPopup","_this$props","onOpen","onClose","resetScroll","clearTimeout","timeOut","mouseEnterDelay","mouseLeaveDelay","keepTooltipInside","boundingBox","innerWidth","innerHeight","querySelector","getBoundingClientRect","_this$state","_this$props2","arrowStyle","helper","HelperEl","trigger","TriggerEl","content","ContentEl","getTooltipBoundary","positions","cords","_ref2","wrapperBox","bestCoords","contentBox","calculatePosition","ArrowEl","classList","getComputedStyle","getPropertyValue","_this$props3","contentStyle","on","popupContentStyle","childrenElementProps","ref","setContentRef","stopPropagation","onMouseEnter","onMouseLeave","triggerProps","setTriggerRef","_this$props4","onAsArray","len","togglePopup","onFocus","cloneElement","_this$props5","children","_this$state2","addWarperAction","setArrowRef","r","setHelperRef","open","_modal","defaultOpen","_trigger","protoProps","staticProps","_inherits","_this$props6","closeOnEscape","repositionOnResize","addEventListener","onEscape","prevProps","_this$props7","_this$props8","removeEventListener","_this$props9","overlayStyle","closeOnDocumentClick","_this$state3","ovStyle","renderTrigger","renderContent","NetspeakSearch","_queryMorePhrases","normalizedQuery","currentPhrases","minFreq","loadingState","promise","Netspeak","topk","pageSize","maxfreq","checkComplete","topkMode","_handleSearchPromise","_onSearchBarQueryEnterHandler","_setQuery","_onExampleQueryClickHandler","examplesVisibility","_setExampleVisibility","_onPhraseChange","findIndex","newPhraseState","newPhrases","slice","phrasesStats","getStats","_onExampleButtonClick","_areExamplesVisible","_onClearButtonClick","_clearPhrases","defaultQuery","defaultExampleVisibility","EMPTY_STATS","problems","_queryPhrases","visibility","onSetExampleVisibility","_commit","onCommitQuery","commit","_delayErrorPromise","_delayCommitPromise","changed","_mergePhrases","complete","unknownWords","reason","wasCanceled","_reasonToProblem","NetworkError","onLine","NetspeakInvalidQueryError","details","NetspeakError","clearPinned","textSet","numberOfNewPhrases","sort","a","b","_splitProblems","warnings","errors","_renderHistoryPopup","HistoryImage","close","history","InfoImage","ClearImage","ProblemInner","problem","withDetails","noPhrasesFound","noHistory","unknownWord","noConnectionError","serverUnreachableError","invalidQueryError","netspeakError","unknownError","max","sum","NetspeakHeader","to","clear","slogan","NetspeakFooter","Bullet","LangSelect","thisLang","help","contact","impressumAndPrivacy","location","reload","Page","SharedHead","favicon","randomValues","values","random","array","j","shuffle","LRUCache","_map","_length","_head","CacheNode","_tail","prev","addAll","toRemove","remove","node","insertBefore","defaultValue","insertAfter","contains","Boolean","_removeNode","afterNode","beforeNode","baseUrl","defaultBaseUrl","corpusCaching","_cache","_cachedCorpus","options","_fillSearch","uncached","_uncachedSearch","req","jsonp","errorCode","errorMessage","w","Phrase","goal","unknownWordsSet","fill","newMaxFreq","queryCorpora","corpora","default","isDefault","defaultNetspeakInstance","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","ArrayBuffer","isView","equal","it","entries","flags","valueOf","$$typeof","warn","dynamic","callback","_isCanceled","_callback","_wrapped","val","isCanceled","onfulfilled","onrejected","CANCELED","pending","deletePromise","delete","CancelableCollection","timeoutId","removeCallback","script","getElementById","callbackError","prefix","addCallback","TimeoutError","onerror","setAttribute","body","appendChild","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","_typeof","classCallCheck","createClass","defineProperties","objectWithoutProperties","possibleConstructorReturn","encodeSpecialCharacters","encode","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","property","rafPolyfill","Date","now","currentTime","cafPolyfill","requestAnimationFrame","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","_i","removeAttribute","tags","headElement","head","tagNodes","querySelectorAll","indexToDelete","newElement","styleSheet","cssText","createTextNode","some","existingTag","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","_ref$title","base","link","meta","noscript","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_this2","Children","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","propTypes","object","oneOfType","arrayOf","defaultTitle","bool","func","titleTemplate","defaultProps","mappedState","renderStatic","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Parent","Class","Function","fn","Wrapper","_self","uniqueId","_","manual","disableWorkerMessageHandler","util","tokens","Token","alias","objId","clone","deepClone","visited","v","getLanguage","element","parentElement","currentScript","err","src","stack","scripts","isActive","defaultActivation","no","extend","redef","inside","before","insert","root","grammar","ret","token","newToken","old","DFS","propertyType","plugins","highlightAll","async","highlightAllUnder","container","env","selector","hooks","run","highlightElement","language","parent","nodeName","code","insertHighlightedCode","highlightedCode","Worker","worker","filename","onmessage","evt","data","postMessage","immediateClose","tokenize","rest","tokenList","LinkedList","addAfter","matchGrammar","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","pattern","currentNode","pos","tail","reach","removeCount","lastIndex","k","matchStr","after","removeFrom","removeRange","wrapped","toArray","callbacks","matchedStr","newNode","aliases","parse","highlightAutomaticallyCallback","hasAttribute","readyState","WorkerGlobalScope","markup","includedCdataInside","def","mathml","svg","xml","ssml","atom","rss","css","addInlined","clike","javascript","js","EXTENSIONS","SELECTOR","pre","matches","extension","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","g"],"mappings":"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","file":"commons-36cc48f4d92771fd17d5.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0iIzc3NyIgZD0iTTEzLjA4IDE2TDAgMi45MiAyLjgzLjA5bDEzLjA4IDEzLjA4eiIvPgogIDxwYXRoIGZpbGw9IiM3NzciIGQ9Ik0xMy4wOC4wOGwyLjgzIDIuODNMMi44MyAxNiAwIDEzLjE3eiIvPgo8L3N2Zz4=\"","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","export const supportedLanguages: ReadonlySet<string> = new Set([\"en\", \"de\"]);\nexport type SupportedLanguage = \"en\" | \"de\";\n\nexport interface LocalizableProps {\n\treadonly lang: SupportedLanguage;\n}\n\nexport type Locales<T> = { [K in SupportedLanguage]: T };\nexport type SimpleLocale<Keys extends string> = { [K in Keys]: string };\nexport type SupplierLocale<Keys extends string> = {\n\t[K in Keys]: () => JSX.Element;\n};\n\nexport type LocalizerOf<L> = L extends Locales<infer T> ? Localizer<T> : never;\nexport type Localizer<T> = <K extends keyof T>(key: K) => T[K];\nexport function createLocalizer<T>(props: LocalizableProps, locales: Locales<T>): Localizer<T> {\n\tconst { lang } = props;\n\tconst locale = locales[lang];\n\treturn key => locale[key];\n}\n\nconst currentLangKey = \"currentLang\";\n\nfunction detectCurrentLang(): SupportedLanguage | null {\n\tif (localStorage.getItem(currentLangKey)) {\n\t\t// stored\n\t\treturn localStorage.getItem(currentLangKey) as SupportedLanguage;\n\t}\n\n\t// match against users languages\n\tfor (let l of navigator.languages || []) {\n\t\tl = l.toLowerCase();\n\t\tif (supportedLanguages.has(l)) return l as SupportedLanguage;\n\t\t// reduce e.g. \"en-US\" to \"en\"\n\t\tl = (/^(\\w+)-\\w+$/.exec(l) || [])[1];\n\t\tif (supportedLanguages.has(l)) return l as SupportedLanguage;\n\t}\n\n\treturn null;\n}\nexport function getCurrentLang(): SupportedLanguage {\n\tconst lang = detectCurrentLang();\n\tif (lang === null) {\n\t\treturn \"en\";\n\t} else {\n\t\treturn lang;\n\t}\n}\nexport function setCurrentLang(lang: SupportedLanguage): void {\n\tlocalStorage.setItem(currentLangKey, lang);\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMTEwNi41MikiPgogICAgPHJlY3Qgd2lkdGg9IjkiIGhlaWdodD0iMTMiIHg9IjIuNSIgeT0iMTEwOS4wMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNzc3Nzc3IiByeT0iLjUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3Nzc3NyIgZD0iTTEzIDExMjAuMDJhLjUuNSAwIDAwLjUtLjV2LTEyYS41LjUgMCAwMC0uNS0uNUg1YS41LjUgMCAwMC0uNS41Ii8+CiAgICA8cmVjdCBmaWxsPSIjNzc3Nzc3IiB3aWR0aD0iNiIgaGVpZ2h0PSIxIiB4PSI0IiB5PSIxMTEzLjUyIiByeT0iMCIvPgogICAgPHJlY3QgZmlsbD0iIzc3Nzc3NyIgd2lkdGg9IjYiIGhlaWdodD0iMSIgeD0iNCIgeT0iMTExNS41MiIgcnk9IjAiLz4KICAgIDxyZWN0IGZpbGw9IiM3Nzc3NzciIHdpZHRoPSI2IiBoZWlnaHQ9IjEiIHg9IjQiIHk9IjExMTcuNTIiIHJ5PSIwIi8+CiAgICA8cmVjdCBmaWxsPSIjNzc3Nzc3IiB3aWR0aD0iNCIgaGVpZ2h0PSIxIiB4PSI0IiB5PSIxMTExLjUyIiByeT0iMCIvPgogIDwvZz4KPC9zdmc+\"","export function constructQueryParams(params: Readonly<Record<string, any>>): string {\n\tconst list: string[] = [];\n\n\tfor (const key in params) {\n\t\tif (Object.prototype.hasOwnProperty.call(params, key)) {\n\t\t\tconst value = params[key];\n\t\t\tif (value === null || value === undefined || value === false) {\n\t\t\t\t// do nothing\n\t\t\t} else if (value === true) {\n\t\t\t\tlist.push(encodeURIComponent(key));\n\t\t\t} else {\n\t\t\t\tlist.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(String(value)));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (list.length) {\n\t\treturn \"?\" + list.join(\"&\");\n\t} else {\n\t\treturn \"\";\n\t}\n}\n\n/**\n * Returns the text content of a given HTML.\n */\nexport function textContent(html: string): string {\n\t// copied from PrismJS' markup definition\n\thtml = html.replace(\n\t\t/<\\/?(?!\\d)[^\\s>/=$<%]+(?:\\s(?:\\s*[^\\s>/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/g,\n\t\t\"\"\n\t);\n\tconst div = document.createElement(\"div\");\n\tdiv.innerHTML = html;\n\treturn div.textContent || \"\";\n}\n\nexport function normalizeSpaces(str: string): string {\n\treturn str.replace(/\\s+/g, \" \").trim();\n}\n\nexport function optional<T>(condition: boolean, supplier: () => T): T | null {\n\tif (condition) {\n\t\treturn supplier();\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function delay(duration: number): Promise<void> {\n\treturn new Promise(resolve => {\n\t\tsetTimeout(() => {\n\t\t\tresolve();\n\t\t}, duration);\n\t});\n}\n\nexport function assertNever(value: never): never {\n\tthrow new Error(\"Unreachable part has been reached with \" + value);\n}\n\n/**\n * Returns a CSS `url()` of the given URL.\n *\n * @param url\n */\nexport function url(url: string): string {\n\treturn `url(${JSON.stringify(url)})`;\n}\n\nlet idCounter = 0;\n/**\n * Returns a unique id.\n */\nexport function nextId(): number {\n\tidCounter = (idCounter + 1) & 0x7fffffff;\n\treturn idCounter;\n}\n\nexport enum LoadingState {\n\t/** Currently loading items. */\n\tLOADING,\n\t/** There are more items available to be loaded. */\n\tMORE_AVAILABLE,\n\t/** All available items were loaded. There are no items left to be loaded. */\n\tEXHAUSTED,\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = (): void => {};\n","import Prism from \"prismjs\";\n\nPrism.languages.netspeak = {\n\t\"q-mark\": /\\?/,\n\t\"asterisk\": /\\*|\\.{2,}/,\n\t\"plus\": /\\+/,\n\t\"order-set\": /[{}]/,\n\t\"option-set\": /[[\\]]/,\n\t\"dict-set\": /#/,\n\t\"punctuation\": /[\"]/,\n};\n\nexport default Prism;\n","import React from \"react\";\nimport Prism from \"../lib/prism\";\nimport \"./netspeak-query-text.scss\";\n\ninterface Props {\n\tquery: string;\n}\n\nexport default function NetspeakQueryText(props: Props): JSX.Element {\n\tconst { query } = props;\n\tconst html = Prism.highlight(query, Prism.languages.netspeak, \"netspeak\");\n\n\treturn <span className=\"NetspeakQueryText\" dangerouslySetInnerHTML={{ __html: html }}></span>;\n}\n","import React from \"react\";\nimport { LocalizableProps, Locales, SimpleLocale, createLocalizer } from \"../lib/localize\";\nimport \"./netspeak-example-queries.scss\";\nimport NetspeakQueryText from \"./netspeak-query-text\";\n\ninterface Props extends LocalizableProps {\n\tcorpus: string;\n\tonQueryClicked?: (query: string, corpus: string) => void;\n}\n\nexport default function NetspeakExampleQueries(props: Props): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\n\tconst corpus = props.corpus in exampleQueries ? props.corpus : defaultCorpus;\n\tconst examples = exampleQueries[corpus];\n\n\tconst handleClick = (e: React.MouseEvent<HTMLElement>): void => {\n\t\tconst query = e.currentTarget.dataset.query!;\n\t\tprops.onQueryClicked?.(query, corpus);\n\t};\n\n\treturn (\n\t\t<div className=\"NetspeakExampleQueries\">\n\t\t\t<div className=\"info\">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{(Object.keys(examples) as QueryKey[]).map(key => {\n\t\t\t\t\t\t\tconst query = examples[key]!;\n\t\t\t\t\t\t\tconst explanation = l(key);\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr key={query}>\n\t\t\t\t\t\t\t\t\t<td className=\"example\">\n\t\t\t\t\t\t\t\t\t\t<span onClick={handleClick} data-query={query}>\n\t\t\t\t\t\t\t\t\t\t\t<NetspeakQueryText query={query} />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"spacer\"></td>\n\t\t\t\t\t\t\t\t\t<td className=\"explanation\">\n\t\t\t\t\t\t\t\t\t\t<NetspeakQueryText query={explanation} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ntype QueryKey = \"q-mark\" | \"dots\" | \"option-set\" | \"hash\" | \"order\" | \"gap\";\nconst locales: Locales<SimpleLocale<QueryKey>> = {\n\ten: {\n\t\t\"q-mark\": \"The ? finds one word.\",\n\t\t\"dots\": \"The ... finds many words.\",\n\t\t\"option-set\": \"The [ ] compare options.\",\n\t\t\"hash\": \"The # finds similar words.\",\n\t\t\"order\": \"The { } check the order.\",\n\t\t\"gap\": \"The space is important.\",\n\t},\n\tde: {\n\t\t\"q-mark\": \"Das ? findet ein Wort.\",\n\t\t\"dots\": \"Die ... finden mehrere Wörter.\",\n\t\t\"option-set\": \"Die [ ] vergleichen Alternativen.\",\n\t\t\"hash\": \"Das # findet ähnliche Wörter.\",\n\t\t\"order\": \"Die { } prüfen die Reihenfolge.\",\n\t\t\"gap\": \"Das Leerzeichen ist wichtig.\",\n\t},\n};\n\n/**\n * A list of corpus specific example queries.\n */\nconst exampleQueries: Record<string, Partial<Record<QueryKey, string>>> = {\n\t\"web-en\": {\n\t\t\"q-mark\": \"how to ? this\",\n\t\t\"dots\": \"see ... works\",\n\t\t\"option-set\": \"it's [ great well ]\",\n\t\t\"hash\": \"and knows #much\",\n\t\t\"order\": \"{ more show me }\",\n\t\t\"gap\": \"m...d ? g?p\",\n\t},\n\t\"web-de\": {\n\t\t\"q-mark\": \"was ? das\",\n\t\t\"dots\": \"was ... hier ab\",\n\t\t\"option-set\": \"wie [ nützlich praktisch ]\",\n\t\t// \"hash\": \"and knows #much\", // this feature isn't yet implemented on the server-side\n\t\t\"order\": \"{ rum richtig }\",\n\t\t\"gap\": \"M?t ? Lü...e\",\n\t},\n};\n/**\n * The default corpus for which examples will be displayed in case the current corpus is unknown.\n */\nconst defaultCorpus = \"web-en\";\n","import React from \"react\";\nimport { normalizeQuery } from \"../lib/netspeak\";\nimport { CancelablePromise, ignoreCanceled } from \"../lib/cancelable-promise\";\nimport { delay } from \"../lib/util\";\n\ninterface Props {\n\tquery: string;\n\tonQueryEnter: (query: string) => void;\n\n\tautoFocus?: boolean;\n}\ninterface State {\n\toriginal: string;\n\tvalue: string;\n}\n\nexport class NetspeakSearchBar extends React.PureComponent<Props, State> {\n\tprivate delay: CancelablePromise<void> | undefined;\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\toriginal: props.query,\n\t\t\tvalue: props.query,\n\t\t};\n\t}\n\n\tcomponentWillUnmount(): void {\n\t\tthis.delay?.cancel();\n\t}\n\n\tstatic getDerivedStateFromProps(props: Props, state: State): State | null {\n\t\t// This is a bit of a hack.\n\t\t// We want to update out state if the query of the received props doesn't match the query we last got via props.\n\t\tif (props.query !== state.original) {\n\t\t\treturn {\n\t\t\t\toriginal: props.query,\n\t\t\t\tvalue: props.query,\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate _onChangeHandler = (e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\tthis.delay?.cancel();\n\n\t\tconst value = e.currentTarget.value;\n\t\tthis.setState({ value });\n\n\t\tif (!equalQueries(value, this.props.query)) {\n\t\t\tthis.delay = new CancelablePromise(delay(100));\n\t\t\tthis.delay.then(() => {\n\t\t\t\tthis.props.onQueryEnter(value);\n\t\t\t}, ignoreCanceled);\n\t\t}\n\t};\n\tprivate _oKeyupHandler = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n\t\tthis.delay?.cancel();\n\n\t\tconst value = e.currentTarget.value;\n\t\tthis.setState({ value });\n\n\t\tif (!equalQueries(value, this.props.query)) {\n\t\t\tthis.props.onQueryEnter(value);\n\t\t}\n\t};\n\n\trender(): JSX.Element {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclassName=\"NetspeakSearchBar\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tautoFocus={this.props.autoFocus}\n\t\t\t\tonChange={this._onChangeHandler}\n\t\t\t\tonKeyUp={this._oKeyupHandler}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction equalQueries(q1: string, q2: string): boolean {\n\treturn normalizeQuery(q1) === normalizeQuery(q2);\n}\n","import { textContent, normalizeSpaces, constructQueryParams } from \"./util\";\n\nexport interface Snippet {\n\t/**\n\t * The clean text content of the snippet.\n\t */\n\treadonly text: string;\n\t/**\n\t * URLs which link to the source of the snippet.\n\t * It's possible to declare more than one URL to provide mirror links and alternative sources.\n\t */\n\treadonly urls: Record<string, string>;\n}\n\n/**\n * A generic supplier of snippets.\n *\n * If `false` is returned, the supplier will not supply any additional items.\n */\nexport type SnippetSupplier = () => Promise<Snippet[] | false>;\n\nexport interface SnippetBackend {\n\tgetSupplier: (phrase: string, count: number) => SnippetSupplier;\n}\n\ntype ResolveFn = (value: Snippet[] | false) => void;\n\n/**\n * Creates a new snippet supplier which returns snippets from all given suppliers favouring faster suppliers.\n *\n * @param suppliers\n * @returns\n */\nfunction unfairSupplierCombination(suppliers: SnippetSupplier[]): SnippetSupplier {\n\tsuppliers = [...suppliers];\n\tconst pendingSuppliers: boolean[] = [];\n\tconst pendingResolves: ResolveFn[] = [];\n\tconst cached: Snippet[][] = [];\n\n\tfunction resolvePendingResolves(): void {\n\t\tif (suppliers.length === 0) {\n\t\t\tpendingResolves.forEach(resolve => {\n\t\t\t\tconst fromCache = cached.pop();\n\t\t\t\tif (fromCache) {\n\t\t\t\t\tresolve(fromCache);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t});\n\t\t\tpendingResolves.length = 0;\n\t\t} else {\n\t\t\tlet fromCache;\n\t\t\twhile (pendingResolves.length && (fromCache = cached.pop())) {\n\t\t\t\tconst resolve = pendingResolves.splice(0, 1)[0];\n\t\t\t\tresolve(fromCache);\n\t\t\t}\n\t\t\tif (pendingResolves.length) {\n\t\t\t\tcallSuppliers();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction callSuppliers(): void {\n\t\tfor (let i = 0; i < suppliers.length; i++) {\n\t\t\tconst pending = pendingSuppliers[i];\n\t\t\tif (!pending) {\n\t\t\t\tpendingSuppliers[i] = true;\n\t\t\t\tconst supplier = suppliers[i];\n\n\t\t\t\tsupplier()\n\t\t\t\t\t.then(\n\t\t\t\t\t\tsnippets => {\n\t\t\t\t\t\t\tif (snippets) {\n\t\t\t\t\t\t\t\tcached.push(snippets);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn !snippets;\n\t\t\t\t\t\t},\n\t\t\t\t\t\te => {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\t.then(empty => {\n\t\t\t\t\t\tconst index = suppliers.indexOf(supplier);\n\t\t\t\t\t\tif (empty) {\n\t\t\t\t\t\t\tsuppliers.splice(index, 1);\n\t\t\t\t\t\t\tpendingSuppliers.splice(index, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpendingSuppliers[index] = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolvePendingResolves();\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn () => {\n\t\treturn new Promise<Snippet[] | false>(resolve => {\n\t\t\tpendingResolves.push(resolve);\n\t\t\tresolvePendingResolves();\n\t\t});\n\t};\n}\n\n/**\n * Creates a new snippet supplier which will always return the exact amount of snippets until the given supplier runs\n * out of snippets.\n *\n * @param supplier\n * @param count\n * @returns\n */\nfunction exactSupplier(supplier: SnippetSupplier, count: number): SnippetSupplier {\n\t/** Whether all suppliers are empty */\n\tlet empty = false;\n\tconst buffer: Snippet[] = [];\n\tconst pendingResolves: ResolveFn[] = [];\n\tlet waitingForSupplier = false;\n\n\tfunction resolvePendingResolves(): void {\n\t\tif (empty) {\n\t\t\tpendingResolves.forEach(resolve => {\n\t\t\t\tif (buffer.length) {\n\t\t\t\t\tresolve(buffer.splice(0, Math.min(count, buffer.length)));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t});\n\t\t\tpendingResolves.length = 0;\n\t\t} else {\n\t\t\twhile (buffer.length >= count && pendingResolves.length) {\n\t\t\t\tconst resolve = pendingResolves.splice(0, 1)[0];\n\t\t\t\tresolve(buffer.splice(0, count));\n\t\t\t}\n\t\t\tif (pendingResolves.length) {\n\t\t\t\tcallSuppliers();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction callSuppliers(): void {\n\t\tif (waitingForSupplier) return;\n\t\twaitingForSupplier = true;\n\n\t\tsupplier()\n\t\t\t.then(\n\t\t\t\tsnippets => {\n\t\t\t\t\twaitingForSupplier = false;\n\n\t\t\t\t\tif (snippets) {\n\t\t\t\t\t\tsnippets.forEach(s => buffer.push(s));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tempty = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\twaitingForSupplier = false;\n\t\t\t\t\tempty = true;\n\t\t\t\t}\n\t\t\t)\n\t\t\t.then(() => {\n\t\t\t\tresolvePendingResolves();\n\t\t\t});\n\t}\n\n\treturn () => {\n\t\treturn new Promise<Snippet[] | false>(resolve => {\n\t\t\tpendingResolves.push(resolve);\n\t\t\tresolvePendingResolves();\n\t\t});\n\t};\n}\n\n/**\n * Adds a timeout to the given supplier.\n *\n * If the given supplier takes longer than the specified timeout, it's assumed that the supplier could not find\n * more snippets, so an empty array will be returned.\n *\n * @param supplier\n * @param timeout\n * @returns\n */\nfunction timeoutSupplier(supplier: SnippetSupplier, timeout: number): SnippetSupplier {\n\tif (timeout === Infinity) return supplier;\n\n\tlet dead = false;\n\n\treturn () => {\n\t\tif (dead) {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\n\t\tlet raceIsOver = false;\n\t\tconst timeoutPromise = new Promise<false>(resolve => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!raceIsOver) {\n\t\t\t\t\tdead = true;\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t}, timeout);\n\t\t});\n\n\t\treturn Promise.race([supplier(), timeoutPromise]).then(\n\t\t\tx => {\n\t\t\t\traceIsOver = true;\n\t\t\t\treturn x;\n\t\t\t},\n\t\t\tx => {\n\t\t\t\traceIsOver = true;\n\t\t\t\tthrow x;\n\t\t\t}\n\t\t);\n\t};\n}\n\n/**\n * Returns a new supplier based on the given supplier which will return `false` instead of rejecting.\n */\nfunction nonRejectingSupplier(supplier: SnippetSupplier): SnippetSupplier {\n\tlet rejected = false;\n\treturn () => {\n\t\tif (rejected) return Promise.resolve(false);\n\t\treturn supplier().catch(e => {\n\t\t\tconsole.log(e);\n\t\t\trejected = true;\n\t\t\treturn false;\n\t\t});\n\t};\n}\n\nfunction filterSupplier(supplier: SnippetSupplier, filterFn: (snippet: Snippet) => boolean): SnippetSupplier {\n\treturn () => {\n\t\treturn supplier().then(snippets => {\n\t\t\tif (snippets) {\n\t\t\t\treturn snippets.filter(filterFn);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t};\n}\nfunction mapSupplier(supplier: SnippetSupplier, mapFn: (snippet: Snippet) => Snippet): SnippetSupplier {\n\treturn () => {\n\t\treturn supplier().then(snippets => {\n\t\t\tif (snippets) {\n\t\t\t\treturn snippets.map(mapFn);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t};\n}\n\nexport interface LookaheadSnippet {\n\tsnippets: Snippet[];\n\tmore: boolean;\n}\nexport type LookaheadSnippetSupplier = () => Promise<LookaheadSnippet | false>;\n/**\n * Creates a new lookahead supplier from the given snippet supplier.\n *\n * A lookahead supplier will not only yield snippets but also whether there will be more snippets after the current\n * batch.\n *\n * @param supplier\n */\nexport function toLookaheadSnippetSupplier(supplier: SnippetSupplier): LookaheadSnippetSupplier {\n\tlet done = false;\n\tlet lookahead: Promise<false | Snippet[]> | undefined;\n\n\tfunction makePromise(\n\t\tcurrent: Promise<false | Snippet[]>,\n\t\tnext: Promise<false | Snippet[]>\n\t): Promise<false | LookaheadSnippet> {\n\t\tlookahead = next;\n\n\t\treturn Promise.all([current, next]).then(([current, next]) => {\n\t\t\tconst more = next !== false;\n\t\t\tif (!more) {\n\t\t\t\tdone = true;\n\t\t\t\tlookahead = undefined;\n\t\t\t}\n\n\t\t\tif (current !== false) {\n\t\t\t\treturn {\n\t\t\t\t\tmore,\n\t\t\t\t\tsnippets: current,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (): Promise<false | LookaheadSnippet> => {\n\t\tif (done) {\n\t\t\treturn Promise.resolve(false);\n\t\t} else {\n\t\t\tif (lookahead) {\n\t\t\t\treturn makePromise(lookahead, supplier());\n\t\t\t} else {\n\t\t\t\treturn makePromise(supplier(), supplier());\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst phraseReCache = new Map<string, RegExp>();\nexport function getPhraseRegex(phrase: string): RegExp {\n\tphrase = normalizeSpaces(phrase);\n\tlet value = phraseReCache.get(phrase);\n\tif (value === undefined) {\n\t\tlet source = phrase.replace(/[\\\\/(){}[\\]|?+*^$.]/g, \"\\\\$&\").replace(/\\s+/g, \"\\\\s*\");\n\t\tif (/^\\w/.test(phrase)) {\n\t\t\tsource = \"\\\\b\" + source;\n\t\t}\n\t\tif (/\\w$/.test(phrase)) {\n\t\t\tsource = source + \"\\\\b\";\n\t\t}\n\t\tvalue = RegExp(source, \"i\");\n\t\tphraseReCache.set(phrase, value);\n\t}\n\treturn value;\n}\n\nexport interface SnippetBackendConfig {\n\tbackend: SnippetBackend;\n\tgetCount?: (count: number) => number;\n\t/** The number of parallel suppliers for the given backend. */\n\tparallel?: number;\n\t/** The timeout after which a supplier from the backend will be declared dead. */\n\ttimeout?: number;\n}\nexport class Snippets {\n\tbackends: SnippetBackendConfig[] = [];\n\tdefaultTimeout = 5000;\n\n\tgetSupplier(phrase: string, count = 6): SnippetSupplier {\n\t\tlet supplier = unfairSupplierCombination(this._createSuppliers(phrase, count));\n\t\tsupplier = mapSupplier(supplier, this._removeUrlsInText);\n\t\tsupplier = filterSupplier(supplier, this._createRelevantSnippetFilter(phrase));\n\n\t\treturn exactSupplier(supplier, count);\n\t}\n\n\t/**\n\t * Creates a list of suppliers from the current backend config.\n\t *\n\t * @param phrase\n\t * @param count\n\t */\n\tprivate _createSuppliers(phrase: string, count: number): SnippetSupplier[] {\n\t\tconst suppliers: SnippetSupplier[] = [];\n\n\t\tthis.backends.forEach(config => {\n\t\t\tlet supplierCount: number | undefined = undefined;\n\t\t\tif (config.getCount) {\n\t\t\t\tsupplierCount = config.getCount(count);\n\t\t\t} else {\n\t\t\t\tsupplierCount = count;\n\t\t\t}\n\n\t\t\tlet supplier = config.backend.getSupplier(phrase, supplierCount);\n\t\t\tsupplier = timeoutSupplier(supplier, config.timeout || this.defaultTimeout);\n\t\t\tsupplier = nonRejectingSupplier(supplier);\n\n\t\t\tlet parallel = config.parallel;\n\t\t\tif (parallel === undefined) parallel = 1;\n\t\t\tfor (let i = parallel; i > 0; i--) {\n\t\t\t\tsuppliers.push(supplier);\n\t\t\t}\n\t\t});\n\n\t\treturn suppliers;\n\t}\n\n\tprivate _createRelevantSnippetFilter(phrase: string): (snippet: Snippet) => boolean {\n\t\tconst testRe = getPhraseRegex(phrase);\n\n\t\tconst pastExamples = new Set<string>([\"\"]);\n\n\t\treturn snippet => {\n\t\t\tconst text = snippet.text.toLowerCase();\n\n\t\t\t// The text has to contain the phrase.\n\t\t\tif (!testRe.test(text)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// The test is mostly punctuation.\n\t\t\tif (text.replace(/[\\w\\xA0-\\uFFFF]+/g, \"\").length > text.length * 0.5) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// The basic idea behind this id is that most duplicate examples are equal character for character,\n\t\t\t// so a simple (and fast) hash lookup is sufficient.\n\t\t\t// To also filter duplicates which are technically different but don't look very different to\n\t\t\t// humans, some additional transformation are performed.\n\t\t\tconst id = text.replace(/\\s+/, \"\").replace(/\\d+/g, \"0\");\n\n\t\t\tif (pastExamples.has(id)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tpastExamples.add(id);\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tprivate _removeUrlsInText(snippet: Snippet): Snippet {\n\t\tconst text = snippet.text.replace(URL_REGEX, \"[…]\");\n\n\t\treturn { text, urls: snippet.urls };\n\t}\n}\n\nconst URL_REGEX = /(?:https?\\s*:\\s*\\/\\s*\\/\\s*(?:www\\s*\\.\\s*)?|www\\s*\\.\\s*)(?:\\w|\\s*[-@:%.+~#=]\\s*){1,256}\\s*\\.\\s*[a-z0-9()]{1,6}\\b[-\\w()@:%+.~#/?&=]*/gi;\n\ninterface NetspeakSnippetsRequest {\n\tquery: string;\n\t/** list of indices to search */\n\tindex?: string[];\n\t/** result pagination begin */\n\tfrom: number;\n\t/** number of results per page */\n\tsize: number;\n}\ninterface NetspeakSnippetsResponse {\n\t/** global result meta information */\n\tmeta: {\n\t\t/** query time in milliseconds */\n\t\tquery_time: number;\n\t\t/** number of total hits */\n\t\ttotal_results: number;\n\t\t/** list of indices that were searched */\n\t\tindices: string[];\n\t};\n\t/** list of search results */\n\tresults: NetspeakSnippetsResponseItem[];\n}\ninterface NetspeakSnippetsResponseItem {\n\t/** ranking score of this result */\n\tscore: number;\n\t/** Webis UUID of this document */\n\tuuid: string;\n\t/** index the document was retrieved from */\n\tindex: string;\n\t/** TREC ID of the result if available (null otherwise) */\n\ttrec_id: string | null;\n\t/** web host this document was crawled from */\n\ttarget_hostname: string;\n\t/** full web URI */\n\ttarget_uri: string;\n\t/** page rank of this document if available (null otherwise) */\n\tpage_rank: number | null;\n\t/** spam rank of this document if available (null otherwise) */\n\tspam_rank: number | null;\n\t/** document title with highlights */\n\ttitle: string;\n\t/** document body snippet with highlights */\n\tsnippet: string;\n\t/** additional scoring information if explain was set to true */\n\texplanation: string | null;\n}\n\n/**\n * A snippet backend for Netspeak's internal snippet API based on ChatNoir.\n *\n * @see https://www.chatnoir.eu/doc/api/\n */\nexport class NetspeakSnippetsBackend implements SnippetBackend {\n\tgetSupplier(phrase: string, count: number): SnippetSupplier {\n\t\tphrase = normalizeSpaces(phrase);\n\n\t\tlet internalPage = 0;\n\n\t\t// whether the snippet API doesn't have any more examples\n\t\tlet noFurtherExamples = false;\n\n\t\treturn () => {\n\t\t\tif (noFurtherExamples) {\n\t\t\t\treturn Promise.resolve(false);\n\t\t\t}\n\n\t\t\tconst request: NetspeakSnippetsRequest = {\n\t\t\t\tquery: phrase,\n\t\t\t\tsize: count,\n\t\t\t\tfrom: count * internalPage++,\n\t\t\t};\n\n\t\t\treturn this.search(request).then(res => {\n\t\t\t\tif (res.results.length === 0) {\n\t\t\t\t\tnoFurtherExamples = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst snippets: Snippet[] = [];\n\n\t\t\t\tres.results.forEach(({ snippet, uuid, index }) => {\n\t\t\t\t\tconst urls = {\n\t\t\t\t\t\tChatNoir: `https://www.chatnoir.eu/cache?uuid=${uuid}&index=${encodeURIComponent(index)}&plain`,\n\t\t\t\t\t};\n\t\t\t\t\tsnippets.push({ text: normalizeSpaces(textContent(snippet)), urls });\n\t\t\t\t});\n\n\t\t\t\treturn snippets;\n\t\t\t});\n\t\t};\n\t}\n\n\t/**\n\t * The simple search operation of the Snippets API.\n\t *\n\t * @param request The request details passed to the API.\n\t * @returns\n\t */\n\tsearch(request: NetspeakSnippetsRequest): Promise<NetspeakSnippetsResponse> {\n\t\ttry {\n\t\t\tif (!request) throw new Error(\"request cannot be \" + request);\n\n\t\t\t// construct URL\n\t\t\tconst url = \"https://snippets.netspeak.org/_search\" + constructQueryParams(request);\n\n\t\t\t// fetch data\n\t\t\treturn fetch(url).then(res => res.json());\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n}\n\ninterface ErrorJson {\n\terror: ErrorJsonObject;\n}\ninterface ErrorJsonObject {\n\tcode: number;\n\tmessage: string;\n}\n\ninterface GoogleBooksJson {\n\tkind: string;\n\ttotalItems: number;\n\titems: GoogleBooksJsonItem[] | undefined;\n}\ninterface GoogleBooksJsonItem {\n\tkind: string;\n\tid: string;\n\tetag: string;\n\tselfLink: string;\n\tvolumeInfo: GoogleBooksJsonItemVolumeInfo;\n\tsearchInfo: GoogleBooksJsonItemSearchInfo;\n}\ninterface GoogleBooksJsonItemVolumeInfo {\n\ttitle: string;\n\tauthors: string[];\n\tpublishedDate: string;\n\tdescription?: string | undefined;\n\tlanguage: string;\n\tpreviewLink: string;\n\tinfoLink: string;\n\tcanonicalVolumeLink: string;\n}\ninterface GoogleBooksJsonItemSearchInfo {\n\ttextSnippet: string;\n}\n/**\n * A snippet backend for Google Book's public search API.\n *\n * @see https://developers.google.com/books/docs/v1/using\n */\nexport class GoogleBooksSnippetBackend implements SnippetBackend {\n\tgetSupplier(phrase: string, count: number): SnippetSupplier {\n\t\t// The API only supports up to 40 results\n\t\t// https://developers.google.com/books/docs/v1/using#maxResults\n\t\tconst maxResults = Math.min(count, 40);\n\t\tconst q = encodeURIComponent(`\"${normalizeSpaces(phrase)}\"`);\n\n\t\tlet startIndex = 0;\n\t\tlet done = false;\n\n\t\treturn () => {\n\t\t\tif (done) {\n\t\t\t\treturn Promise.resolve(false);\n\t\t\t}\n\n\t\t\tconst currentIndex = startIndex;\n\t\t\tstartIndex += maxResults;\n\n\t\t\t// Note: The following type definitions are incomplete\n\t\t\tconst promise: Promise<ErrorJson | GoogleBooksJson> = fetch(\n\t\t\t\t`https://www.googleapis.com/books/v1/volumes?q=${q}&startIndex=${currentIndex}&maxResults=${maxResults}`\n\t\t\t).then(res => res.json());\n\n\t\t\treturn promise.then(json => {\n\t\t\t\tif (\"error\" in json) {\n\t\t\t\t\tthrow new Error(json.error.message);\n\t\t\t\t}\n\n\t\t\t\tconst items = json.items;\n\t\t\t\tif (!items) {\n\t\t\t\t\tdone = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst snippets: Snippet[] = [];\n\n\t\t\t\titems.forEach(item => {\n\t\t\t\t\tconst urls = { \"Google Books\": item.volumeInfo.previewLink };\n\n\t\t\t\t\t// we use 3 parts of every result\n\t\t\t\t\tif (item.volumeInfo) {\n\t\t\t\t\t\tif (item.volumeInfo.title)\n\t\t\t\t\t\t\tsnippets.push({\n\t\t\t\t\t\t\t\ttext: normalizeSpaces(textContent(item.volumeInfo.title)),\n\t\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif (item.volumeInfo.description)\n\t\t\t\t\t\t\tsnippets.push({\n\t\t\t\t\t\t\t\ttext: normalizeSpaces(textContent(item.volumeInfo.description)),\n\t\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (item.searchInfo && item.searchInfo.textSnippet)\n\t\t\t\t\t\tsnippets.push({\n\t\t\t\t\t\t\ttext: normalizeSpaces(textContent(item.searchInfo.textSnippet)),\n\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\treturn snippets;\n\t\t\t});\n\t\t};\n\t}\n}\n\nexport const DEFAULT_SNIPPETS = new Snippets();\nDEFAULT_SNIPPETS.backends.push(\n\t{\n\t\tbackend: new NetspeakSnippetsBackend(),\n\t\tparallel: 3,\n\t\tgetCount: () => 33,\n\t},\n\t{\n\t\tbackend: new GoogleBooksSnippetBackend(),\n\t\tparallel: 1,\n\t\tgetCount: () => 20,\n\t}\n);\n","import React from \"react\";\nimport \"./load-more-button.scss\";\n\ninterface Props {\n\t/**\n\t * Whether the button was clicked and the page is currently loading more items.\n\t *\n\t * If `true`, the button will be disabled as display a loading animation.\n\t */\n\tloading?: boolean;\n\tonClick: () => void;\n}\n\n/**\n * A button that displays an image to load more items.\n *\n * If in a loading state, it will display a small loading animation instead.\n */\nexport default function LoadMoreButton(props: Props): JSX.Element {\n\tconst className = \"LoadMoreButton\" + (props.loading ? \" loading\" : \"\");\n\n\treturn (\n\t\t<button className={className} disabled={!!props.loading} onClick={props.onClick}>\n\t\t\t<span></span>\n\t\t</button>\n\t);\n}\n","import React from \"react\";\nimport { optional } from \"../lib/util\";\nimport \"./transparent-button.scss\";\n\ninterface Props {\n\timage?: string;\n\ttext?: string;\n\tselected?: boolean;\n\tonClick?: () => void;\n}\n\nexport default function TransparentButton(props: Readonly<Props>): JSX.Element {\n\tconst selectedClass = props.selected ? \" selected\" : \"\";\n\n\treturn (\n\t\t<button className={\"TransparentButton\" + selectedClass} onClick={props.onClick}>\n\t\t\t{optional(!!props.image, () => (\n\t\t\t\t<span className=\"button-img\" style={{ backgroundImage: props.image }}></span>\n\t\t\t))}\n\t\t\t{optional(!!props.text, () => (\n\t\t\t\t<span className=\"button-text\">{props.text}</span>\n\t\t\t))}\n\t\t</button>\n\t);\n}\n","import React from \"react\";\nimport { LocalizableProps, Locales, SimpleLocale, createLocalizer } from \"../lib/localize\";\nimport { Phrase, WordTypes, Word } from \"../lib/netspeak\";\nimport { Snippet, getPhraseRegex, LookaheadSnippetSupplier } from \"../lib/snippets\";\nimport { optional, LoadingState, url, delay } from \"../lib/util\";\nimport LoadMoreButton from \"./load-more-button\";\nimport \"./netspeak-result-list.scss\";\nimport TransparentButton from \"./transparent-button\";\nimport PinImage from \"../img/pin.svg\";\nimport CopyImage from \"../img/copy.svg\";\nimport { CancelablePromise, ignoreCanceled, newCancelableCollection } from \"../lib/cancelable-promise\";\n\nexport class PhraseSnippetState {\n\tconstructor(\n\t\tpublic readonly supplier: LookaheadSnippetSupplier,\n\t\tpublic readonly snippets: readonly Snippet[] = [],\n\t\tpublic readonly loading: LoadingState = LoadingState.MORE_AVAILABLE\n\t) {}\n\n\tpushSnippets(snippets: readonly Snippet[]): PhraseSnippetState {\n\t\tif (snippets.length === 0) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.set(\"snippets\", [...this.snippets, ...snippets]);\n\t\t}\n\t}\n\tsetLoading(value: LoadingState): PhraseSnippetState {\n\t\treturn this.set(\"loading\", value);\n\t}\n\n\tprivate copy(): PhraseSnippetState {\n\t\treturn new PhraseSnippetState(this.supplier, this.snippets, this.loading);\n\t}\n\tprivate set<K extends keyof PhraseSnippetState>(key: K, value: PhraseSnippetState[K]): PhraseSnippetState {\n\t\tif (this[key] === value) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tconst copy = this.copy();\n\t\t\tcopy[key] = value;\n\t\t\treturn copy;\n\t\t}\n\t}\n}\nexport class PhraseState {\n\tconstructor(\n\t\tpublic readonly phrase: Phrase,\n\t\tpublic readonly pinned: boolean,\n\t\tpublic readonly expanded: boolean,\n\t\tpublic readonly snippets: PhraseSnippetState\n\t) {}\n\n\tsetPinned(value: boolean): PhraseState {\n\t\treturn this.set(\"pinned\", value);\n\t}\n\tsetExpanded(value: boolean): PhraseState {\n\t\treturn this.set(\"expanded\", value);\n\t}\n\tsetSnippets(value: PhraseSnippetState): PhraseState {\n\t\treturn this.set(\"snippets\", value);\n\t}\n\n\tprivate copy(): PhraseState {\n\t\treturn new PhraseState(this.phrase, this.pinned, this.expanded, this.snippets);\n\t}\n\tprivate set<K extends keyof PhraseState>(key: K, value: PhraseState[K]): PhraseState {\n\t\tif (this[key] === value) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tconst copy = this.copy();\n\t\t\tcopy[key] = value;\n\t\t\treturn copy;\n\t\t}\n\t}\n}\n\nexport interface PhraseCollectionStats {\n\treadonly frequencySum: number;\n\treadonly frequencyMax: number;\n}\n\nexport type PhraseStateChangeFn = (current: PhraseState) => PhraseState;\nexport type OnChangeFn = (phrase: Phrase, change: PhraseStateChangeFn) => void;\n\ninterface ListProps extends LocalizableProps {\n\tphrases: readonly PhraseState[];\n\tstats: PhraseCollectionStats;\n\tonChange: OnChangeFn;\n}\n\nexport default function NetspeakResultList(props: ListProps): JSX.Element {\n\treturn (\n\t\t<div className=\"NetspeakResultList\">\n\t\t\t{props.phrases.map(phrase => (\n\t\t\t\t<ResultListItem\n\t\t\t\t\tkey={phrase.phrase.text}\n\t\t\t\t\tlang={props.lang}\n\t\t\t\t\tphrase={phrase}\n\t\t\t\t\tstats={props.stats}\n\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\ninterface ItemProps extends LocalizableProps {\n\tphrase: PhraseState;\n\tstats: PhraseCollectionStats;\n\tonChange: OnChangeFn;\n}\n\nfunction ResultListItem(props: ItemProps): JSX.Element {\n\treturn (\n\t\t<div className=\"ResultListItem\">\n\t\t\t<PhraseContainer {...props} />\n\t\t\t{optional(props.phrase.expanded, () => (\n\t\t\t\t<PhraseInfo {...props} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nclass PhraseContainer extends React.PureComponent<ItemProps> {\n\t/**\n\t * Formats the frequency of the given phrase.\n\t */\n\tformatFrequency(): JSX.Element {\n\t\tconst formatter = new Intl.NumberFormat(this.props.lang, {\n\t\t\tstyle: \"decimal\",\n\t\t});\n\n\t\tlet freq = this.props.phrase.phrase.frequency;\n\n\t\t// floor to 2 significant digits if the frequency has more than 3 digits\n\t\tif (freq >= 1000) {\n\t\t\tconst log = Math.ceil(Math.log10(freq));\n\t\t\tconst factor = Math.pow(10, log - 2);\n\t\t\tfreq = Math.floor(freq / factor) * factor;\n\t\t}\n\n\t\treturn <>{formatter.format(freq)}</>;\n\t}\n\n\t/**\n\t * Formats the frequency percentage of the given phrase.\n\t */\n\tformatPercentage(): JSX.Element {\n\t\tconst smallOptions: Intl.NumberFormatOptions = {\n\t\t\tstyle: \"percent\",\n\t\t\tminimumFractionDigits: 1,\n\t\t\tmaximumFractionDigits: 1,\n\t\t};\n\t\tconst largeOptions: Intl.NumberFormatOptions = {\n\t\t\tstyle: \"percent\",\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: 0,\n\t\t};\n\n\t\tconst ratio = this.props.phrase.phrase.frequency / this.props.stats.frequencySum;\n\n\t\t// this just means that if the rounded percentage is >= 10.0% then we'll use the other formatter\n\t\tconst useLarge = Math.round(ratio * 1000) >= 100;\n\t\tconst formatter = new Intl.NumberFormat(this.props.lang, useLarge ? largeOptions : smallOptions);\n\n\t\treturn <>{formatter.format(ratio)}</>;\n\t}\n\n\t/**\n\t * Formats the phrase text of the given phrase.\n\t */\n\tformatText(): JSX.Element {\n\t\tconst elements: JSX.Element[] = [];\n\n\t\tthis.props.phrase.phrase.words.forEach((word, i) => {\n\t\t\tconst classes: string[] = [];\n\n\t\t\t// is operator\n\t\t\tif (word.type !== WordTypes.WORD) {\n\t\t\t\tclasses.push(\"operator\");\n\t\t\t}\n\n\t\t\t// add type\n\t\t\tclasses.push(\n\t\t\t\tString(Word.nameOfType(word.type))\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^a-z]+/, \"-\")\n\t\t\t);\n\n\t\t\tif (elements.length > 0) {\n\t\t\t\telements.push(<React.Fragment key={i * 2 - 1}> </React.Fragment>);\n\t\t\t}\n\t\t\telements.push(\n\t\t\t\t<span key={i * 2} className={classes.join(\" \")}>\n\t\t\t\t\t{word.text}\n\t\t\t\t</span>\n\t\t\t);\n\t\t});\n\n\t\treturn <>{elements}</>;\n\t}\n\n\tonClick = (): void =>\n\t\tthis.props.onChange(this.props.phrase.phrase, phraseState =>\n\t\t\tphraseState.setExpanded(!this.props.phrase.expanded)\n\t\t);\n\n\trender(): JSX.Element {\n\t\tconst relativeFreq = this.props.phrase.phrase.frequency / this.props.stats.frequencyMax;\n\t\tconst backgroundSize = `${relativeFreq * 0.618 * 100}% 130%`;\n\n\t\treturn (\n\t\t\t<div className=\"phrase-container\" style={{ backgroundSize }} onClick={this.onClick}>\n\t\t\t\t<div>\n\t\t\t\t\t<span className={\"text\" + (this.props.phrase.pinned ? \" pinned\" : \"\")}>{this.formatText()}</span>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"freq\">\n\t\t\t\t\t{this.formatFrequency()}\n\t\t\t\t\t<span className=\"percentage\">{this.formatPercentage()}</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\ninterface PhraseInfoState {\n\t/** Whether the text of the phrase was recently copied to clipboard. */\n\tcopied: boolean;\n}\n\nclass PhraseInfo extends React.PureComponent<ItemProps, PhraseInfoState> {\n\tstate: PhraseInfoState = {\n\t\tcopied: false,\n\t};\n\tprivate cancelable = newCancelableCollection();\n\tprivate _copiedDelay: CancelablePromise<void> | undefined;\n\n\tcomponentDidMount(): void {\n\t\tconst snippets = this.props.phrase.snippets;\n\t\tif (snippets.loading === LoadingState.MORE_AVAILABLE && snippets.snippets.length === 0) {\n\t\t\t// load snippets when the user first expands a phrase\n\t\t\tthis.loadSnippets();\n\t\t}\n\t}\n\tcomponentWillUnmount(): void {\n\t\tthis.cancelable.cancel();\n\t}\n\n\tloadSnippets = (): void => {\n\t\tconst snippetState = this.props.phrase.snippets;\n\n\t\tif (snippetState.loading === LoadingState.MORE_AVAILABLE) {\n\t\t\t// mark as loading\n\t\t\tthis._change(p => p.setSnippets(p.snippets.setLoading(LoadingState.LOADING)));\n\n\t\t\t// load more snippets\n\t\t\tthis.cancelable(snippetState.supplier()).then(result => {\n\t\t\t\tlet change: PhraseStateChangeFn;\n\t\t\t\tif (result === false) {\n\t\t\t\t\tchange = phraseState =>\n\t\t\t\t\t\tphraseState.setSnippets(phraseState.snippets.setLoading(LoadingState.EXHAUSTED));\n\t\t\t\t} else {\n\t\t\t\t\tconst snippets = result.snippets;\n\t\t\t\t\tconst loading = result.more ? LoadingState.MORE_AVAILABLE : LoadingState.EXHAUSTED;\n\t\t\t\t\tchange = phraseState =>\n\t\t\t\t\t\tphraseState.setSnippets(phraseState.snippets.setLoading(loading).pushSnippets(snippets));\n\t\t\t\t}\n\t\t\t\tthis._change(change);\n\t\t\t}, ignoreCanceled);\n\t\t}\n\t};\n\n\tprivate _change(changeFn: PhraseStateChangeFn): void {\n\t\tthis.props.onChange(this.props.phrase.phrase, changeFn);\n\t}\n\n\tprivate _onCopyButtonClick = (): void => {\n\t\tthis._copiedDelay?.cancel();\n\n\t\tnavigator.clipboard.writeText(this.props.phrase.phrase.text);\n\n\t\t// set the \"copied\" state to true and then to false after 3sec\n\t\tthis.setState({ copied: true });\n\t\tthis._copiedDelay = this.cancelable(delay(3000));\n\t\tthis._copiedDelay.then(() => {\n\t\t\tthis.setState({ copied: false });\n\t\t}, ignoreCanceled);\n\t};\n\tprivate _onPinButtonClick = (): void => {\n\t\tthis._change(p => p.setPinned(!p.pinned));\n\t};\n\n\trender(): JSX.Element {\n\t\tconst l = createLocalizer(this.props, locales);\n\n\t\treturn (\n\t\t\t<div className=\"options\">\n\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t<TransparentButton\n\t\t\t\t\t\timage={url(CopyImage)}\n\t\t\t\t\t\ttext={this.state.copied ? l(\"copied\") : l(\"copy\")}\n\t\t\t\t\t\tonClick={this._onCopyButtonClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<TransparentButton\n\t\t\t\t\t\tselected={this.props.phrase.pinned}\n\t\t\t\t\t\timage={url(PinImage)}\n\t\t\t\t\t\ttext={l(\"pin\")}\n\t\t\t\t\t\tonClick={this._onPinButtonClick}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"examples-container\">\n\t\t\t\t\t<div className=\"examples-list\">\n\t\t\t\t\t\t{this.props.phrase.snippets.snippets.map((s, i) => (\n\t\t\t\t\t\t\t<PhraseExample key={i} phrase={this.props.phrase.phrase} snippet={s} />\n\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t{optional(this.props.phrase.snippets.loading === LoadingState.EXHAUSTED, () => (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<em>\n\t\t\t\t\t\t\t\t\t\t{this.props.phrase.snippets.snippets.length === 0\n\t\t\t\t\t\t\t\t\t\t\t? l(\"no-examples-found\")\n\t\t\t\t\t\t\t\t\t\t\t: l(\"no-further-examples-found\")}\n\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t{optional(this.props.phrase.snippets.loading !== LoadingState.EXHAUSTED, () => (\n\t\t\t\t\t\t<div className=\"load-more-container\">\n\t\t\t\t\t\t\t<LoadMoreButton\n\t\t\t\t\t\t\t\tloading={this.props.phrase.snippets.loading === LoadingState.LOADING}\n\t\t\t\t\t\t\t\tonClick={this.loadSnippets}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction PhraseExample(props: Readonly<{ phrase: Phrase; snippet: Snippet }>): JSX.Element {\n\tconst { phrase, snippet } = props;\n\n\tfunction emphasize(text: string): JSX.Element[] {\n\t\t/** The number of characters allowed around the phrase. */\n\t\tconst context = 200;\n\n\t\tconst textParts: JSX.Element[] = [];\n\t\tlet key = 0;\n\t\tconst pushBefore = (s: string, maxLength = Infinity): void => {\n\t\t\tif (s.length > maxLength) {\n\t\t\t\ts = s.substr(s.length - maxLength).replace(/^\\S*\\s+/, \"... \");\n\t\t\t}\n\t\t\ttextParts.push(<React.Fragment key={key++}>{s}</React.Fragment>);\n\t\t};\n\t\tconst pushAfter = (s: string, maxLength: number): void => {\n\t\t\tif (s.length > maxLength) {\n\t\t\t\ts = s.substr(0, maxLength).replace(/\\s+\\S*$/, \" ...\");\n\t\t\t}\n\t\t\ttextParts.push(<React.Fragment key={key++}>{s}</React.Fragment>);\n\t\t};\n\n\t\tconst re = getPhraseRegex(phrase.text);\n\t\tlet match;\n\t\twhile (text && (match = re.exec(text))) {\n\t\t\tif (textParts.length > 0 && match.index > context) {\n\t\t\t\t// the matches are too far apart\n\t\t\t\tpushAfter(text, context);\n\t\t\t\ttext = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (match.index > 0) {\n\t\t\t\tif (textParts.length === 0) {\n\t\t\t\t\tpushBefore(text.substr(0, match.index), context);\n\t\t\t\t} else {\n\t\t\t\t\tpushBefore(text.substr(0, match.index));\n\t\t\t\t}\n\t\t\t}\n\t\t\ttextParts.push(<strong key={key++}>{match[0]}</strong>);\n\t\t\ttext = text.substr(match.index + match[0].length);\n\t\t}\n\t\tif (text) {\n\t\t\tif (textParts.length === 0) {\n\t\t\t\t// something went wrong...\n\t\t\t\tpushAfter(text, context * 2);\n\t\t\t} else {\n\t\t\t\tpushAfter(text, context);\n\t\t\t}\n\t\t}\n\n\t\treturn textParts;\n\t}\n\n\tconst sources = Object.keys(snippet.urls).map(name => {\n\t\tconst href = snippet.urls[name];\n\t\treturn (\n\t\t\t<span key={name} className=\"source\">\n\t\t\t\t[\n\t\t\t\t<a href={href} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t{name}\n\t\t\t\t</a>\n\t\t\t\t]\n\t\t\t</span>\n\t\t);\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t{emphasize(snippet.text)}\n\t\t\t\t{sources}\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nconst locales: Locales<SimpleLocale<\n\t\"failed-to-load-examples\" | \"no-examples-found\" | \"no-further-examples-found\" | \"copy\" | \"copied\" | \"pin\"\n>> = {\n\ten: {\n\t\t\"failed-to-load-examples\": \"Failed to load examples.\",\n\t\t\"no-examples-found\": \"No examples found.\",\n\t\t\"no-further-examples-found\": \"No further examples found.\",\n\t\t\"copy\": \"Copy\",\n\t\t\"copied\": \"Copied\",\n\t\t\"pin\": \"Pin\",\n\t},\n\tde: {\n\t\t\"failed-to-load-examples\": \"Beispiele konnten nicht geladen werden.\",\n\t\t\"no-examples-found\": \"Keine Beispiele gefunden.\",\n\t\t\"no-further-examples-found\": \"Keine weiteren Beispiele gefunden.\",\n\t\t\"copy\": \"Kopieren\",\n\t\t\"copied\": \"Kopiert\",\n\t\t\"pin\": \"Anheften\",\n\t},\n};\n","/*!\n * reactjs-popup v1.5.0\n * (c) 2019-present Youssouf EL AZIZI <youssoufelazizi@gmail.com>\n * Released under the MIT License.\n */\nimport React from 'react';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\n\n\nfunction getCoordinatesForPosition(triggerBounding, ContentBounding, position, arrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(45deg)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(225deg)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(-45deg)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(135deg)\";\n      arrowTop = '50%';\n      break;\n\n    default:\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = \"\".concat(triggerBounding.height / 2, \"px\");\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = \"\".concat(height - triggerBounding.height / 2, \"px\");\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = \"\".concat(triggerBounding.width / 2, \"px\");\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = \"\".concat(width - triggerBounding.width / 2, \"px\");\n      break;\n\n    default:\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n}\n\nfunction calculatePosition(triggerBounding, ContentBounding, positions, arrow, _ref2, wrapperBox) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords;\n  var i = 0;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n}\n\nvar styles = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: '2',\n      width: '200px',\n      background: \"rgb(255, 255, 255)\",\n      border: \"1px solid rgb(187, 187, 187)\",\n      boxShadow: \"rgba(0, 0, 0, 0.2) 0px 1px 3px\",\n      padding: '5px'\n    },\n    modal: {\n      position: 'relative',\n      background: \"rgb(255, 255, 255)\",\n      width: '50%',\n      margin: 'auto',\n      border: \"1px solid rgb(187, 187, 187)\",\n      padding: '5px'\n    }\n  },\n  popupArrow: {\n    height: '10px',\n    width: '10px',\n    position: 'absolute',\n    background: 'rgb(255, 255, 255)',\n    transform: 'rotate(45deg)',\n    margin: '-5px',\n    zIndex: '-1',\n    boxShadow: 'rgba(0, 0, 0, 0.2) 1px 1px 1px'\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0'\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      background: \"rgba(0, 0, 0,0.5)\",\n      display: 'flex',\n      zIndex: '999'\n    }\n  }\n};\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom', 'center center'];\n\nvar Popup = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Popup, _React$PureComponent);\n\n  function Popup(props) {\n    var _this;\n\n    _classCallCheck(this, Popup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popup).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"repositionOnResize\", function () {\n      _this.setPosition();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEscape\", function (e) {\n      if (e.key === 'Escape') _this.closePopup();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"lockScroll\", function () {\n      var lockScroll = _this.props.lockScroll;\n      var modal = _this.state.modal;\n      if (modal && lockScroll)\n        /* eslint-disable-next-line no-undef */\n        document.getElementsByTagName('body')[0].style.overflow = 'hidden';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetScroll\", function () {\n      var lockScroll = _this.props.lockScroll;\n      var modal = _this.state.modal;\n      if (modal && lockScroll)\n        /* eslint-disable-next-line no-undef */\n        document.getElementsByTagName('body')[0].style.overflow = 'auto';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePopup\", function (e) {\n      // https://reactjs.org/docs/events.html#event-pooling\n      e.persist();\n      if (_this.state.isOpen) _this.closePopup(e);else _this.openPopup(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openPopup\", function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onOpen = _this$props.onOpen;\n      var isOpen = _this.state.isOpen;\n      if (isOpen || disabled) return;\n      onOpen(e);\n\n      _this.setState({\n        isOpen: true\n      }, function () {\n        _this.setPosition();\n\n        _this.lockScroll();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closePopup\", function (e) {\n      var onClose = _this.props.onClose;\n      var isOpen = _this.state.isOpen;\n      if (!isOpen) return;\n      onClose(e);\n\n      _this.setState({\n        isOpen: false\n      }, function () {\n        _this.resetScroll();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function () {\n      clearTimeout(_this.timeOut);\n      var mouseEnterDelay = _this.props.mouseEnterDelay;\n      _this.timeOut = setTimeout(function () {\n        return _this.openPopup();\n      }, mouseEnterDelay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function () {\n      clearTimeout(_this.timeOut);\n      var mouseLeaveDelay = _this.props.mouseLeaveDelay;\n      _this.timeOut = setTimeout(function () {\n        return _this.closePopup();\n      }, mouseLeaveDelay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTooltipBoundary\", function () {\n      var keepTooltipInside = _this.props.keepTooltipInside;\n      var boundingBox = {\n        top: 0,\n        left: 0,\n\n        /* eslint-disable-next-line no-undef */\n        width: window.innerWidth,\n\n        /* eslint-disable-next-line no-undef */\n        height: window.innerHeight\n      };\n\n      if (typeof keepTooltipInside === 'string') {\n        /* eslint-disable-next-line no-undef */\n        var selector = document.querySelector(keepTooltipInside);\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (selector === null) throw new Error(\"\".concat(keepTooltipInside, \" selector is not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\"));\n        }\n\n        boundingBox = selector.getBoundingClientRect();\n      }\n\n      return boundingBox;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPosition\", function () {\n      var _this$state = _this.state,\n          modal = _this$state.modal,\n          isOpen = _this$state.isOpen;\n      if (modal || !isOpen) return;\n      var _this$props2 = _this.props,\n          arrow = _this$props2.arrow,\n          position = _this$props2.position,\n          offsetX = _this$props2.offsetX,\n          offsetY = _this$props2.offsetY,\n          keepTooltipInside = _this$props2.keepTooltipInside,\n          arrowStyle = _this$props2.arrowStyle,\n          className = _this$props2.className;\n\n      var helper = _this.HelperEl.getBoundingClientRect();\n\n      var trigger = _this.TriggerEl.getBoundingClientRect();\n\n      var content = _this.ContentEl.getBoundingClientRect();\n\n      var boundingBox = _this.getTooltipBoundary();\n\n      var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n      if (keepTooltipInside || Array.isArray(position)) positions = [].concat(_toConsumableArray(positions), POSITION_TYPES);\n      var cords = calculatePosition(trigger, content, positions, arrow, {\n        offsetX: offsetX,\n        offsetY: offsetY\n      }, boundingBox);\n      _this.ContentEl.style.top = \"\".concat(cords.top - helper.top, \"px\");\n      _this.ContentEl.style.left = \"\".concat(cords.left - helper.left, \"px\");\n\n      if (arrow) {\n        _this.ArrowEl.style.transform = cords.transform;\n        _this.ArrowEl.style['-ms-transform'] = cords.transform;\n        _this.ArrowEl.style['-webkit-transform'] = cords.transform;\n        _this.ArrowEl.style.top = arrowStyle.top || cords.arrowTop;\n        _this.ArrowEl.style.left = arrowStyle.left || cords.arrowLeft;\n\n        _this.ArrowEl.classList.add(\"popup-arrow\");\n\n        if (className !== '') {\n          _this.ArrowEl.classList.add(\"\".concat(className, \"-arrow\"));\n        }\n      }\n\n      if (\n      /* eslint-disable-next-line no-undef */\n      window.getComputedStyle(_this.TriggerEl, null).getPropertyValue('position') === 'static' ||\n      /* eslint-disable-next-line no-undef */\n      window.getComputedStyle(_this.TriggerEl, null).getPropertyValue('position') === '') _this.TriggerEl.style.position = 'relative';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addWarperAction\", function () {\n      var _this$props3 = _this.props,\n          contentStyle = _this$props3.contentStyle,\n          className = _this$props3.className,\n          on = _this$props3.on;\n      var modal = _this.state.modal;\n      var popupContentStyle = modal ? styles.popupContent.modal : styles.popupContent.tooltip;\n      var childrenElementProps = {\n        className: \"popup-content \".concat(className !== '' ? \"\".concat(className, \"-content\") : ''),\n        style: Object.assign({}, popupContentStyle, contentStyle),\n        ref: _this.setContentRef,\n        onClick: function onClick(e) {\n          e.stopPropagation();\n        }\n      };\n\n      if (!modal && on.indexOf('hover') >= 0) {\n        childrenElementProps.onMouseEnter = _this.onMouseEnter;\n        childrenElementProps.onMouseLeave = _this.onMouseLeave;\n      }\n\n      return childrenElementProps;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTrigger\", function () {\n      var triggerProps = {\n        key: 'T',\n        ref: _this.setTriggerRef\n      };\n      var _this$props4 = _this.props,\n          on = _this$props4.on,\n          trigger = _this$props4.trigger;\n      var isOpen = _this.state.isOpen;\n      var onAsArray = Array.isArray(on) ? on : [on];\n\n      for (var i = 0, len = onAsArray.length; i < len; i++) {\n        switch (onAsArray[i]) {\n          case 'click':\n            triggerProps.onClick = _this.togglePopup;\n            break;\n\n          case 'hover':\n            triggerProps.onMouseEnter = _this.onMouseEnter;\n            triggerProps.onMouseLeave = _this.onMouseLeave;\n            break;\n\n          case 'focus':\n            triggerProps.onFocus = _this.onMouseEnter;\n            break;\n\n          default:\n        }\n      }\n\n      if (typeof trigger === 'function') return !!trigger && React.cloneElement(trigger(isOpen), triggerProps);\n      return !!trigger && React.cloneElement(trigger, triggerProps);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderContent\", function () {\n      var _this$props5 = _this.props,\n          arrow = _this$props5.arrow,\n          arrowStyle = _this$props5.arrowStyle,\n          children = _this$props5.children;\n      var _this$state2 = _this.state,\n          modal = _this$state2.modal,\n          isOpen = _this$state2.isOpen;\n      return React.createElement(\"div\", _extends({}, _this.addWarperAction(), {\n        key: \"C\"\n      }), arrow && !modal && React.createElement(\"div\", {\n        ref: _this.setArrowRef,\n        style: Object.assign({}, styles.popupArrow, arrowStyle)\n      }), typeof children === 'function' ? children(_this.closePopup, isOpen) : children);\n    });\n\n    _this.setTriggerRef = function (r) {\n      return _this.TriggerEl = r;\n    };\n\n    _this.setContentRef = function (r) {\n      return _this.ContentEl = r;\n    };\n\n    _this.setArrowRef = function (r) {\n      return _this.ArrowEl = r;\n    };\n\n    _this.setHelperRef = function (r) {\n      return _this.HelperEl = r;\n    };\n\n    _this.timeOut = 0;\n    var open = props.open,\n        _modal = props.modal,\n        defaultOpen = props.defaultOpen,\n        _trigger = props.trigger;\n    _this.state = {\n      isOpen: open || defaultOpen,\n      modal: _modal ? true : !_trigger // we create this modal state because the popup can't be a tooltip if the trigger prop doesn't exist\n\n    };\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props6 = this.props,\n          closeOnEscape = _this$props6.closeOnEscape,\n          defaultOpen = _this$props6.defaultOpen,\n          repositionOnResize = _this$props6.repositionOnResize;\n      if (defaultOpen) this.setPosition();\n\n      if (closeOnEscape) {\n        /* eslint-disable-next-line no-undef */\n        window.addEventListener('keyup', this.onEscape);\n      }\n\n      if (repositionOnResize) {\n        /* eslint-disable-next-line no-undef */\n        window.addEventListener('resize', this.repositionOnResize);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props7 = this.props,\n          open = _this$props7.open,\n          disabled = _this$props7.disabled;\n      var isOpen = this.state.isOpen;\n\n      if (prevProps.open !== open) {\n        if (open) this.openPopup();else this.closePopup(undefined, true);\n      }\n\n      if (prevProps.disabled !== disabled && disabled && isOpen) {\n        this.closePopup();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // kill any function to execute if the component is unmounted\n      clearTimeout(this.timeOut);\n      var _this$props8 = this.props,\n          closeOnEscape = _this$props8.closeOnEscape,\n          repositionOnResize = _this$props8.repositionOnResize; // remove events listeners\n\n      if (closeOnEscape) {\n        /* eslint-disable-next-line no-undef */\n        window.removeEventListener('keyup', this.onEscape);\n      }\n\n      if (repositionOnResize) {\n        /* eslint-disable-next-line no-undef */\n        window.removeEventListener('resize', this.repositionOnResize);\n      }\n\n      this.resetScroll();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props9 = this.props,\n          overlayStyle = _this$props9.overlayStyle,\n          closeOnDocumentClick = _this$props9.closeOnDocumentClick,\n          className = _this$props9.className,\n          on = _this$props9.on,\n          trigger = _this$props9.trigger;\n      var _this$state3 = this.state,\n          modal = _this$state3.modal,\n          isOpen = _this$state3.isOpen;\n      var overlay = isOpen && !(on.indexOf('hover') >= 0);\n      var ovStyle = modal ? styles.overlay.modal : styles.overlay.tooltip;\n      return [this.renderTrigger(), isOpen && React.createElement(\"div\", {\n        key: \"H\",\n        style: {\n          position: 'absolute',\n          top: '0px',\n          left: '0px'\n        },\n        ref: this.setHelperRef\n      }), overlay && React.createElement(\"div\", {\n        key: \"O\",\n        className: \"popup-overlay \".concat(className !== '' ? \"\".concat(className, \"-overlay\") : ''),\n        style: Object.assign({}, ovStyle, overlayStyle),\n        onClick: closeOnDocumentClick ? this.closePopup : undefined\n      }, modal && this.renderContent()), isOpen && !modal && this.renderContent()];\n    }\n  }]);\n\n  return Popup;\n}(React.PureComponent);\n\n_defineProperty(Popup, \"defaultProps\", {\n  trigger: null,\n  onOpen: function onOpen() {},\n  onClose: function onClose() {},\n  defaultOpen: false,\n  open: false,\n  disabled: false,\n  closeOnDocumentClick: true,\n  repositionOnResize: true,\n  closeOnEscape: true,\n  on: ['click'],\n  contentStyle: {},\n  arrowStyle: {},\n  overlayStyle: {},\n  className: '',\n  position: 'bottom center',\n  modal: false,\n  lockScroll: false,\n  arrow: true,\n  offsetX: 0,\n  offsetY: 0,\n  mouseEnterDelay: 100,\n  mouseLeaveDelay: 100,\n  keepTooltipInside: false\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  var PropTypes = require('prop-types');\n\n  var TRIGGER_TYPES = ['hover', 'click', 'focus'];\n}\n\nexport default Popup;","import React from \"react\";\nimport { LocalizableProps, Locales, SimpleLocale, createLocalizer } from \"../lib/localize\";\nimport {\n\tPhrase,\n\tnormalizeQuery,\n\tNetspeak,\n\tNetspeakInvalidQueryError,\n\tNetspeakError,\n\tReadonlyNetspeakSearchResult,\n} from \"../lib/netspeak\";\nimport { optional, LoadingState, assertNever, delay, url } from \"../lib/util\";\nimport NetspeakExampleQueries from \"./netspeak-example-queries\";\nimport {\n\tCancelableCollection,\n\tnewCancelableCollection,\n\twasCanceled,\n\tCancelablePromise,\n\tignoreCanceled,\n} from \"../lib/cancelable-promise\";\nimport { NetspeakSearchBar } from \"./netspeak-search-bar\";\nimport NetspeakResultList, {\n\tPhraseState,\n\tPhraseCollectionStats,\n\tPhraseSnippetState,\n\tOnChangeFn,\n} from \"./netspeak-result-list\";\nimport LoadMoreButton from \"./load-more-button\";\nimport { DEFAULT_SNIPPETS, toLookaheadSnippetSupplier } from \"../lib/snippets\";\nimport \"./netspeak-search.scss\";\nimport { NetworkError } from \"../lib/jsonp\";\nimport InfoImage from \"../img/i.svg\";\nimport ClearImage from \"../img/x.svg\";\nimport HistoryImage from \"../img/history.svg\";\nimport TransparentButton from \"./transparent-button\";\nimport Popup from \"reactjs-popup\";\nimport NetspeakQueryText from \"./netspeak-query-text\";\nimport { QueryHistory } from \"../lib/query-history\";\n\nexport type ExampleVisibility = \"visible\" | \"hidden\" | \"peek\";\n\ninterface Props extends LocalizableProps {\n\tdefaultQuery?: string;\n\tcorpus: string;\n\tonCommitQuery?: (query: string, corpus: string) => void;\n\n\thistory?: QueryHistory;\n\n\tdefaultExampleVisibility?: ExampleVisibility;\n\tonSetExampleVisibility?: (value: ExampleVisibility) => void;\n\n\tpageSize?: number;\n\n\tautoFocus?: boolean;\n}\ninterface State {\n\tquery: string;\n\tnormalizedQuery: NormalizedQuery;\n\tloadingState: LoadingState;\n\n\texamplesVisibility: ExampleVisibility;\n\n\tphrases: readonly PhraseState[];\n\tphrasesStats: PhraseCollectionStats;\n\n\tproblems: readonly Problem[];\n}\n\ntype Problem = UnknownWordProblem | NetworkingProblem | NetspeakProblem | UnknownProblem;\ntype UnknownWordProblem = Readonly<{ type: \"UnknownWord\"; word: string }>;\ntype UnknownProblem = Readonly<{ type: \"Unknown\"; details: string }>;\ntype NetworkingProblem = Readonly<{ type: \"ServerUnreachable\" }> | Readonly<{ type: \"NoConnection\" }>;\ntype NetspeakProblem =\n\t| Readonly<{ type: \"NetspeakServer\"; details: string }>\n\t| Readonly<{ type: \"InvalidQuery\"; details: string }>;\n\ntype NormalizedQuery = string;\n\nconst DEFAULT_PAGE_SIZE = 20;\n\nexport class NetspeakSearch extends React.PureComponent<Props, State> {\n\tprivate cancelable: CancelableCollection = newCancelableCollection();\n\tprivate _delayErrorPromise: CancelablePromise<void> | undefined;\n\tprivate _delayCommitPromise: CancelablePromise<void> | undefined;\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tquery: props.defaultQuery || \"\",\n\t\t\tnormalizedQuery: normalizeQuery(props.defaultQuery),\n\t\t\tloadingState: LoadingState.EXHAUSTED,\n\n\t\t\texamplesVisibility: props.defaultExampleVisibility || \"peek\",\n\n\t\t\tphrases: [],\n\t\t\tphrasesStats: EMPTY_STATS,\n\n\t\t\tproblems: [],\n\t\t};\n\t}\n\n\tcomponentDidMount(): void {\n\t\tthis._queryPhrases(this.state.normalizedQuery);\n\t}\n\tcomponentWillUnmount(): void {\n\t\tthis.cancelable.cancel();\n\t}\n\n\tprivate _setExampleVisibility(visibility: ExampleVisibility): void {\n\t\tthis.setState({ examplesVisibility: visibility });\n\t\tthis.props.onSetExampleVisibility?.(visibility);\n\t}\n\n\tprivate _commit(query: string): void {\n\t\tthis.props.onCommitQuery?.(query, this.props.corpus);\n\t}\n\tprivate _setQuery(query: string, commit: boolean): void {\n\t\tthis._delayErrorPromise?.cancel();\n\t\tthis._delayCommitPromise?.cancel();\n\n\t\tconst normalizedQuery = normalizeQuery(query);\n\t\tconst changed = normalizedQuery !== this.state.normalizedQuery;\n\n\t\tthis.setState({ query, normalizedQuery });\n\t\tif (changed) {\n\t\t\tthis._queryPhrases(normalizedQuery);\n\t\t}\n\n\t\tif (commit) {\n\t\t\t// commit right away\n\t\t\tthis._commit(query);\n\t\t} else if (changed) {\n\t\t\t// wait to see whether the user changes the query again\n\t\t\tthis._delayCommitPromise = this.cancelable(delay(1000));\n\t\t\tthis._delayCommitPromise.then(() => {\n\t\t\t\tthis._commit(query);\n\t\t\t}, ignoreCanceled);\n\t\t}\n\t}\n\tprivate _queryPhrases(normalizedQuery: NormalizedQuery): void {\n\t\tif (!normalizedQuery) {\n\t\t\t// empty query\n\t\t\tthis.setState({ loadingState: LoadingState.EXHAUSTED });\n\t\t\tthis._clearPhrases(false);\n\t\t} else {\n\t\t\tthis.setState({ loadingState: LoadingState.LOADING });\n\n\t\t\tconst promise = this.cancelable(\n\t\t\t\tNetspeak.instance.search({\n\t\t\t\t\tquery: normalizedQuery,\n\t\t\t\t\tcorpus: this.props.corpus,\n\t\t\t\t\ttopk: this.props.pageSize || DEFAULT_PAGE_SIZE,\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._handleSearchPromise(normalizedQuery, promise);\n\t\t}\n\t}\n\tprivate _queryMorePhrases = (): void => {\n\t\tconst normalizedQuery = this.state.normalizedQuery;\n\t\t// current phrases = all phrases - phrases pinned from other queries\n\t\tconst currentPhrases = this.state.phrases.filter(p => p.phrase.query === normalizedQuery);\n\n\t\tif (currentPhrases.length === 0) {\n\t\t\tthrow new Error('Cannot query \"more\" phrases if there weren\\'t any to begin with.');\n\t\t}\n\n\t\tconst minFreq = currentPhrases[currentPhrases.length - 1].phrase.frequency;\n\n\t\tthis.setState({ loadingState: LoadingState.LOADING });\n\n\t\tconst promise = this.cancelable(\n\t\t\tNetspeak.instance.search(\n\t\t\t\t{\n\t\t\t\t\tquery: normalizedQuery,\n\t\t\t\t\tcorpus: this.props.corpus,\n\t\t\t\t\ttopk: this.props.pageSize || DEFAULT_PAGE_SIZE,\n\t\t\t\t\tmaxfreq: minFreq,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcheckComplete: true,\n\t\t\t\t\ttopkMode: \"fill\",\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tthis._handleSearchPromise(normalizedQuery, promise);\n\t};\n\tprivate _handleSearchPromise(\n\t\tnormalizedQuery: NormalizedQuery,\n\t\tpromise: CancelablePromise<ReadonlyNetspeakSearchResult>\n\t): void {\n\t\tthis._delayErrorPromise?.cancel();\n\n\t\tpromise.then(\n\t\t\tresult => {\n\t\t\t\tthis._delayErrorPromise?.cancel();\n\t\t\t\t// success\n\n\t\t\t\tif (this.state.normalizedQuery !== normalizedQuery) {\n\t\t\t\t\t// too late\n\t\t\t\t} else {\n\t\t\t\t\t// append all queried phrases\n\t\t\t\t\tthis._mergePhrases(normalizedQuery, result.phrases);\n\t\t\t\t\t// set the loading state\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloadingState:\n\t\t\t\t\t\t\tresult.complete || result.phrases.length === 0\n\t\t\t\t\t\t\t\t? LoadingState.EXHAUSTED\n\t\t\t\t\t\t\t\t: LoadingState.MORE_AVAILABLE,\n\t\t\t\t\t\tproblems: result.unknownWords.map<Problem>(word => ({ type: \"UnknownWord\", word })),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\treason => {\n\t\t\t\tthis._delayErrorPromise?.cancel();\n\t\t\t\t// error\n\n\t\t\t\tif (wasCanceled(reason) || this.state.normalizedQuery !== normalizedQuery) {\n\t\t\t\t\t// ignore\n\t\t\t\t} else {\n\t\t\t\t\t(this._delayErrorPromise = this.cancelable(delay(1000))).then(() => {\n\t\t\t\t\t\tif (this.state.normalizedQuery === normalizedQuery) {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tloadingState: LoadingState.EXHAUSTED,\n\t\t\t\t\t\t\t\tproblems: [this._reasonToProblem(reason)],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, ignoreCanceled);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\tprivate _reasonToProblem(reason: any): Problem {\n\t\tif (reason instanceof NetworkError) {\n\t\t\tif (navigator.onLine) {\n\t\t\t\treturn { type: \"ServerUnreachable\" };\n\t\t\t} else {\n\t\t\t\treturn { type: \"NoConnection\" };\n\t\t\t}\n\t\t} else if (reason instanceof NetspeakInvalidQueryError) {\n\t\t\treturn {\n\t\t\t\ttype: \"InvalidQuery\",\n\t\t\t\tdetails: reason.message,\n\t\t\t};\n\t\t} else if (reason instanceof NetspeakError) {\n\t\t\treturn {\n\t\t\t\ttype: \"NetspeakServer\",\n\t\t\t\tdetails: reason.message,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: \"Unknown\",\n\t\t\t\tdetails: String(reason),\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate _clearPhrases(clearPinned: boolean): void {\n\t\tif (clearPinned) {\n\t\t\tthis.setState({\n\t\t\t\tphrases: [],\n\t\t\t\tphrasesStats: EMPTY_STATS,\n\t\t\t});\n\t\t} else {\n\t\t\tconst newPhrases = this.state.phrases.filter(p => p.pinned);\n\t\t\tif (newPhrases.length !== this.state.phrases.length) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tphrases: newPhrases,\n\t\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tprivate _mergePhrases(normalizedQuery: NormalizedQuery, phrases: Iterable<Phrase>): void {\n\t\tconst newPhrases = this.state.phrases.filter(p => p.pinned || p.phrase.query === normalizedQuery);\n\t\tconst textSet = new Set<string>(newPhrases.map(p => p.phrase.text));\n\t\tlet numberOfNewPhrases = 0;\n\n\t\tfor (const phrase of phrases) {\n\t\t\tif (!textSet.has(phrase.text)) {\n\t\t\t\ttextSet.add(phrase.text);\n\t\t\t\tnumberOfNewPhrases++;\n\t\t\t\tnewPhrases.push(\n\t\t\t\t\tnew PhraseState(\n\t\t\t\t\t\tphrase,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tnew PhraseSnippetState(toLookaheadSnippetSupplier(DEFAULT_SNIPPETS.getSupplier(phrase.text)))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (numberOfNewPhrases > 0) {\n\t\t\t// set state to reflect new phrases\n\t\t\tnewPhrases.sort((a, b) => b.phrase.frequency - a.phrase.frequency);\n\t\t\tthis.setState({\n\t\t\t\tphrases: newPhrases,\n\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t});\n\t\t} else if (newPhrases.length !== this.state.phrases.length) {\n\t\t\t// no new phrases but some old ones have been removed\n\t\t\tthis.setState({\n\t\t\t\tphrases: newPhrases,\n\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _splitProblems(): Record<\"warnings\" | \"errors\", Problem[]> {\n\t\tconst warnings: Problem[] = [];\n\t\tconst errors: Problem[] = [];\n\t\tthis.state.problems.forEach(p => {\n\t\t\tif (p.type === \"UnknownWord\") {\n\t\t\t\twarnings.push(p);\n\t\t\t} else {\n\t\t\t\terrors.push(p);\n\t\t\t}\n\t\t});\n\n\t\treturn { warnings, errors };\n\t}\n\n\tprivate _onSearchBarQueryEnterHandler = (query: string): void => {\n\t\tthis._setQuery(query, false);\n\t};\n\tprivate _onExampleQueryClickHandler = (query: string): void => {\n\t\tif (this.state.examplesVisibility === \"peek\") {\n\t\t\tthis._setExampleVisibility(\"visible\");\n\t\t}\n\n\t\tthis._setQuery(query, true);\n\t};\n\tprivate _onPhraseChange: OnChangeFn = (phrase, change) => {\n\t\tconst phrases = this.state.phrases;\n\t\tconst index = phrases.findIndex(p => p.phrase === phrase);\n\t\tconst phraseState = phrases[index];\n\t\tconst newPhraseState = change(phraseState);\n\t\tif (newPhraseState !== phraseState) {\n\t\t\tconst newPhrases: readonly PhraseState[] = [\n\t\t\t\t...phrases.slice(0, index),\n\t\t\t\tnewPhraseState,\n\t\t\t\t...phrases.slice(index + 1),\n\t\t\t];\n\t\t\tthis.setState({\n\t\t\t\tphrases: newPhrases,\n\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t});\n\t\t}\n\t};\n\tprivate _onExampleButtonClick = (): void => {\n\t\t// toggle visibility\n\t\tthis._setExampleVisibility(this._areExamplesVisible() ? \"hidden\" : \"visible\");\n\t};\n\tprivate _onClearButtonClick = (): void => {\n\t\tthis._setQuery(\"\", true);\n\t\tthis._clearPhrases(true);\n\t};\n\n\tprivate _renderHistoryPopup(): JSX.Element {\n\t\tconst l = createLocalizer(this.props, locales);\n\n\t\treturn (\n\t\t\t<Popup\n\t\t\t\ttrigger={\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<TransparentButton image={url(HistoryImage)} />\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tcloseOnDocumentClick\n\t\t\t\tcloseOnEscape>\n\t\t\t\t{close => (\n\t\t\t\t\t<div className=\"history-wrapper\">\n\t\t\t\t\t\t{optional((this.props.history?.items.length ?? 0) === 0, () => (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<em>{l(\"noHistory\")}</em>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{this.props.history?.items.map(query => {\n\t\t\t\t\t\t\tconst onClick = (): void => {\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t\tthis._setQuery(query, true);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button key={query} onClick={onClick}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<NetspeakQueryText query={query} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Popup>\n\t\t);\n\t}\n\n\tprivate _areExamplesVisible(): boolean {\n\t\treturn (\n\t\t\tthis.state.examplesVisibility === \"visible\" ||\n\t\t\t(this.state.examplesVisibility === \"peek\" && this.state.normalizedQuery === \"\")\n\t\t);\n\t}\n\n\trender(): JSX.Element {\n\t\tconst l = createLocalizer(this.props, locales);\n\t\tconst { warnings, errors } = this._splitProblems();\n\n\t\treturn (\n\t\t\t<div className=\"NetspeakSearch\">\n\t\t\t\t<div className=\"wrapper search-bar-wrapper\">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<NetspeakSearchBar\n\t\t\t\t\t\t\t\t\t\tquery={this.state.query}\n\t\t\t\t\t\t\t\t\t\tonQueryEnter={this._onSearchBarQueryEnterHandler}\n\t\t\t\t\t\t\t\t\t\tautoFocus={this.props.autoFocus}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<TransparentButton\n\t\t\t\t\t\t\t\t\t\timage={url(InfoImage)}\n\t\t\t\t\t\t\t\t\t\tselected={this._areExamplesVisible()}\n\t\t\t\t\t\t\t\t\t\tonClick={this._onExampleButtonClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<TransparentButton image={url(ClearImage)} onClick={this._onClearButtonClick} />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{optional(!!this.props.history, () => (\n\t\t\t\t\t\t\t\t\t<td>{this._renderHistoryPopup()}</td>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\n\t\t\t\t{optional(warnings.length > 0, () => (\n\t\t\t\t\t<div className=\"wrapper warnings-wrapper\">\n\t\t\t\t\t\t<div style={{ display: \"table\", width: \"100%\" }}>\n\t\t\t\t\t\t\t{warnings.map((p, i) => (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<ProblemInner key={i} lang={this.props.lang} problem={p} />\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{optional(errors.length > 0, () => (\n\t\t\t\t\t<div className=\"wrapper errors-wrapper\">\n\t\t\t\t\t\t<div style={{ display: \"table\", width: \"100%\" }}>\n\t\t\t\t\t\t\t{errors.map((p, i) => (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<ProblemInner key={i} lang={this.props.lang} problem={p} />\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{optional(this._areExamplesVisible(), () => (\n\t\t\t\t\t<div className=\"wrapper examples-wrapper\">\n\t\t\t\t\t\t<NetspeakExampleQueries\n\t\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\t\tcorpus={this.props.corpus}\n\t\t\t\t\t\t\tonQueryClicked={this._onExampleQueryClickHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{optional(this.state.phrases.length > 0, () => (\n\t\t\t\t\t<div className=\"wrapper result-list-wrapper\">\n\t\t\t\t\t\t<NetspeakResultList\n\t\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\t\tphrases={this.state.phrases}\n\t\t\t\t\t\t\tstats={this.state.phrasesStats}\n\t\t\t\t\t\t\tonChange={this._onPhraseChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{optional(\n\t\t\t\t\t!!this.state.normalizedQuery &&\n\t\t\t\t\t\tthis.state.phrases.length === 0 &&\n\t\t\t\t\t\tthis.state.loadingState === LoadingState.EXHAUSTED,\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<div className=\"wrapper no-phrases-wrapper\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<em>{l(\"noPhrasesFound\")}</em>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t)}\n\n\t\t\t\t{optional(this.state.loadingState !== LoadingState.EXHAUSTED, () => (\n\t\t\t\t\t<div className=\"wrapper load-more-wrapper\">\n\t\t\t\t\t\t<LoadMoreButton\n\t\t\t\t\t\t\tloading={this.state.loadingState === LoadingState.LOADING}\n\t\t\t\t\t\t\tonClick={this._queryMorePhrases}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction ProblemInner(props: { problem: Problem } & LocalizableProps): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\tconst { problem } = props;\n\n\tfunction withDetails(text: string): JSX.Element {\n\t\treturn (\n\t\t\t<details>\n\t\t\t\t<summary>{l(\"details\")}</summary>\n\t\t\t\t<p>{text}</p>\n\t\t\t</details>\n\t\t);\n\t}\n\n\tswitch (problem.type) {\n\t\tcase \"UnknownWord\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"unknownWord\")}\n\t\t\t\t\t{\": \"}\n\t\t\t\t\t<em>{problem.word}</em>\n\t\t\t\t</>\n\t\t\t);\n\n\t\tcase \"NoConnection\":\n\t\t\treturn <>{l(\"noConnectionError\")}</>;\n\t\tcase \"ServerUnreachable\":\n\t\t\treturn <>{l(\"serverUnreachableError\")}</>;\n\n\t\tcase \"InvalidQuery\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"invalidQueryError\")}\n\t\t\t\t\t{withDetails(problem.details)}\n\t\t\t\t</>\n\t\t\t);\n\t\tcase \"NetspeakServer\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"netspeakError\")}\n\t\t\t\t\t{withDetails(problem.details)}\n\t\t\t\t</>\n\t\t\t);\n\n\t\tcase \"Unknown\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"unknownError\")}\n\t\t\t\t\t{withDetails(problem.details)}\n\t\t\t\t</>\n\t\t\t);\n\n\t\tdefault:\n\t\t\tthrow assertNever(problem);\n\t}\n}\n\nconst locales: Locales<SimpleLocale<\n\t| \"noPhrasesFound\"\n\t| \"noHistory\"\n\t| \"unknownWord\"\n\t| \"noConnectionError\"\n\t| \"serverUnreachableError\"\n\t| \"invalidQueryError\"\n\t| \"netspeakError\"\n\t| \"unknownError\"\n\t| \"details\"\n>> = {\n\ten: {\n\t\tnoPhrasesFound: \"No phrases found.\",\n\t\tnoHistory: \"No query history.\",\n\n\t\tunknownWord: \"Unknown word\",\n\n\t\tnoConnectionError:\n\t\t\t\"No response form the Netspeak server. Please make sure you have a stable internet connection.\",\n\t\tserverUnreachableError: \"The Netspeak server failed to respond. Please retry in a few minutes.\",\n\t\tinvalidQueryError: \"Your input is not a valid Netspeak query.\",\n\t\tnetspeakError: \"An error occurred in Netspeak.\",\n\t\tunknownError: \"Unknown error.\",\n\n\t\tdetails: \"Details\",\n\t},\n\tde: {\n\t\tnoPhrasesFound: \"Keine Phrasen gefunden.\",\n\t\tnoHistory: \"Keine vorherigen Abfragen.\",\n\n\t\tunknownWord: \"Unbekanntes Wort\",\n\n\t\tnoConnectionError:\n\t\t\t\"Keine Antwort vom Netspeak-Server. Bitte stellen Sie sicher, dass ihr Gerät mit dem Internet verbunden ist.\",\n\t\tserverUnreachableError: \"Keine Antwort vom Netspeak-Server. Bitte versuchen Sie es in ein paar Minuten erneut.\",\n\t\tinvalidQueryError: \"Ihre Eingabe ist keine valide Netspeak-Abfrage.\",\n\t\tnetspeakError: \"Es ist ein Fehler in Netspeak aufgetreten.\",\n\t\tunknownError: \"Unbekannter Fehler.\",\n\n\t\tdetails: \"Details\",\n\t},\n};\n\nconst EMPTY_STATS: PhraseCollectionStats = {\n\tfrequencyMax: 0,\n\tfrequencySum: 0,\n};\nfunction getStats(phrases: readonly PhraseState[]): PhraseCollectionStats {\n\tlet max = 0;\n\tlet sum = 0;\n\n\tfor (const { phrase } of phrases) {\n\t\tmax = Math.max(max, phrase.frequency);\n\t\tsum += phrase.frequency;\n\t}\n\n\tif (sum === 0) {\n\t\treturn EMPTY_STATS;\n\t} else {\n\t\treturn {\n\t\t\tfrequencyMax: max,\n\t\t\tfrequencySum: sum,\n\t\t};\n\t}\n}\n","import React from \"react\";\nimport \"./netspeak-header.scss\";\nimport { Locales, SimpleLocale, createLocalizer, LocalizableProps } from \"../lib/localize\";\nimport { Link } from \"gatsby\";\n\nexport default function NetspeakHeader(props: LocalizableProps): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\n\treturn (\n\t\t<div className=\"NetspeakHeader\">\n\t\t\t<div className=\"content\">\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<span className=\"logo\"></span>\n\t\t\t\t</Link>\n\t\t\t\t<span className=\"slogan\">{l(\"slogan\")}</span>\n\t\t\t\t<div style={{ clear: \"both\" }}></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst locales: Locales<SimpleLocale<\"slogan\">> = {\n\ten: {\n\t\tslogan: \"One word leads to another.\",\n\t},\n\tde: {\n\t\tslogan: \"Ein Wort ergibt das andere.\",\n\t},\n};\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./netspeak-footer.scss\";\nimport {\n\tLocalizableProps,\n\tLocales,\n\tSimpleLocale,\n\tcreateLocalizer,\n\tSupportedLanguage,\n\tsetCurrentLang,\n} from \"../lib/localize\";\n\nexport default function NetspeakFooter(props: LocalizableProps): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\n\treturn (\n\t\t<div className=\"NetspeakFooter\">\n\t\t\t<div>\n\t\t\t\t<div id=\"webis-copyright\">\n\t\t\t\t\t{\"\\xA9 2019 \"}\n\t\t\t\t\t<a href=\"https://webis.de\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\tWebis Group\n\t\t\t\t\t</a>\n\t\t\t\t\t<Bullet />\n\t\t\t\t\t<a href=\"https://webis.de/people.html\" target=\"_blank\" rel=\"noopener noreferrer\" id=\"contact\">\n\t\t\t\t\t\t{l(\"contact\")}\n\t\t\t\t\t</a>\n\t\t\t\t\t<Bullet />\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://webis.de/impressum.html\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\tid=\"impressum-and-privacy\">\n\t\t\t\t\t\t{l(\"impressumAndPrivacy\")}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"netspeak-points\">\n\t\t\t\t\t<Link to=\"/help/\">{l(\"help\")}</Link>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"language-section\">\n\t\t\t\t\t<span className=\"pipe\">|</span>\n\t\t\t\t\t<LangSelect lang={props.lang} thisLang=\"de\">\n\t\t\t\t\t\tDeutsch\n\t\t\t\t\t</LangSelect>\n\t\t\t\t\t<Bullet />\n\t\t\t\t\t<LangSelect lang={props.lang} thisLang=\"en\">\n\t\t\t\t\t\tEnglish\n\t\t\t\t\t</LangSelect>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div style={{ clear: \"both\" }}></div>\n\t\t</div>\n\t);\n}\n\nconst locales: Locales<SimpleLocale<\"help\" | \"contact\" | \"impressumAndPrivacy\">> = {\n\ten: {\n\t\thelp: \"Help\",\n\t\tcontact: \"Contact\",\n\t\timpressumAndPrivacy: \"Impressum\\u00A0/\\u00A0Terms\\u00A0/\\u00A0Privacy\",\n\t},\n\tde: {\n\t\thelp: \"Hilfe\",\n\t\tcontact: \"Kontakt\",\n\t\timpressumAndPrivacy: \"Impressum\\u00A0/\\u00A0AGB\\u00A0/\\u00A0Datenschutz\",\n\t},\n};\n\nfunction LangSelect(props: { lang: string; thisLang: SupportedLanguage; children: React.ReactNode }): JSX.Element {\n\tconst { lang, thisLang } = props;\n\n\tconst className = lang === thisLang ? \"current-lang\" : \"\";\n\tconst clickHandler = (): void => {\n\t\tsetCurrentLang(thisLang);\n\t\twindow.location.reload();\n\t};\n\t// eslint-disable-next-line jsx-a11y/anchor-is-valid\n\treturn (\n\t\t<a className={className} href=\"#\" onClick={clickHandler}>\n\t\t\t{props.children}\n\t\t</a>\n\t);\n}\n\nfunction Bullet(): JSX.Element {\n\treturn <span className=\"bullet\">{\"\\u2022\"}</span>;\n}\n","import React from \"react\";\nimport \"./page.scss\";\nimport NetspeakHeader from \"./netspeak-header\";\nimport NetspeakFooter from \"./netspeak-footer\";\nimport { LocalizableProps } from \"../lib/localize\";\n\nexport default function Page(props: { children: React.ReactNode; className: string } & LocalizableProps): JSX.Element {\n\treturn (\n\t\t<div id=\"Page\" className={props.className}>\n\t\t\t<NetspeakHeader lang={props.lang} />\n\t\t\t<div id=\"content\">{props.children}</div>\n\t\t\t<div className=\"footer-wrapper\">\n\t\t\t\t<NetspeakFooter lang={props.lang} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0iIzc3NyIgZD0iTTEuOCAxNC44Yy0uMi0uMi0uMy0uNC0uMy0uNiAwLS4xLjQtLjguOC0xLjQuNC0uNiAxLjEtMS41IDEuNS0yIC40LS41LjgtLjkuOS0uOS4yIDAgMS42IDEuMiAxLjYgMS40IDAgLjEtLjggMS0xLjggMi0xLjkgMi0yLjIgMi4xLTIuNyAxLjV6bTcuNS0yLjNjLTMtMi41LTMuNy0zLjEtNS41LTQuNi0xLS45LTEuOS0xLjctMi0xLjgtLjEtLjMuMi0uNi44LS43IDEuNC0uMiAzLjItLjUgMy41LS41LjQgMCAuOC0uNCAyLjctMi42LjctLjggMS40LTEuNiAxLjUtMS42LjEtLjEuNS0uMS43LS4xLjQgMCAuNy4xIDEuNyAxIDEuMyAxLjEgMS44IDEuNiAxLjggMi4xIDAgLjYtLjEuOC0yLjMgMy4yLTEuNCAxLjYtMS4zIDEuNC0xLjIgMy44LjIgMy4xIDAgMy4zLTEuOCAxLjh6Ii8+Cjwvc3ZnPg==\"","import React from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport favicon from \"../img/favicon.ico\";\n\nconst gaScript = `\nvar _gaq = _gaq || [];\n_gaq.push(['_setAccount', 'UA-19276564-1']);\n_gaq.push(['_setDomainName', 'none']);\n_gaq.push(['_setAllowLinker', true]);\n_gaq.push(['_trackPageview']);\n(function () {\n\tvar ga = document.createElement('script');\n\tga.type = 'text/javascript';\n\tga.async = true;\n\tga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n\tvar s = document.getElementsByTagName('script')[0];\n\ts.parentNode.insertBefore(ga, s);\n})();\n`;\n\nexport default function SharedHead(): JSX.Element {\n\treturn (\n\t\t<Helmet>\n\t\t\t<link rel=\"icon\" href={favicon} />\n\t\t\t<script>{gaScript}</script>\n\t\t</Helmet>\n\t);\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/**\n * Shuffles the given array.\n *\n * @param array\n */\nfunction shuffle<T>(array: T[]): void {\n\tlet j, x, i;\n\tfor (i = array.length - 1; i > 0; i--) {\n\t\tj = Math.floor(Math.random() * (i + 1));\n\t\tx = array[i];\n\t\tarray[i] = array[j];\n\t\tarray[j] = x;\n\t}\n}\n\n/**\n * Returns a random subset of the given values with `min(count, values.length)` elements.\n *\n * @param values\n * @param count\n * @returns\n */\nfunction randomValues<T>(values: readonly T[], count: number): T[] {\n\tif (values.length <= count) return values.slice(0);\n\tif (count === 1) return [values[Math.floor(Math.random() * values.length)]];\n\n\tconst copy = values.slice(0);\n\tshuffle(copy);\n\treturn copy.slice(0, count);\n}\n\n/**\n * A least recently used cache.\n */\nexport class LRUCache<V> {\n\tsize: number;\n\n\tprivate _length: number;\n\tprivate _head: CacheNode<string, V>;\n\tprivate _tail: CacheNode<string, V>;\n\tprivate _map: Record<string, CacheNode<string, V>> = {};\n\n\t/**\n\t * Creates an instance of LRUCache.\n\t *\n\t * @param size The maximum size of the cache.\n\t */\n\tconstructor(size = 100) {\n\t\tthis.size = size;\n\t\tthis._length = 0;\n\n\t\tthis._head = new CacheNode<string, V>(null as any, null as any);\n\t\tthis._tail = new CacheNode<string, V>(null as any, null as any);\n\t\tthis._head.next = this._tail;\n\t\tthis._tail.prev = this._head;\n\t}\n\n\t/**\n\t * Adds a new element to the cache.\n\t *\n\t * @param key The key of the element.\n\t * @param obj The element.\n\t */\n\tadd(key: string, obj: V): void {\n\t\treturn this.addAll({ [key]: obj });\n\t}\n\t/**\n\t * Adds any number of key-value-pairs to the cache.\n\t *\n\t * @param map The collection of key-value-pairs.\n\t */\n\taddAll(map: Record<string, V>): void {\n\t\tlet keys = Object.keys(map);\n\t\tif (keys.length === 0) return;\n\t\tif (keys.length > this.size) keys = keys.slice(0, this.size);\n\n\t\tconst toRemove = keys.length + this._length - this.size;\n\t\tif (toRemove > 0) {\n\t\t\trandomValues(Object.keys(this._map), toRemove).forEach(key => {\n\t\t\t\tthis.remove(key);\n\t\t\t});\n\t\t}\n\n\t\tfor (const key of keys) {\n\t\t\tconst node = new CacheNode<string, V>(key, map[key]);\n\t\t\tthis._tail.insertBefore(node);\n\t\t\tthis._map[key] = node;\n\t\t\tthis._length++;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the cached value.\n\t *\n\t * @param key The key of the cached element.\n\t * @param defaultValue The default value.\n\t * @returns The cached element of the default value.\n\t */\n\tget(key: string, defaultValue: V): V;\n\tget(key: string, defaultValue?: V): V | undefined;\n\tget(key: string, defaultValue?: V): V | undefined {\n\t\tconst node = this._map[key];\n\t\tif (node) {\n\t\t\tnode.remove();\n\t\t\tthis._head.insertAfter(node);\n\t\t\treturn node.obj;\n\t\t} else {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n\t/**\n\t * Returns whether an element with the given key is cached.\n\t *\n\t * @param key The key of the cached element.\n\t * @returns\n\t */\n\tcontains(key: string): boolean {\n\t\treturn Boolean(this._map[key]);\n\t}\n\n\t/**\n\t * Removes the cached element with the given key.\n\t *\n\t * @param key The key of the cached element.\n\t * @returns Whether there was an element cached.\n\t */\n\tremove(key: string): boolean {\n\t\tconst node = this._map[key];\n\t\tif (!node) return false;\n\t\tthis._removeNode(node);\n\t\treturn true;\n\t}\n\n\t_removeNode(node: CacheNode<string, V>): void {\n\t\tthis._length--;\n\t\tdelete this._map[node.key];\n\t\tnode.remove();\n\t}\n}\n\n/**\n * A node used by the internal implementation of the LRU cache.\n */\nclass CacheNode<K, V> {\n\tkey: K;\n\tobj: V;\n\n\tprev: CacheNode<K, V> | undefined = undefined;\n\tnext: CacheNode<K, V> | undefined = undefined;\n\n\tconstructor(key: K, obj: V) {\n\t\tthis.key = key;\n\t\tthis.obj = obj;\n\t}\n\n\tremove(): void {\n\t\tthis.prev!.next = this.next;\n\t\tthis.next!.prev = this.prev;\n\t}\n\n\tinsertAfter(afterNode: CacheNode<K, V>): void {\n\t\tafterNode.next = this.next;\n\t\tafterNode.prev = this;\n\n\t\tthis.next!.prev = afterNode;\n\t\tthis.next = afterNode;\n\t}\n\tinsertBefore(beforeNode: CacheNode<K, V>): void {\n\t\treturn this.prev!.insertAfter(beforeNode);\n\t}\n}\n","import { jsonp } from \"./jsonp\";\nimport { LRUCache } from \"./lru-cache\";\nimport { constructQueryParams, noop } from \"./util\";\n\n/**\n * Normalizes the given query such that two identical queries have the same string representation.\n */\nexport function normalizeQuery(query: string | undefined | null): string {\n\t// special values\n\tif (!query) return \"\";\n\n\t// normalize white spaces\n\treturn query.replace(/[\\s\\uFEFF\\xA0]+/g, \" \").trim();\n}\n\nexport interface Corpus {\n\t/** The unique key (or id) of the corpus. */\n\tkey: string;\n\t/** The english name of the corpus. */\n\tname: string;\n\t/** The ISO 639-1 name of the language of the corpus. Only available for Netspeak >= 4. */\n\tlanguage?: string;\n}\nexport interface CorporaInfo {\n\t/** The key of the default corpus. */\n\tdefault: string | undefined;\n\tcorpora: Corpus[];\n}\nexport interface NetspeakSearchRequest {\n\tquery: string;\n\tcorpus?: string;\n\tformat?: \"json\";\n\tmaxfreq?: number;\n\tmaxregexmatches?: number;\n\tnmax?: number;\n\tnmin?: number;\n\ttopk?: number;\n}\nexport interface NetspeakSearchOptions {\n\t/**\n\t * Whether the completeness of the resulting phrases should be explicitly checked. This cannot be done if `topk` is set to its maximum allowed value.\n\t */\n\tcheckComplete?: boolean;\n\t/**\n\t * If the top-k mode is `\"fill\"`, then the API will guarantee that there are no further phrases if less than k phrases were returned. The fill mode requires that `request.topk` is set and that `options.outputType` is not `\"raw\"`. This might result in multiple request being made.\n\t */\n\ttopkMode?: \"default\" | \"fill\";\n}\n\nexport interface ReadonlyNetspeakSearchResult {\n\t/** The phrases returned by the API. */\n\treadonly phrases: readonly Phrase[];\n\treadonly complete?: boolean | undefined;\n\t/** A list of unknown words returned by the API. */\n\treadonly unknownWords: readonly string[];\n}\nexport interface NetspeakSearchResult extends ReadonlyNetspeakSearchResult {\n\tphrases: Phrase[];\n\tcomplete?: boolean | undefined;\n\tunknownWords: string[];\n}\n\nexport class Netspeak {\n\tbaseUrl = Netspeak.defaultBaseUrl;\n\tdefaultCorpus = Netspeak.defaultCorpus;\n\tcorpusCaching = true;\n\n\tprivate _cache = new LRUCache<Promise<ReadonlyNetspeakSearchResult>>(100);\n\tprivate _cachedCorpus: Promise<Readonly<CorporaInfo>> | undefined = undefined;\n\n\t/**\n\t * Queries phrases from the Netspeak API using the given request.\n\t *\n\t * The returned phrase array will also have an optional `complete` property.\n\t * It indicates whether the phrase array is complete, so that no additional phrases can be obtained by increasing `topk` or deceasing `maxfreq`.\n\t * If the value is not set or `undefined`, it is not certain whether there are still phrases matching the query.\n\t *\n\t * @param request A request specifying the the options of the Netspeak API.\n\t * @param options\n\t */\n\tsearch(\n\t\trequest: Readonly<NetspeakSearchRequest>,\n\t\toptions?: Readonly<NetspeakSearchOptions>\n\t): Promise<ReadonlyNetspeakSearchResult> {\n\t\t// fill mode\n\t\tif (options?.topkMode === \"fill\") {\n\t\t\treturn this._fillSearch(request, { ...options });\n\t\t} else {\n\t\t\tconst key = JSON.stringify(request);\n\t\t\tconst cached = this._cache.get(key);\n\t\t\tif (cached !== undefined) {\n\t\t\t\treturn cached;\n\t\t\t} else {\n\t\t\t\tconst uncached = this._uncachedSearch(request);\n\t\t\t\tuncached.then(res => {\n\t\t\t\t\t// only cache successful responses\n\t\t\t\t\tthis._cache.add(key, Promise.resolve(res));\n\t\t\t\t}, noop);\n\t\t\t\treturn uncached;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _uncachedSearch(request: Readonly<NetspeakSearchRequest>): Promise<ReadonlyNetspeakSearchResult> {\n\t\ttry {\n\t\t\t// copy request\n\t\t\tconst req = { ...request };\n\n\t\t\t// configure request\n\t\t\treq.format = \"json\";\n\t\t\tif (!req.corpus) {\n\t\t\t\treq.corpus = this.defaultCorpus;\n\t\t\t}\n\t\t\t// TODO: proper handling of lower-case indexes\n\t\t\tif (req.corpus === \"web-en\") {\n\t\t\t\treq.query = req.query.toLowerCase();\n\t\t\t}\n\n\t\t\t// get URL\n\t\t\tconst url = this.baseUrl + \"search\" + constructQueryParams(req);\n\n\t\t\treturn jsonp<any>(url).then(json => {\n\t\t\t\tconst query = req.query;\n\t\t\t\tconst corpus = req.corpus!;\n\n\t\t\t\t// for information on how the JSON object is structured see www.netspeak.org\n\n\t\t\t\tconst errorCode = json[\"9\"];\n\t\t\t\tif (errorCode) {\n\t\t\t\t\t// json[\"9\"]:  error code for any value != 0\n\t\t\t\t\t// json[\"10\"]: error message\n\t\t\t\t\tconst errorMessage = json[\"10\"];\n\t\t\t\t\tif (errorCode === 1) {\n\t\t\t\t\t\tthrow new NetspeakInvalidQueryError(errorMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new NetspeakError(errorCode, errorMessage);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// json[\"4\"]: [ // array of phrases\n\t\t\t\t//     {\n\t\t\t\t//         \"1\": internal id (int),\n\t\t\t\t//         \"2\": absolute frequency (int),\n\t\t\t\t//         \"3\": [ // array of words\n\t\t\t\t//             {\n\t\t\t\t//                 \"1\": type of word (int),\n\t\t\t\t//                 \"2\": the word (string)\n\t\t\t\t//             }, ...\n\t\t\t\t//         ]\n\t\t\t\t//     }, ...\n\t\t\t\t// ];\n\t\t\t\tconst rawPhrases: {\n\t\t\t\t\t\"1\": number;\n\t\t\t\t\t\"2\": number;\n\t\t\t\t\t\"3\": { \"1\": number; \"2\": string }[];\n\t\t\t\t}[] = json[\"4\"] || [];\n\n\t\t\t\tconst phrases = rawPhrases.map(phrase => {\n\t\t\t\t\tconst words = phrase[\"3\"].map(w => new Word(w[\"2\"], w[\"1\"]));\n\t\t\t\t\treturn new Phrase(words, phrase[\"2\"], query, corpus);\n\t\t\t\t});\n\n\t\t\t\tconst unknownWords: string[] = json[\"5\"] || [];\n\n\t\t\t\treturn {\n\t\t\t\t\tphrases,\n\t\t\t\t\tunknownWords,\n\t\t\t\t};\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t/**\n\t * Queries phrases from the Netspeak API using the given request.\n\t *\n\t * This version of search guarantees that if not request.topk phrases are returned that there are no further phrases.\n\t *\n\t * To guarantees this, there might be as much as request.topk requests to the Netspeak API.\n\t *\n\t * @private\n\t * @param request A request specifying the the options of the Netspeak API.\n\t * @param options\n\t * @returns\n\t */\n\tprivate _fillSearch(\n\t\trequest: Readonly<NetspeakSearchRequest>,\n\t\toptions: NetspeakSearchOptions\n\t): Promise<NetspeakSearchResult> {\n\t\t// copy request\n\t\tconst req = { ...request };\n\n\t\ttry {\n\t\t\t// check topk\n\t\t\tif (typeof req.topk !== \"number\") {\n\t\t\t\tthrow new TypeError(\"request.topk has to be a number.\");\n\t\t\t}\n\n\t\t\t// prepare\n\t\t\tdelete options.topkMode;\n\n\t\t\tconst goal = req.topk;\n\n\t\t\tconst result: NetspeakSearchResult & { complete: boolean } = {\n\t\t\t\tphrases: [],\n\t\t\t\tcomplete: false,\n\t\t\t\tunknownWords: [],\n\t\t\t};\n\t\t\tconst unknownWordsSet: Record<string, true> = {};\n\n\t\t\t/**\n\t\t\t * A \"recursive\" function to continue loading phrases until a certain number of phases has been loaded or\n\t\t\t * there are no more phrases left.\n\t\t\t */\n\t\t\tconst fill = (): Promise<NetspeakSearchResult & { complete: boolean }> => {\n\t\t\t\treq.topk = goal - result.phrases.length + 1; // + 1 to check for completeness\n\n\t\t\t\treturn this.search(req, options).then(({ phrases, unknownWords }) => {\n\t\t\t\t\t// append new phrases\n\t\t\t\t\tresult.phrases.push(...phrases);\n\n\t\t\t\t\t// add new unknown words\n\t\t\t\t\tunknownWords.forEach(word => {\n\t\t\t\t\t\tif (!unknownWordsSet[word]) {\n\t\t\t\t\t\t\tunknownWordsSet[word] = true;\n\t\t\t\t\t\t\tresult.unknownWords.push(word);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// no new phrases\n\t\t\t\t\tif (phrases.length === 0) {\n\t\t\t\t\t\tresult.complete = true;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t\t// queried more than necessary -> done & incomplete\n\t\t\t\t\tif (result.phrases.length > goal) {\n\t\t\t\t\t\tresult.complete = false;\n\t\t\t\t\t\tresult.phrases.splice(goal, goal - result.phrases.length);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t\t// there are still phrases left to query\n\n\t\t\t\t\t// adjust maxFreq\n\t\t\t\t\tconst newMaxFreq = phrases[phrases.length - 1].frequency;\n\t\t\t\t\treq.maxfreq = req.maxfreq === newMaxFreq ? newMaxFreq - 1 : newMaxFreq;\n\n\t\t\t\t\treturn fill();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn fill();\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t/**\n\t * Queries all available corpora from the Netspeak API.\n\t */\n\tqueryCorpora(): Promise<Readonly<CorporaInfo>> {\n\t\t// cached\n\t\tif (this.corpusCaching && this._cachedCorpus) {\n\t\t\treturn this._cachedCorpus;\n\t\t}\n\n\t\tconst result = jsonp<any>(this.baseUrl + \"corpus\").then(json => {\n\t\t\tif (\"default\" in json && \"corpora\" in json) {\n\t\t\t\t// Netspeak 4\n\t\t\t\treturn json as CorporaInfo;\n\t\t\t} else {\n\t\t\t\t// Netspeak 3\n\n\t\t\t\tconst corpora: CorporaInfo = {\n\t\t\t\t\tdefault: undefined,\n\t\t\t\t\tcorpora: [],\n\t\t\t\t};\n\n\t\t\t\tfor (const corpus of json) {\n\t\t\t\t\t// corpus = { key: String, name: String, isDefault: Boolean }\n\n\t\t\t\t\tif (corpus.isDefault && corpora.default === undefined) corpora.default = corpus.key;\n\t\t\t\t\tdelete corpus.isDefault;\n\n\t\t\t\t\tcorpora.corpora.push(corpus);\n\t\t\t\t}\n\n\t\t\t\treturn corpora;\n\t\t\t}\n\t\t});\n\n\t\tif (this.corpusCaching) {\n\t\t\tthis._cachedCorpus = result;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * The default base URL of the Netspeak API.\n\t */\n\tstatic get defaultBaseUrl(): string {\n\t\treturn \"https://api.netspeak.org/netspeak4/\";\n\t}\n\n\t/**\n\t * The default corpus specified by the Netspeak API.\n\t */\n\tstatic get defaultCorpus(): string {\n\t\treturn \"web-en\";\n\t}\n\n\tstatic get instance(): Netspeak {\n\t\treturn (defaultNetspeakInstance = defaultNetspeakInstance || new Netspeak());\n\t}\n}\n\nlet defaultNetspeakInstance: Netspeak | undefined = undefined;\n\nexport class NetspeakError extends Error {\n\tconstructor(errorCode: number | string, message: string) {\n\t\tsuper(\"Netspeak error: \" + errorCode + \": \" + message);\n\t}\n}\nexport class NetspeakInvalidQueryError extends NetspeakError {\n\tconstructor(message: string) {\n\t\tsuper(1, \"Invalid Query: \" + message);\n\t}\n}\n\n/**\n * The different types of operators that matched a given word.\n */\nexport enum WordTypes {\n\tWORD = 0,\n\tQ_MARK = 1,\n\tASTERISK = 2,\n\tDICT_SET = 3,\n\tORDER_SET = 4,\n\tOPTION_SET = 5,\n\tPLUS = 6,\n\tREGEX = 7,\n\tORDER_SET_REGEX = 8,\n\tOPTION_SET_REGEX = 9,\n}\n\nexport class Word {\n\t/**\n\t * @param text The text of the word.\n\t * @param type The type of operator the word matches.\n\t */\n\tconstructor(public readonly text: string, public readonly type: WordTypes = WordTypes.WORD) {}\n\n\t/**\n\t * Returns the name of the given word type\n\t * or undefined if the given type does not equal any known word type.\n\t *\n\t * @param type The word type.\n\t * @returns The name.\n\t */\n\tstatic nameOfType(type: WordTypes): string {\n\t\treturn WordTypes[type];\n\t}\n}\n\n/**\n * A phrase is phrase list of words that match phrase query.\n */\nexport class Phrase {\n\treadonly text: string;\n\treadonly id: string;\n\n\t/**\n\t * Creates an instance of Phrase.\n\t *\n\t * @param words The array of words creating the phrase.\n\t * @param frequency The absolute frequency of the phrase.\n\t * @param query The query this phase matches.\n\t * @param corpus The corpus from which the phrases where retrieved.\n\t */\n\tconstructor(\n\t\tpublic readonly words: readonly Word[],\n\t\tpublic readonly frequency: number,\n\t\tpublic readonly query: string,\n\t\tpublic readonly corpus: string\n\t) {\n\t\tthis.text = this.words.map(w => w.text || \"\").join(\" \");\n\t\tthis.id = this.corpus + \"\\n\" + this.text;\n\t}\n}\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView; // Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    } // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n\n\n    var it;\n\n    if (hasMap && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (hasSet && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    } // END: Modifications\n\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (a[i] !== b[i]) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    } // END: fast-deep-equal\n    // START: react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element) return false; // custom handling for React/Preact\n\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n        continue;\n      } // all other properties should be traversed as usual\n\n\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    } // END: react-fast-compare\n    // START: fast-deep-equal\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","module.exports = \"data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/X0rY/9jT9gD///8A////Af///wH///8AKQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/X0rY//38/gH///8A////ACkMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8tEcz//v7/Af///wEpDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/y0RzP8pDMv/KQzL/19K2P////8AKQzL/ykMy//+/v7///////////8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy///////KQzL/ykMy/8pDMv/+/v+ACkMy/8pDMv/NhvO//////8pDMv/KQzL/ykMy/8pDMv/KQzL/zgdz//+/v///////ykMy/8pDMv/KQzL/19K2P8pDMv/KQzL/y8TzP//////KQzL/ykMy/8pDMv/KQzL/y4SzP/6+v7/9fT9//39/v8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8sD8z//////ykMy/8pDMv/KQzL/yoNy//x7/z//Pz+/zAUzf//////Kg3L/ykMy/8pDMv/KQzL/ykMy/8pDMv/Kg3L//////8pDMv/KQzL/ykMy////////////ykMy/8pDMv//////ysPzP8pDMv/KQzL/ykMy/8pDMv/KQzL/yoNy///////KQzL/ykMy////////////ykMy/8pDMv/KQzL//////8tEMz/KQzL/ykMy/8pDMv/KQzL/ykMy/8qDcv//////ykMy////////////ykMy/8pDMv/KQzL/ykMy///////LxPM/ykMy/8pDMv/KQzL/ykMy/8pDMv/Kw/M//z8/P///////////ykMy/8pDMv/KQzL/ykMy/8pDMv//////zEWzf8pDMv/KQzL/ykMy/8pDMv/KQzL/y8Tzf/+/v///////ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL//////83HM7/KQzL/ykMy/8pDMv/KQzL/ykMy////////////ykMy/8pDMv/KQzL/ykMy/8pDMv/NRnO/////////////////ykMy/8pDMv/KQzL/ykMy/8rDsv/Kg3L/yoNy/8pDMv/KQzL/ykMy/8pDMv/KQzL/yoNy/8qDsv/KQzL/yoNy/8qDcv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/AB8AAAAHAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"","import React from \"react\";\n\nexport default function dynamic(supplier: () => JSX.Element): JSX.Element {\n\tconst isSSR = typeof window === \"undefined\";\n\tif (isSSR) {\n\t\treturn <></>;\n\t} else {\n\t\treturn supplier();\n\t}\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { noop } from \"./util\";\n\ntype ResolveRejectCancelCallback<T> = (promise: CancelablePromise<T>, reason: \"resolve\" | \"reject\" | \"cancel\") => void;\n\nexport class CancelablePromise<T> {\n\tprivate _isCanceled = false;\n\tprivate readonly _callback: ResolveRejectCancelCallback<T> | undefined;\n\tprivate readonly _wrapped: Promise<T>;\n\n\tconstructor(promise: Promise<T>, callback?: ResolveRejectCancelCallback<T>) {\n\t\tthis._callback = callback;\n\t\tthis._wrapped = new Promise((resolve, reject) => {\n\t\t\tpromise.then(\n\t\t\t\tval => {\n\t\t\t\t\tif (this._isCanceled) {\n\t\t\t\t\t\treject({ isCanceled: true });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(val);\n\t\t\t\t\t\tthis._callback?.(this, \"resolve\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tif (this._isCanceled) {\n\t\t\t\t\t\treject({ isCanceled: true });\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t\tthis._callback?.(this, \"reject\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\tthen<TResult1 = T, TResult2 = never>(\n\t\tonfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\tonrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n\t): Promise<TResult1 | TResult2> {\n\t\treturn this._wrapped.then(onfulfilled, onrejected);\n\t}\n\tcancel(): void {\n\t\tif (this._isCanceled === false) {\n\t\t\tthis._isCanceled = true;\n\t\t\tthis._callback?.(this, \"cancel\");\n\t\t}\n\t}\n}\n\nexport const ignoreCanceled = (reason: unknown): void => {\n\tif (wasCanceled(reason)) {\n\t\t// ignore\n\t} else {\n\t\tthrow reason;\n\t}\n};\n\n/**\n * Returns whether the reason a promise rejected is that it was canceled.\n *\n * @param reason\n */\nexport function wasCanceled(reason: any): reason is { isCanceled: true } {\n\treturn reason && typeof reason === \"object\" && reason.isCanceled === true;\n}\n\n/**\n * A collection of cancelable promises.\n *\n * This collection provides a convenient way to create cancelable promises and to cancel them all at once.\n *\n * By calling the `cancel` function, all cancelable promises created by this collection will be canceled. This includes\n * the cancelable promises created after this function was called.\n */\nexport interface CancelableCollection {\n\t<T>(promise: Promise<T>): CancelablePromise<T>;\n\tcancel(): void;\n}\n\nconst CANCELED = new CancelablePromise<any>(Promise.resolve());\nCANCELED.then(noop, noop);\nCANCELED.cancel();\n\nexport function newCancelableCollection(): CancelableCollection {\n\tlet isCanceled = false;\n\tconst pending = new Set<CancelablePromise<any>>();\n\tfunction deletePromise(promise: CancelablePromise<any>): void {\n\t\tpending.delete(promise);\n\t}\n\n\tfunction CancelableCollection<T>(promise: Promise<T>): CancelablePromise<T> {\n\t\tif (isCanceled) {\n\t\t\treturn CANCELED;\n\t\t} else {\n\t\t\tconst cancelable = new CancelablePromise(promise, deletePromise);\n\t\t\tpending.add(cancelable);\n\t\t\treturn cancelable;\n\t\t}\n\t}\n\tCancelableCollection.cancel = (): void => {\n\t\tif (!isCanceled) {\n\t\t\tisCanceled = true;\n\t\t\tpending.forEach(p => p.cancel());\n\t\t}\n\t};\n\n\treturn CancelableCollection;\n}\n","let idCounter = 0;\n\n/**\n * Queries the JSON result for the given URL.\n *\n * The given URL is not allowed to contain a `callback` parameter.\n *\n * @param url\n * @param timeout\n * @returns\n */\nexport function jsonp<T>(url: string, timeout = 20000): Promise<T> {\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tif (!url) throw new Error(\"url cannot be \" + url);\n\n\t\t\t// DO NOT use URL here\n\t\t\t// Edge can't handle it. I'm serious. Edge can't even build an URL.\n\n\t\t\t// check for callback\n\t\t\tif (/[&?]callback=/i.test(url)) throw new Error(\"url is not allowed to contain a callback parameter.\");\n\n\t\t\t// convenience functions\n\t\t\tconst addCallback = (id: string, callback: (value: T) => void): string => {\n\t\t\t\t(window as any)[id] = callback;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tconst removeCallback = (id: string, timeoutId: number): void => {\n\t\t\t\t// timeout\n\t\t\t\twindow.clearTimeout(timeoutId);\n\t\t\t\t// remove callback\n\t\t\t\tdelete window[id as any];\n\t\t\t\t// remove script\n\t\t\t\tconst script = document.getElementById(id);\n\t\t\t\tif (script) script.remove();\n\t\t\t};\n\n\t\t\t// id\n\t\t\tconst id = \"jsonp$$\" + idCounter++;\n\t\t\t// eslint-disable-next-line prefer-const\n\t\t\tlet timeoutId: number;\n\n\t\t\t// callbacks\n\t\t\tconst callbackSuccess = (json: T): void => {\n\t\t\t\tremoveCallback(id, timeoutId);\n\t\t\t\tresolve(json);\n\t\t\t};\n\t\t\tconst callbackError = (message: NetworkError): void => {\n\t\t\t\tremoveCallback(id, timeoutId);\n\t\t\t\treject(message);\n\t\t\t};\n\n\t\t\t// set URL callback\n\t\t\tconst prefix = url.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n\t\t\turl += prefix + \"callback=\" + encodeURIComponent(addCallback(id, callbackSuccess));\n\n\t\t\t// set timeout\n\t\t\ttimeoutId = window.setTimeout(() => {\n\t\t\t\tcallbackError(new TimeoutError(`Could not reach server after ${timeout / 1000} seconds for ${url}`));\n\t\t\t}, timeout);\n\n\t\t\t// create script\n\t\t\tconst script = document.createElement(\"SCRIPT\");\n\t\t\tscript.id = id;\n\t\t\tscript.onerror = (): void => callbackError(new NetworkError(`Unknown networking error for ${url}`));\n\t\t\tscript.setAttribute(\"async\", \"true\");\n\t\t\tscript.setAttribute(\"src\", url);\n\n\t\t\tdocument.body.appendChild(script);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t});\n}\n\nexport class NetworkError extends Error {}\nexport class TimeoutError extends NetworkError {}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPGcgZmlsbD0iIzc3NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjkyLjc3KSI+CiAgICA8cGF0aCBkPSJNOCAyOTIuODdhNy43NSA3Ljc1IDAgMCAwLTQuODQgMS42M2wtLjY4LjUxLS43OC0uNzVjLS44NC0uODMtMS4xMy0uOTMtMS41LS41Ni0uMTkuMTktLjIuMzMtLjIgMi43NVYyOTlsLjI1LjI1LjI0LjI1SDUuNWwuMjYtLjI2Yy4zOC0uMzcuMjYtLjY2LS42NC0xLjU3bC0uNzctLjc4LjMtLjI0YTUuMzYgNS4zNiAwIDEgMSA1LjI1IDkuMmMtLjUyLjIyLS44Ny4yOC0xLjcuMzItLjk1LjA0LTEuMTMuMDItMS44NC0uMjJhNS4zNiA1LjM2IDAgMCAxLTIuMy0xLjQ1Yy0uMjYtLjI4LS41Mi0uNS0uNTgtLjVhNi41IDYuNSAwIDAgMC0xLjY4IDEuNzRjMCAuMjkgMS4xNiAxLjQgMS45NSAxLjg3Ljc1LjQ1IDEuNzEuODQgMi41NSAxLjAzLjk2LjIyIDMuMDMuMTQgMy45NS0uMTVhOC4wNiA4LjA2IDAgMCAwIDUuNzEtOC4yIDcuNzEgNy43MSAwIDAgMC00LjUxLTYuNjUgNi43NyA2Ljc3IDAgMCAwLTMuNDUtLjc3eiIvPgogICAgPHJlY3Qgd2lkdGg9IjQuNTgiIGhlaWdodD0iMiIgeD0iMy45NCIgeT0iMzAwLjU3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHBhaW50LW9yZGVyPSJmaWxsIG1hcmtlcnMgc3Ryb2tlIiByeT0iMSIvPgogICAgPHJlY3Qgd2lkdGg9IjEuOTUiIGhlaWdodD0iNS44OCIgeD0iMjM4LjU2IiB5PSIxNzguNDkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgcGFpbnQtb3JkZXI9ImZpbGwgbWFya2VycyBzdHJva2UiIHJ5PSIuOTciIHRyYW5zZm9ybT0icm90YXRlKDUxLjEpIi8+CiAgICA8cmVjdCB3aWR0aD0iLjAyIiBoZWlnaHQ9Ii40MyIgeD0iNi40NSIgeT0iMzAxLjQ2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHBhaW50LW9yZGVyPSJmaWxsIG1hcmtlcnMgc3Ryb2tlIiByeT0iLjAxIi8+CiAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0iIzc3NyIgZD0iTTguODQgMS4zdjIuNDdINi4wOFYxLjN6bS4zMiA0LjQxdjcuOTZoMi43OHEuODQgMCAxLjIuMzMuMzUuMzIuMzUuODQgMCAuNTEtLjM2Ljg0LS4zNS4zMi0xLjE5LjMySDQuMDVxLS44NCAwLTEuMi0uMzItLjM1LS4zMy0uMzUtLjg1IDAtLjUxLjM1LS44My4zNi0uMzMgMS4yLS4zM2gyLjc5VjguMDNINC45N3EtLjgzIDAtMS4xOS0uMzEtLjM2LS4zMy0uMzYtLjg1IDAtLjUxLjM1LS44My4zNi0uMzMgMS4yLS4zM3oiLz4KPC9zdmc+Cg==\"","import \"core-js/modules/es.array.reduce.js\";\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\nvar ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\",\n  TARGET: \"target\"\n};\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return React.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      classCallCheck(this, HelmetWrapper);\n      return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _babelHelpers$extends;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _babelHelpers$extends2, _babelHelpers$extends3;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n        case TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _babelHelpers$extends4;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n      React.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = objectWithoutProperties(_child$props, [\"children\"]);\n        var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case TAG_NAMES.LINK:\n          case TAG_NAMES.META:\n          case TAG_NAMES.NOSCRIPT:\n          case TAG_NAMES.SCRIPT:\n          case TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return React.createElement(Component, newProps);\n    };\n\n    createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Don’t use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set$$1(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n    return HelmetWrapper;\n  }(React.Component), _class.propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexport default HelmetExport;\nexport { HelmetExport as Helmet };","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/* **********************************************\n     Begin prism-core.js\n********************************************** */\n/// <reference lib=\"WebWorker\"/>\nvar _self = typeof window !== 'undefined' ? window // if in browser\n: typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope ? self // if in worker\n: {} // if in node js\n;\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\n\n\nvar Prism = function (_self) {\n  // Private helper vars\n  var lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n  var uniqueId = 0;\n  var _ = {\n    /**\n     * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n     * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n     * additional languages or plugins yourself.\n     *\n     * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n     *\n     * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n     * empty Prism object into the global scope before loading the Prism script like this:\n     *\n     * ```js\n     * window.Prism = window.Prism || {};\n     * Prism.manual = true;\n     * // add a new <script> to load Prism's script\n     * ```\n     *\n     * @default false\n     * @type {boolean}\n     * @memberof Prism\n     * @public\n     */\n    manual: _self.Prism && _self.Prism.manual,\n    disableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n    /**\n     * A namespace for utility methods.\n     *\n     * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n     * change or disappear at any time.\n     *\n     * @namespace\n     * @memberof Prism\n     */\n    util: {\n      encode: function encode(tokens) {\n        if (tokens instanceof Token) {\n          return new Token(tokens.type, encode(tokens.content), tokens.alias);\n        } else if (Array.isArray(tokens)) {\n          return tokens.map(encode);\n        } else {\n          return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n        }\n      },\n\n      /**\n       * Returns the name of the type of the given value.\n       *\n       * @param {any} o\n       * @returns {string}\n       * @example\n       * type(null)      === 'Null'\n       * type(undefined) === 'Undefined'\n       * type(123)       === 'Number'\n       * type('foo')     === 'String'\n       * type(true)      === 'Boolean'\n       * type([1, 2])    === 'Array'\n       * type({})        === 'Object'\n       * type(String)    === 'Function'\n       * type(/abc+/)    === 'RegExp'\n       */\n      type: function type(o) {\n        return Object.prototype.toString.call(o).slice(8, -1);\n      },\n\n      /**\n       * Returns a unique number for the given object. Later calls will still return the same number.\n       *\n       * @param {Object} obj\n       * @returns {number}\n       */\n      objId: function objId(obj) {\n        if (!obj['__id']) {\n          Object.defineProperty(obj, '__id', {\n            value: ++uniqueId\n          });\n        }\n\n        return obj['__id'];\n      },\n\n      /**\n       * Creates a deep clone of the given object.\n       *\n       * The main intended use of this function is to clone language definitions.\n       *\n       * @param {T} o\n       * @param {Record<number, any>} [visited]\n       * @returns {T}\n       * @template T\n       */\n      clone: function deepClone(o, visited) {\n        visited = visited || {};\n        var clone, id;\n\n        switch (_.util.type(o)) {\n          case 'Object':\n            id = _.util.objId(o);\n\n            if (visited[id]) {\n              return visited[id];\n            }\n\n            clone =\n            /** @type {Record<string, any>} */\n            {};\n            visited[id] = clone;\n\n            for (var key in o) {\n              if (o.hasOwnProperty(key)) {\n                clone[key] = deepClone(o[key], visited);\n              }\n            }\n\n            return (\n              /** @type {any} */\n              clone\n            );\n\n          case 'Array':\n            id = _.util.objId(o);\n\n            if (visited[id]) {\n              return visited[id];\n            }\n\n            clone = [];\n            visited[id] = clone;\n\n            /** @type {Array} */\n\n            /** @type {any} */\n            o.forEach(function (v, i) {\n              clone[i] = deepClone(v, visited);\n            });\n            return (\n              /** @type {any} */\n              clone\n            );\n\n          default:\n            return o;\n        }\n      },\n\n      /**\n       * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n       *\n       * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n       *\n       * @param {Element} element\n       * @returns {string}\n       */\n      getLanguage: function getLanguage(element) {\n        while (element && !lang.test(element.className)) {\n          element = element.parentElement;\n        }\n\n        if (element) {\n          return (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n        }\n\n        return 'none';\n      },\n\n      /**\n       * Returns the script element that is currently executing.\n       *\n       * This does __not__ work for line script element.\n       *\n       * @returns {HTMLScriptElement | null}\n       */\n      currentScript: function currentScript() {\n        if (typeof document === 'undefined') {\n          return null;\n        }\n\n        if ('currentScript' in document && 1 < 2\n        /* hack to trip TS' flow analysis */\n        ) {\n            return (\n              /** @type {any} */\n              document.currentScript\n            );\n          } // IE11 workaround\n        // we'll get the src of the current script by parsing IE11's error stack trace\n        // this will not work for inline scripts\n\n\n        try {\n          throw new Error();\n        } catch (err) {\n          // Get file src url from stack. Specifically works with the format of stack traces in IE.\n          // A stack will look like this:\n          //\n          // Error\n          //    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n          //    at Global code (http://localhost/components/prism-core.js:606:1)\n          var src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\n          if (src) {\n            var scripts = document.getElementsByTagName('script');\n\n            for (var i in scripts) {\n              if (scripts[i].src == src) {\n                return scripts[i];\n              }\n            }\n          }\n\n          return null;\n        }\n      },\n\n      /**\n       * Returns whether a given class is active for `element`.\n       *\n       * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n       * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n       * given class is just the given class with a `no-` prefix.\n       *\n       * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n       * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n       * ancestors have the given class or the negated version of it, then the default activation will be returned.\n       *\n       * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n       * version of it, the class is considered active.\n       *\n       * @param {Element} element\n       * @param {string} className\n       * @param {boolean} [defaultActivation=false]\n       * @returns {boolean}\n       */\n      isActive: function isActive(element, className, defaultActivation) {\n        var no = 'no-' + className;\n\n        while (element) {\n          var classList = element.classList;\n\n          if (classList.contains(className)) {\n            return true;\n          }\n\n          if (classList.contains(no)) {\n            return false;\n          }\n\n          element = element.parentElement;\n        }\n\n        return !!defaultActivation;\n      }\n    },\n\n    /**\n     * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n     *\n     * @namespace\n     * @memberof Prism\n     * @public\n     */\n    languages: {\n      /**\n       * Creates a deep copy of the language with the given id and appends the given tokens.\n       *\n       * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n       * will be overwritten at its original position.\n       *\n       * ## Best practices\n       *\n       * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n       * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n       * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n       *\n       * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n       * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n       *\n       * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n       * @param {Grammar} redef The new tokens to append.\n       * @returns {Grammar} The new language created.\n       * @public\n       * @example\n       * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n       *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n       *     // at its original position\n       *     'comment': { ... },\n       *     // CSS doesn't have a 'color' token, so this token will be appended\n       *     'color': /\\b(?:red|green|blue)\\b/\n       * });\n       */\n      extend: function extend(id, redef) {\n        var lang = _.util.clone(_.languages[id]);\n\n        for (var key in redef) {\n          lang[key] = redef[key];\n        }\n\n        return lang;\n      },\n\n      /**\n       * Inserts tokens _before_ another token in a language definition or any other grammar.\n       *\n       * ## Usage\n       *\n       * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n       * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n       * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n       * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n       * this:\n       *\n       * ```js\n       * Prism.languages.markup.style = {\n       *     // token\n       * };\n       * ```\n       *\n       * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n       * before existing tokens. For the CSS example above, you would use it like this:\n       *\n       * ```js\n       * Prism.languages.insertBefore('markup', 'cdata', {\n       *     'style': {\n       *         // token\n       *     }\n       * });\n       * ```\n       *\n       * ## Special cases\n       *\n       * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n       * will be ignored.\n       *\n       * This behavior can be used to insert tokens after `before`:\n       *\n       * ```js\n       * Prism.languages.insertBefore('markup', 'comment', {\n       *     'comment': Prism.languages.markup.comment,\n       *     // tokens after 'comment'\n       * });\n       * ```\n       *\n       * ## Limitations\n       *\n       * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n       * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n       * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n       * deleting properties which is necessary to insert at arbitrary positions.\n       *\n       * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n       * Instead, it will create a new object and replace all references to the target object with the new one. This\n       * can be done without temporarily deleting properties, so the iteration order is well-defined.\n       *\n       * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n       * you hold the target object in a variable, then the value of the variable will not change.\n       *\n       * ```js\n       * var oldMarkup = Prism.languages.markup;\n       * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n       *\n       * assert(oldMarkup !== Prism.languages.markup);\n       * assert(newMarkup === Prism.languages.markup);\n       * ```\n       *\n       * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n       * object to be modified.\n       * @param {string} before The key to insert before.\n       * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n       * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n       * object to be modified.\n       *\n       * Defaults to `Prism.languages`.\n       * @returns {Grammar} The new grammar object.\n       * @public\n       */\n      insertBefore: function insertBefore(inside, before, insert, root) {\n        root = root ||\n        /** @type {any} */\n        _.languages;\n        var grammar = root[inside];\n        /** @type {Grammar} */\n\n        var ret = {};\n\n        for (var token in grammar) {\n          if (grammar.hasOwnProperty(token)) {\n            if (token == before) {\n              for (var newToken in insert) {\n                if (insert.hasOwnProperty(newToken)) {\n                  ret[newToken] = insert[newToken];\n                }\n              }\n            } // Do not insert token which also occur in insert. See #1525\n\n\n            if (!insert.hasOwnProperty(token)) {\n              ret[token] = grammar[token];\n            }\n          }\n        }\n\n        var old = root[inside];\n        root[inside] = ret; // Update references in other language definitions\n\n        _.languages.DFS(_.languages, function (key, value) {\n          if (value === old && key != inside) {\n            this[key] = ret;\n          }\n        });\n\n        return ret;\n      },\n      // Traverse a language definition with Depth First Search\n      DFS: function DFS(o, callback, type, visited) {\n        visited = visited || {};\n        var objId = _.util.objId;\n\n        for (var i in o) {\n          if (o.hasOwnProperty(i)) {\n            callback.call(o, i, o[i], type || i);\n\n            var property = o[i],\n                propertyType = _.util.type(property);\n\n            if (propertyType === 'Object' && !visited[objId(property)]) {\n              visited[objId(property)] = true;\n              DFS(property, callback, null, visited);\n            } else if (propertyType === 'Array' && !visited[objId(property)]) {\n              visited[objId(property)] = true;\n              DFS(property, callback, i, visited);\n            }\n          }\n        }\n      }\n    },\n    plugins: {},\n\n    /**\n     * This is the most high-level function in Prism’s API.\n     * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n     * each one of them.\n     *\n     * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n     *\n     * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n     * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n     * @memberof Prism\n     * @public\n     */\n    highlightAll: function highlightAll(async, callback) {\n      _.highlightAllUnder(document, async, callback);\n    },\n\n    /**\n     * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n     * {@link Prism.highlightElement} on each one of them.\n     *\n     * The following hooks will be run:\n     * 1. `before-highlightall`\n     * 2. All hooks of {@link Prism.highlightElement} for each element.\n     *\n     * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n     * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n     * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n     * @memberof Prism\n     * @public\n     */\n    highlightAllUnder: function highlightAllUnder(container, async, callback) {\n      var env = {\n        callback: callback,\n        container: container,\n        selector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n      };\n\n      _.hooks.run('before-highlightall', env);\n\n      env.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n      _.hooks.run('before-all-elements-highlight', env);\n\n      for (var i = 0, element; element = env.elements[i++];) {\n        _.highlightElement(element, async === true, env.callback);\n      }\n    },\n\n    /**\n     * Highlights the code inside a single element.\n     *\n     * The following hooks will be run:\n     * 1. `before-sanity-check`\n     * 2. `before-highlight`\n     * 3. All hooks of {@link Prism.highlight}. These hooks will only be run by the current worker if `async` is `true`.\n     * 4. `before-insert`\n     * 5. `after-highlight`\n     * 6. `complete`\n     *\n     * @param {Element} element The element containing the code.\n     * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n     * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n     * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n     * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n     *\n     * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n     * asynchronous highlighting to work. You can build your own bundle on the\n     * [Download page](https://prismjs.com/download.html).\n     * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n     * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n     * @memberof Prism\n     * @public\n     */\n    highlightElement: function highlightElement(element, async, callback) {\n      // Find language\n      var language = _.util.getLanguage(element);\n\n      var grammar = _.languages[language]; // Set language on the element, if not present\n\n      element.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language; // Set language on the parent, for styling\n\n      var parent = element.parentElement;\n\n      if (parent && parent.nodeName.toLowerCase() === 'pre') {\n        parent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n      }\n\n      var code = element.textContent;\n      var env = {\n        element: element,\n        language: language,\n        grammar: grammar,\n        code: code\n      };\n\n      function insertHighlightedCode(highlightedCode) {\n        env.highlightedCode = highlightedCode;\n\n        _.hooks.run('before-insert', env);\n\n        env.element.innerHTML = env.highlightedCode;\n\n        _.hooks.run('after-highlight', env);\n\n        _.hooks.run('complete', env);\n\n        callback && callback.call(env.element);\n      }\n\n      _.hooks.run('before-sanity-check', env);\n\n      if (!env.code) {\n        _.hooks.run('complete', env);\n\n        callback && callback.call(env.element);\n        return;\n      }\n\n      _.hooks.run('before-highlight', env);\n\n      if (!env.grammar) {\n        insertHighlightedCode(_.util.encode(env.code));\n        return;\n      }\n\n      if (async && _self.Worker) {\n        var worker = new Worker(_.filename);\n\n        worker.onmessage = function (evt) {\n          insertHighlightedCode(evt.data);\n        };\n\n        worker.postMessage(JSON.stringify({\n          language: env.language,\n          code: env.code,\n          immediateClose: true\n        }));\n      } else {\n        insertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n      }\n    },\n\n    /**\n     * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n     * and the language definitions to use, and returns a string with the HTML produced.\n     *\n     * The following hooks will be run:\n     * 1. `before-tokenize`\n     * 2. `after-tokenize`\n     * 3. `wrap`: On each {@link Token}.\n     *\n     * @param {string} text A string with the code to be highlighted.\n     * @param {Grammar} grammar An object containing the tokens to use.\n     *\n     * Usually a language definition like `Prism.languages.markup`.\n     * @param {string} language The name of the language definition passed to `grammar`.\n     * @returns {string} The highlighted HTML.\n     * @memberof Prism\n     * @public\n     * @example\n     * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n     */\n    highlight: function highlight(text, grammar, language) {\n      var env = {\n        code: text,\n        grammar: grammar,\n        language: language\n      };\n\n      _.hooks.run('before-tokenize', env);\n\n      env.tokens = _.tokenize(env.code, env.grammar);\n\n      _.hooks.run('after-tokenize', env);\n\n      return Token.stringify(_.util.encode(env.tokens), env.language);\n    },\n\n    /**\n     * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n     * and the language definitions to use, and returns an array with the tokenized code.\n     *\n     * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n     *\n     * This method could be useful in other contexts as well, as a very crude parser.\n     *\n     * @param {string} text A string with the code to be highlighted.\n     * @param {Grammar} grammar An object containing the tokens to use.\n     *\n     * Usually a language definition like `Prism.languages.markup`.\n     * @returns {TokenStream} An array of strings and tokens, a token stream.\n     * @memberof Prism\n     * @public\n     * @example\n     * let code = `var foo = 0;`;\n     * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n     * tokens.forEach(token => {\n     *     if (token instanceof Prism.Token && token.type === 'number') {\n     *         console.log(`Found numeric literal: ${token.content}`);\n     *     }\n     * });\n     */\n    tokenize: function tokenize(text, grammar) {\n      var rest = grammar.rest;\n\n      if (rest) {\n        for (var token in rest) {\n          grammar[token] = rest[token];\n        }\n\n        delete grammar.rest;\n      }\n\n      var tokenList = new LinkedList();\n      addAfter(tokenList, tokenList.head, text);\n      matchGrammar(text, tokenList, grammar, tokenList.head, 0);\n      return toArray(tokenList);\n    },\n\n    /**\n     * @namespace\n     * @memberof Prism\n     * @public\n     */\n    hooks: {\n      all: {},\n\n      /**\n       * Adds the given callback to the list of callbacks for the given hook.\n       *\n       * The callback will be invoked when the hook it is registered for is run.\n       * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n       *\n       * One callback function can be registered to multiple hooks and the same hook multiple times.\n       *\n       * @param {string} name The name of the hook.\n       * @param {HookCallback} callback The callback function which is given environment variables.\n       * @public\n       */\n      add: function add(name, callback) {\n        var hooks = _.hooks.all;\n        hooks[name] = hooks[name] || [];\n        hooks[name].push(callback);\n      },\n\n      /**\n       * Runs a hook invoking all registered callbacks with the given environment variables.\n       *\n       * Callbacks will be invoked synchronously and in the order in which they were registered.\n       *\n       * @param {string} name The name of the hook.\n       * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n       * @public\n       */\n      run: function run(name, env) {\n        var callbacks = _.hooks.all[name];\n\n        if (!callbacks || !callbacks.length) {\n          return;\n        }\n\n        for (var i = 0, callback; callback = callbacks[i++];) {\n          callback(env);\n        }\n      }\n    },\n    Token: Token\n  };\n  _self.Prism = _; // Typescript note:\n  // The following can be used to import the Token type in JSDoc:\n  //\n  //   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n  /**\n   * Creates a new token.\n   *\n   * @param {string} type See {@link Token#type type}\n   * @param {string | TokenStream} content See {@link Token#content content}\n   * @param {string|string[]} [alias] The alias(es) of the token.\n   * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n   * @class\n   * @global\n   * @public\n   */\n\n  function Token(type, content, alias, matchedStr) {\n    /**\n     * The type of the token.\n     *\n     * This is usually the key of a pattern in a {@link Grammar}.\n     *\n     * @type {string}\n     * @see GrammarToken\n     * @public\n     */\n    this.type = type;\n    /**\n     * The strings or tokens contained by this token.\n     *\n     * This will be a token stream if the pattern matched also defined an `inside` grammar.\n     *\n     * @type {string | TokenStream}\n     * @public\n     */\n\n    this.content = content;\n    /**\n     * The alias(es) of the token.\n     *\n     * @type {string|string[]}\n     * @see GrammarToken\n     * @public\n     */\n\n    this.alias = alias; // Copy of the full string this token was created from\n\n    this.length = (matchedStr || '').length | 0;\n  }\n  /**\n   * A token stream is an array of strings and {@link Token Token} objects.\n   *\n   * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n   * them.\n   *\n   * 1. No adjacent strings.\n   * 2. No empty strings.\n   *\n   *    The only exception here is the token stream that only contains the empty string and nothing else.\n   *\n   * @typedef {Array<string | Token>} TokenStream\n   * @global\n   * @public\n   */\n\n  /**\n   * Converts the given token or token stream to an HTML representation.\n   *\n   * The following hooks will be run:\n   * 1. `wrap`: On each {@link Token}.\n   *\n   * @param {string | Token | TokenStream} o The token or token stream to be converted.\n   * @param {string} language The name of current language.\n   * @returns {string} The HTML representation of the token or token stream.\n   * @memberof Token\n   * @static\n   */\n\n\n  Token.stringify = function stringify(o, language) {\n    if (typeof o == 'string') {\n      return o;\n    }\n\n    if (Array.isArray(o)) {\n      var s = '';\n      o.forEach(function (e) {\n        s += stringify(e, language);\n      });\n      return s;\n    }\n\n    var env = {\n      type: o.type,\n      content: stringify(o.content, language),\n      tag: 'span',\n      classes: ['token', o.type],\n      attributes: {},\n      language: language\n    };\n    var aliases = o.alias;\n\n    if (aliases) {\n      if (Array.isArray(aliases)) {\n        Array.prototype.push.apply(env.classes, aliases);\n      } else {\n        env.classes.push(aliases);\n      }\n    }\n\n    _.hooks.run('wrap', env);\n\n    var attributes = '';\n\n    for (var name in env.attributes) {\n      attributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n    }\n\n    return '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n  };\n  /**\n   * @param {string} text\n   * @param {LinkedList<string | Token>} tokenList\n   * @param {any} grammar\n   * @param {LinkedListNode<string | Token>} startNode\n   * @param {number} startPos\n   * @param {RematchOptions} [rematch]\n   * @returns {void}\n   * @private\n   *\n   * @typedef RematchOptions\n   * @property {string} cause\n   * @property {number} reach\n   */\n\n\n  function matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n    for (var token in grammar) {\n      if (!grammar.hasOwnProperty(token) || !grammar[token]) {\n        continue;\n      }\n\n      var patterns = grammar[token];\n      patterns = Array.isArray(patterns) ? patterns : [patterns];\n\n      for (var j = 0; j < patterns.length; ++j) {\n        if (rematch && rematch.cause == token + ',' + j) {\n          return;\n        }\n\n        var patternObj = patterns[j],\n            inside = patternObj.inside,\n            lookbehind = !!patternObj.lookbehind,\n            greedy = !!patternObj.greedy,\n            lookbehindLength = 0,\n            alias = patternObj.alias;\n\n        if (greedy && !patternObj.pattern.global) {\n          // Without the global flag, lastIndex won't work\n          var flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n          patternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n        }\n        /** @type {RegExp} */\n\n\n        var pattern = patternObj.pattern || patternObj;\n\n        for ( // iterate the token list and keep track of the current token/string position\n        var currentNode = startNode.next, pos = startPos; currentNode !== tokenList.tail; pos += currentNode.value.length, currentNode = currentNode.next) {\n          if (rematch && pos >= rematch.reach) {\n            break;\n          }\n\n          var str = currentNode.value;\n\n          if (tokenList.length > text.length) {\n            // Something went terribly wrong, ABORT, ABORT!\n            return;\n          }\n\n          if (str instanceof Token) {\n            continue;\n          }\n\n          var removeCount = 1; // this is the to parameter of removeBetween\n\n          if (greedy && currentNode != tokenList.tail.prev) {\n            pattern.lastIndex = pos;\n            var match = pattern.exec(text);\n\n            if (!match) {\n              break;\n            }\n\n            var from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n            var to = match.index + match[0].length;\n            var p = pos; // find the node that contains the match\n\n            p += currentNode.value.length;\n\n            while (from >= p) {\n              currentNode = currentNode.next;\n              p += currentNode.value.length;\n            } // adjust pos (and p)\n\n\n            p -= currentNode.value.length;\n            pos = p; // the current node is a Token, then the match starts inside another Token, which is invalid\n\n            if (currentNode.value instanceof Token) {\n              continue;\n            } // find the last node which is affected by this match\n\n\n            for (var k = currentNode; k !== tokenList.tail && (p < to || typeof k.value === 'string'); k = k.next) {\n              removeCount++;\n              p += k.value.length;\n            }\n\n            removeCount--; // replace with the new match\n\n            str = text.slice(pos, p);\n            match.index -= pos;\n          } else {\n            pattern.lastIndex = 0;\n            var match = pattern.exec(str);\n          }\n\n          if (!match) {\n            continue;\n          }\n\n          if (lookbehind) {\n            lookbehindLength = match[1] ? match[1].length : 0;\n          }\n\n          var from = match.index + lookbehindLength,\n              matchStr = match[0].slice(lookbehindLength),\n              to = from + matchStr.length,\n              before = str.slice(0, from),\n              after = str.slice(to);\n          var reach = pos + str.length;\n\n          if (rematch && reach > rematch.reach) {\n            rematch.reach = reach;\n          }\n\n          var removeFrom = currentNode.prev;\n\n          if (before) {\n            removeFrom = addAfter(tokenList, removeFrom, before);\n            pos += before.length;\n          }\n\n          removeRange(tokenList, removeFrom, removeCount);\n          var wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n          currentNode = addAfter(tokenList, removeFrom, wrapped);\n\n          if (after) {\n            addAfter(tokenList, currentNode, after);\n          }\n\n          if (removeCount > 1) {\n            // at least one Token object was removed, so we have to do some rematching\n            // this can only happen if the current pattern is greedy\n            matchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n              cause: token + ',' + j,\n              reach: reach\n            });\n          }\n        }\n      }\n    }\n  }\n  /**\n   * @typedef LinkedListNode\n   * @property {T} value\n   * @property {LinkedListNode<T> | null} prev The previous node.\n   * @property {LinkedListNode<T> | null} next The next node.\n   * @template T\n   * @private\n   */\n\n  /**\n   * @template T\n   * @private\n   */\n\n\n  function LinkedList() {\n    /** @type {LinkedListNode<T>} */\n    var head = {\n      value: null,\n      prev: null,\n      next: null\n    };\n    /** @type {LinkedListNode<T>} */\n\n    var tail = {\n      value: null,\n      prev: head,\n      next: null\n    };\n    head.next = tail;\n    /** @type {LinkedListNode<T>} */\n\n    this.head = head;\n    /** @type {LinkedListNode<T>} */\n\n    this.tail = tail;\n    this.length = 0;\n  }\n  /**\n   * Adds a new node with the given value to the list.\n   * @param {LinkedList<T>} list\n   * @param {LinkedListNode<T>} node\n   * @param {T} value\n   * @returns {LinkedListNode<T>} The added node.\n   * @template T\n   */\n\n\n  function addAfter(list, node, value) {\n    // assumes that node != list.tail && values.length >= 0\n    var next = node.next;\n    var newNode = {\n      value: value,\n      prev: node,\n      next: next\n    };\n    node.next = newNode;\n    next.prev = newNode;\n    list.length++;\n    return newNode;\n  }\n  /**\n   * Removes `count` nodes after the given node. The given node will not be removed.\n   * @param {LinkedList<T>} list\n   * @param {LinkedListNode<T>} node\n   * @param {number} count\n   * @template T\n   */\n\n\n  function removeRange(list, node, count) {\n    var next = node.next;\n\n    for (var i = 0; i < count && next !== list.tail; i++) {\n      next = next.next;\n    }\n\n    node.next = next;\n    next.prev = node;\n    list.length -= i;\n  }\n  /**\n   * @param {LinkedList<T>} list\n   * @returns {T[]}\n   * @template T\n   */\n\n\n  function toArray(list) {\n    var array = [];\n    var node = list.head.next;\n\n    while (node !== list.tail) {\n      array.push(node.value);\n      node = node.next;\n    }\n\n    return array;\n  }\n\n  if (!_self.document) {\n    if (!_self.addEventListener) {\n      // in Node.js\n      return _;\n    }\n\n    if (!_.disableWorkerMessageHandler) {\n      // In worker\n      _self.addEventListener('message', function (evt) {\n        var message = JSON.parse(evt.data),\n            lang = message.language,\n            code = message.code,\n            immediateClose = message.immediateClose;\n\n        _self.postMessage(_.highlight(code, _.languages[lang], lang));\n\n        if (immediateClose) {\n          _self.close();\n        }\n      }, false);\n    }\n\n    return _;\n  } // Get current script and highlight\n\n\n  var script = _.util.currentScript();\n\n  if (script) {\n    _.filename = script.src;\n\n    if (script.hasAttribute('data-manual')) {\n      _.manual = true;\n    }\n  }\n\n  function highlightAutomaticallyCallback() {\n    if (!_.manual) {\n      _.highlightAll();\n    }\n  }\n\n  if (!_.manual) {\n    // If the document state is \"loading\", then we'll use DOMContentLoaded.\n    // If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n    // DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n    // might take longer one animation frame to execute which can create a race condition where only some plugins have\n    // been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n    // See https://github.com/PrismJS/prism/issues/2102\n    var readyState = document.readyState;\n\n    if (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n      document.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n    } else {\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(highlightAutomaticallyCallback);\n      } else {\n        window.setTimeout(highlightAutomaticallyCallback, 16);\n      }\n    }\n  }\n\n  return _;\n}(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = Prism;\n} // hack for components to work correctly in node.js\n\n\nif (typeof global !== 'undefined') {\n  global.Prism = Prism;\n} // some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\n\nPrism.languages.markup = {\n  'comment': /<!--[\\s\\S]*?-->/,\n  'prolog': /<\\?[\\s\\S]+?\\?>/,\n  'doctype': {\n    // https://www.w3.org/TR/xml/#NT-doctypedecl\n    pattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n    greedy: true,\n    inside: {\n      'internal-subset': {\n        pattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n        lookbehind: true,\n        greedy: true,\n        inside: null // see below\n\n      },\n      'string': {\n        pattern: /\"[^\"]*\"|'[^']*'/,\n        greedy: true\n      },\n      'punctuation': /^<!|>$|[[\\]]/,\n      'doctype-tag': /^DOCTYPE/,\n      'name': /[^\\s<>'\"]+/\n    }\n  },\n  'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n  'tag': {\n    pattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n    greedy: true,\n    inside: {\n      'tag': {\n        pattern: /^<\\/?[^\\s>\\/]+/,\n        inside: {\n          'punctuation': /^<\\/?/,\n          'namespace': /^[^\\s>\\/:]+:/\n        }\n      },\n      'attr-value': {\n        pattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n        inside: {\n          'punctuation': [{\n            pattern: /^=/,\n            alias: 'attr-equals'\n          }, /\"|'/]\n        }\n      },\n      'punctuation': /\\/?>/,\n      'attr-name': {\n        pattern: /[^\\s>\\/]+/,\n        inside: {\n          'namespace': /^[^\\s>\\/:]+:/\n        }\n      }\n    }\n  },\n  'entity': [{\n    pattern: /&[\\da-z]{1,8};/i,\n    alias: 'named-entity'\n  }, /&#x?[\\da-f]{1,8};/i]\n};\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] = Prism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup; // Plugin to make entity title show the real entity, idea by Roman Komarov\n\nPrism.hooks.add('wrap', function (env) {\n  if (env.type === 'entity') {\n    env.attributes['title'] = env.content.replace(/&amp;/, '&');\n  }\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n  /**\n   * Adds an inlined language to markup.\n   *\n   * An example of an inlined language is CSS with `<style>` tags.\n   *\n   * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n   * case insensitive.\n   * @param {string} lang The language key.\n   * @example\n   * addInlined('style', 'css');\n   */\n  value: function addInlined(tagName, lang) {\n    var includedCdataInside = {};\n    includedCdataInside['language-' + lang] = {\n      pattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n      lookbehind: true,\n      inside: Prism.languages[lang]\n    };\n    includedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n    var inside = {\n      'included-cdata': {\n        pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n        inside: includedCdataInside\n      }\n    };\n    inside['language-' + lang] = {\n      pattern: /[\\s\\S]+/,\n      inside: Prism.languages[lang]\n    };\n    var def = {};\n    def[tagName] = {\n      pattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () {\n        return tagName;\n      }), 'i'),\n      lookbehind: true,\n      greedy: true,\n      inside: inside\n    };\n    Prism.languages.insertBefore('markup', 'cdata', def);\n  }\n});\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n  var string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n  Prism.languages.css = {\n    'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n    'atrule': {\n      pattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n      inside: {\n        'rule': /^@[\\w-]+/,\n        'selector-function-argument': {\n          pattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n          lookbehind: true,\n          alias: 'selector'\n        },\n        'keyword': {\n          pattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n          lookbehind: true\n        } // See rest below\n\n      }\n    },\n    'url': {\n      // https://drafts.csswg.org/css-values-3/#urls\n      pattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n      greedy: true,\n      inside: {\n        'function': /^url/i,\n        'punctuation': /^\\(|\\)$/,\n        'string': {\n          pattern: RegExp('^' + string.source + '$'),\n          alias: 'url'\n        }\n      }\n    },\n    'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n    'string': {\n      pattern: string,\n      greedy: true\n    },\n    'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n    'important': /!important\\b/i,\n    'function': /[-a-z0-9]+(?=\\()/i,\n    'punctuation': /[(){};:,]/\n  };\n  Prism.languages.css['atrule'].inside.rest = Prism.languages.css;\n  var markup = Prism.languages.markup;\n\n  if (markup) {\n    markup.tag.addInlined('style', 'css');\n    Prism.languages.insertBefore('inside', 'attr-value', {\n      'style-attr': {\n        pattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n        inside: {\n          'attr-name': {\n            pattern: /^\\s*style/i,\n            inside: markup.tag.inside\n          },\n          'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n          'attr-value': {\n            pattern: /.+/i,\n            inside: Prism.languages.css\n          }\n        },\n        alias: 'language-css'\n      }\n    }, markup.tag);\n  }\n})(Prism);\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\n\nPrism.languages.clike = {\n  'comment': [{\n    pattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n    lookbehind: true\n  }, {\n    pattern: /(^|[^\\\\:])\\/\\/.*/,\n    lookbehind: true,\n    greedy: true\n  }],\n  'string': {\n    pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n    greedy: true\n  },\n  'class-name': {\n    pattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n    lookbehind: true,\n    inside: {\n      'punctuation': /[.\\\\]/\n    }\n  },\n  'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n  'boolean': /\\b(?:true|false)\\b/,\n  'function': /\\w+(?=\\()/,\n  'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n  'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n  'punctuation': /[{}[\\];(),.:]/\n};\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n  'class-name': [Prism.languages.clike['class-name'], {\n    pattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n    lookbehind: true\n  }],\n  'keyword': [{\n    pattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n    lookbehind: true\n  }, {\n    pattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n    lookbehind: true\n  }],\n  'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n  // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n  'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n  'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\nPrism.languages.insertBefore('javascript', 'keyword', {\n  'regex': {\n    pattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n    lookbehind: true,\n    greedy: true\n  },\n  // This must be declared before keyword because we use \"function\" inside the look-forward\n  'function-variable': {\n    pattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n    alias: 'function'\n  },\n  'parameter': [{\n    pattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n    lookbehind: true,\n    inside: Prism.languages.javascript\n  }, {\n    pattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n    inside: Prism.languages.javascript\n  }, {\n    pattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n    lookbehind: true,\n    inside: Prism.languages.javascript\n  }, {\n    pattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n    lookbehind: true,\n    inside: Prism.languages.javascript\n  }],\n  'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\nPrism.languages.insertBefore('javascript', 'string', {\n  'template-string': {\n    pattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n    greedy: true,\n    inside: {\n      'template-punctuation': {\n        pattern: /^`|`$/,\n        alias: 'string'\n      },\n      'interpolation': {\n        pattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n        lookbehind: true,\n        inside: {\n          'interpolation-punctuation': {\n            pattern: /^\\${|}$/,\n            alias: 'punctuation'\n          },\n          rest: Prism.languages.javascript\n        }\n      },\n      'string': /[\\s\\S]+/\n    }\n  }\n});\n\nif (Prism.languages.markup) {\n  Prism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n  if (typeof self === 'undefined' || !self.Prism || !self.document) {\n    return;\n  }\n\n  var Prism = window.Prism;\n  var LOADING_MESSAGE = 'Loading…';\n\n  var FAILURE_MESSAGE = function FAILURE_MESSAGE(status, message) {\n    return '✖ Error ' + status + ' while fetching file: ' + message;\n  };\n\n  var FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n  var EXTENSIONS = {\n    'js': 'javascript',\n    'py': 'python',\n    'rb': 'ruby',\n    'ps1': 'powershell',\n    'psm1': 'powershell',\n    'sh': 'bash',\n    'bat': 'batch',\n    'h': 'c',\n    'tex': 'latex'\n  };\n  var STATUS_ATTR = 'data-src-status';\n  var STATUS_LOADING = 'loading';\n  var STATUS_LOADED = 'loaded';\n  var STATUS_FAILED = 'failed';\n  var SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])' + ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n  var lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n  /**\n   * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n   *\n   * @param {HTMLElement} element\n   * @param {string} language\n   * @returns {void}\n   */\n\n  function setLanguageClass(element, language) {\n    var className = element.className;\n    className = className.replace(lang, ' ') + ' language-' + language;\n    element.className = className.replace(/\\s+/g, ' ').trim();\n  }\n\n  Prism.hooks.add('before-highlightall', function (env) {\n    env.selector += ', ' + SELECTOR;\n  });\n  Prism.hooks.add('before-sanity-check', function (env) {\n    var pre =\n    /** @type {HTMLPreElement} */\n    env.element;\n\n    if (pre.matches(SELECTOR)) {\n      env.code = ''; // fast-path the whole thing and go to complete\n\n      pre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n      // add code element with loading message\n\n      var code = pre.appendChild(document.createElement('CODE'));\n      code.textContent = LOADING_MESSAGE;\n      var src = pre.getAttribute('data-src');\n      var language = env.language;\n\n      if (language === 'none') {\n        // the language might be 'none' because there is no language set;\n        // in this case, we want to use the extension as the language\n        var extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n        language = EXTENSIONS[extension] || extension;\n      } // set language classes\n\n\n      setLanguageClass(code, language);\n      setLanguageClass(pre, language); // preload the language\n\n      var autoloader = Prism.plugins.autoloader;\n\n      if (autoloader) {\n        autoloader.loadLanguages(language);\n      } // load file\n\n\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', src, true);\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status < 400 && xhr.responseText) {\n            // mark as loaded\n            pre.setAttribute(STATUS_ATTR, STATUS_LOADED); // highlight code\n\n            code.textContent = xhr.responseText;\n            Prism.highlightElement(code);\n          } else {\n            // mark as failed\n            pre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n            if (xhr.status >= 400) {\n              code.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n            } else {\n              code.textContent = FAILURE_EMPTY_MESSAGE;\n            }\n          }\n        }\n      };\n\n      xhr.send(null);\n    }\n  });\n  Prism.plugins.fileHighlight = {\n    /**\n     * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n     *\n     * Note: Elements which are already loaded or currently loading will not be touched by this method.\n     *\n     * @param {ParentNode} [container=document]\n     */\n    highlight: function highlight(container) {\n      var elements = (container || document).querySelectorAll(SELECTOR);\n\n      for (var i = 0, element; element = elements[i++];) {\n        Prism.highlightElement(element);\n      }\n    }\n  };\n  var logged = false;\n  /** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\n  Prism.fileHighlight = function () {\n    if (!logged) {\n      console.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n      logged = true;\n    }\n\n    Prism.plugins.fileHighlight.highlight.apply(this, arguments);\n  };\n})();","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}