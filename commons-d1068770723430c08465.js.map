{"version":3,"sources":["webpack:///./src/img/x.svg","webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./src/lib/localize.ts","webpack:///./src/img/copy.svg","webpack:///./src/lib/util.ts","webpack:///./src/lib/prism.ts","webpack:///./src/elements/netspeak-query-text.tsx","webpack:///./src/elements/netspeak-example-queries.tsx","webpack:///./src/elements/netspeak-search-bar.tsx","webpack:///./src/lib/snippets.ts","webpack:///./src/elements/load-more-button.tsx","webpack:///./src/elements/transparent-button.tsx","webpack:///./src/elements/netspeak-result-list.tsx","webpack:///./node_modules/reactjs-popup/reactjs-popup.es.js","webpack:///./src/elements/netspeak-search.tsx","webpack:///./src/page-elements/netspeak-header.tsx","webpack:///./src/page-elements/netspeak-footer.tsx","webpack:///./src/page-elements/page.tsx","webpack:///./src/img/pin.svg","webpack:///./src/page-elements/shared-head.tsx","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/lib/lru-cache.ts","webpack:///./src/lib/netspeak.ts","webpack:///./node_modules/react-helmet/node_modules/react-fast-compare/index.js","webpack:///./src/img/favicon.ico","webpack:///./src/lib/dynamic.tsx","webpack:///./src/lib/cancelable-promise.ts","webpack:///./src/lib/jsonp.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./src/img/history.svg","webpack:///./src/img/i.svg","webpack:///./node_modules/react-helmet/es/Helmet.js","webpack:///./node_modules/prismjs/prism.js","webpack:///(webpack)/buildin/global.js"],"names":["module","exports","ex","React","React__default","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","canUseDOM","window","document","createElement","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","Error","WrappedComponent","state","mountedInstances","emitChange","map","instance","props","SideEffect","_PureComponent","subClass","superClass","apply","this","arguments","prototype","create","constructor","__proto__","peek","rewind","recordedState","undefined","_proto","UNSAFE_componentWillMount","push","componentDidUpdate","componentWillUnmount","index","indexOf","splice","render","PureComponent","displayName","name","getDisplayName","supportedLanguages","Set","createLocalizer","locales","locale","lang","getCurrentLang","localStorage","getItem","navigator","languages","l","toLowerCase","has","exec","detectCurrentLang","setCurrentLang","setItem","constructQueryParams","params","list","hasOwnProperty","call","encodeURIComponent","String","length","join","textContent","html","replace","div","innerHTML","normalizeSpaces","str","trim","optional","condition","supplier","delay","duration","Promise","resolve","setTimeout","assertNever","url","JSON","stringify","LoadingState","idCounter","nextId","noop","Prism","netspeak","NetspeakQueryText","query","highlight","className","dangerouslySetInnerHTML","__html","NetspeakExampleQueries","corpus","exampleQueries","defaultCorpus","examples","handleClick","e","currentTarget","dataset","onQueryClicked","keys","explanation","onClick","data-query","en","de","NetspeakSearchBar","_onChangeHandler","cancel","setState","equalQueries","CancelablePromise","then","onQueryEnter","ignoreCanceled","_oKeyupHandler","original","getDerivedStateFromProps","type","onChange","onKeyUp","q1","q2","normalizeQuery","unfairSupplierCombination","suppliers","pendingSuppliers","pendingResolves","cached","resolvePendingResolves","forEach","fromCache","pop","i","snippets","console","log","empty","callSuppliers","exactSupplier","count","buffer","waitingForSupplier","Math","min","s","error","phraseReCache","Map","getPhraseRegex","phrase","get","source","test","RegExp","set","Snippets","backends","defaultTimeout","getSupplier","_createSuppliers","filterFn","filter","filterSupplier","mapFn","mapSupplier","_removeUrlsInText","_createRelevantSnippetFilter","config","supplierCount","getCount","backend","rejected","catch","nonRejectingSupplier","timeout","Infinity","dead","raceIsOver","timeoutPromise","race","x","timeoutSupplier","parallel","testRe","pastExamples","snippet","text","id","add","URL_REGEX","urls","NetspeakSnippetsBackend","internalPage","noFurtherExamples","request","size","from","search","res","results","uuid","ChatNoir","fetch","json","reject","GoogleBooksSnippetBackend","maxResults","q","startIndex","done","currentIndex","message","items","item","volumeInfo","previewLink","title","description","searchInfo","textSnippet","DEFAULT_SNIPPETS","LoadMoreButton","loading","disabled","TransparentButton","selectedClass","selected","image","style","backgroundImage","PhraseSnippetState","MORE_AVAILABLE","pushSnippets","setLoading","copy","PhraseState","pinned","expanded","setPinned","setExpanded","setSnippets","NetspeakResultList","phrases","ResultListItem","stats","PhraseContainer","phraseState","formatFrequency","formatter","Intl","NumberFormat","freq","frequency","ceil","log10","factor","pow","floor","format","formatPercentage","ratio","frequencySum","useLarge","round","minimumFractionDigits","maximumFractionDigits","formatText","elements","words","word","classes","WordTypes","WORD","Word","nameOfType","Fragment","backgroundSize","frequencyMax","PhraseInfo","copied","cancelable","newCancelableCollection","loadSnippets","snippetState","_change","p","LOADING","result","change","EXHAUSTED","_onCopyButtonClick","_copiedDelay","clipboard","writeText","_onPinButtonClick","componentDidMount","changeFn","CopyImage","PinImage","PhraseExample","sources","href","target","rel","match","textParts","pushBefore","maxLength","substr","pushAfter","re","context","emphasize","_defineProperties","descriptor","_extends","assign","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","_setPrototypeOf","_assertThisInitialized","self","ReferenceError","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","toString","_iterableToArray","TypeError","_nonIterableSpread","getCoordinatesForPosition","triggerBounding","ContentBounding","position","arrow","_ref","offsetX","offsetY","margin","args","split","CenterTop","top","height","CenterLeft","left","width","transform","arrowTop","arrowLeft","concat","styles","popupContent","tooltip","zIndex","background","border","boxShadow","padding","modal","popupArrow","overlay","bottom","right","display","POSITION_TYPES","_React$PureComponent","Popup","_this","Constructor","_classCallCheck","_possibleConstructorReturn","setPosition","closePopup","lockScroll","getElementsByTagName","overflow","persist","isOpen","openPopup","_this$props","onOpen","onClose","resetScroll","clearTimeout","timeOut","mouseEnterDelay","mouseLeaveDelay","keepTooltipInside","boundingBox","innerWidth","innerHeight","querySelector","getBoundingClientRect","_this$state","_this$props2","arrowStyle","helper","HelperEl","trigger","TriggerEl","content","ContentEl","getTooltipBoundary","positions","cords","_ref2","wrapperBox","bestCoords","contentBox","calculatePosition","ArrowEl","classList","getComputedStyle","getPropertyValue","_this$props3","contentStyle","on","popupContentStyle","childrenElementProps","ref","setContentRef","stopPropagation","onMouseEnter","onMouseLeave","triggerProps","setTriggerRef","_this$props4","onAsArray","len","togglePopup","onFocus","cloneElement","_this$props5","children","_this$state2","addWarperAction","setArrowRef","r","setHelperRef","open","_modal","defaultOpen","_trigger","protoProps","staticProps","_inherits","_this$props6","closeOnEscape","repositionOnResize","addEventListener","onEscape","prevProps","_this$props7","_this$props8","removeEventListener","_this$props9","overlayStyle","closeOnDocumentClick","_this$state3","ovStyle","renderTrigger","renderContent","NetspeakSearch","_queryMorePhrases","normalizedQuery","currentPhrases","minFreq","loadingState","promise","Netspeak","topk","pageSize","maxfreq","checkComplete","topkMode","_handleSearchPromise","_onSearchBarQueryEnterHandler","_setQuery","_onExampleQueryClickHandler","examplesVisibility","_setExampleVisibility","_onPhraseChange","findIndex","newPhraseState","newPhrases","slice","phrasesStats","getStats","_onExampleButtonClick","_onClearButtonClick","_clearPhrases","defaultQuery","defaultExampleVisibility","EMPTY_STATS","problems","_queryPhrases","visibility","onSetExampleVisibility","_commit","onCommitQuery","commit","_delayErrorPromise","_delayCommitPromise","changed","_mergePhrases","complete","unknownWords","reason","wasCanceled","_reasonToProblem","NetworkError","onLine","NetspeakInvalidQueryError","details","NetspeakError","clearPinned","textSet","numberOfNewPhrases","sort","a","b","_splitProblems","warnings","errors","_renderHistoryPopup","HistoryImage","close","history","InfoImage","ClearImage","ProblemInner","problem","withDetails","noPhrasesFound","noHistory","unknownWord","noConnectionError","serverUnreachableError","invalidQueryError","netspeakError","unknownError","max","sum","NetspeakHeader","to","clear","slogan","NetspeakFooter","Bullet","LangSelect","thisLang","help","contact","impressumAndPrivacy","location","reload","Page","SharedHead","favicon","randomValues","values","random","array","j","shuffle","LRUCache","_map","_length","_head","CacheNode","_tail","next","prev","addAll","toRemove","remove","node","insertBefore","defaultValue","insertAfter","contains","Boolean","_removeNode","afterNode","beforeNode","baseUrl","defaultBaseUrl","corpusCaching","_cache","_cachedCorpus","options","_fillSearch","uncached","_uncachedSearch","req","jsonp","errorCode","errorMessage","w","Phrase","goal","unknownWordsSet","fill","newMaxFreq","queryCorpora","corpora","default","isDefault","defaultNetspeakInstance","hasElementType","Element","hasMap","hasSet","hasArrayBuffer","ArrayBuffer","isView","equal","it","entries","flags","valueOf","$$typeof","warn","dynamic","callback","_isCanceled","_callback","_wrapped","val","isCanceled","onfulfilled","onrejected","CANCELED","pending","deletePromise","delete","CancelableCollection","timeoutId","removeCallback","script","getElementById","callbackError","prefix","addCallback","TimeoutError","onerror","setAttribute","body","appendChild","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","Parent","Class","Function","bind","fn","Wrapper","clock","Component","_class","_temp","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","_typeof","classCallCheck","createClass","defineProperties","objectWithoutProperties","possibleConstructorReturn","encodeSpecialCharacters","encode","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","current","getBaseTagFromPropsList","primaryAttributes","reverse","innermostBaseTag","tag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","property","rafPolyfill","now","currentTime","cafPolyfill","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","global","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","_i","removeAttribute","tags","headElement","head","tagNodes","querySelectorAll","indexToDelete","newElement","styleSheet","cssText","createTextNode","some","existingTag","isEqualNode","parentNode","removeChild","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","_ref$title","base","link","meta","noscript","HelmetSideEffects","defer","HelmetExport","_React$Component","HelmetWrapper","inherits","shouldComponentUpdate","nextProps","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","_this2","Children","_child$props","initAttributes","convertReactPropstoHtmlAttributes","_props","propTypes","object","oneOfType","arrayOf","defaultTitle","bool","func","titleTemplate","defaultProps","mappedState","renderStatic","_self","uniqueId","_","manual","disableWorkerMessageHandler","util","tokens","Token","alias","objId","clone","deepClone","visited","v","getLanguage","element","parentElement","currentScript","err","src","stack","scripts","isActive","defaultActivation","no","extend","redef","inside","before","insert","root","grammar","ret","token","newToken","old","DFS","propertyType","plugins","highlightAll","async","highlightAllUnder","container","env","selector","hooks","run","highlightElement","language","parent","nodeName","code","insertHighlightedCode","highlightedCode","Worker","worker","filename","onmessage","evt","data","postMessage","immediateClose","tokenize","rest","tokenList","LinkedList","addAfter","matchGrammar","startNode","startPos","rematch","patterns","cause","patternObj","lookbehind","greedy","lookbehindLength","pattern","currentNode","pos","tail","reach","removeCount","lastIndex","k","matchStr","after","removeFrom","removeRange","wrapped","toArray","all","callbacks","matchedStr","newNode","aliases","parse","highlightAutomaticallyCallback","hasAttribute","readyState","WorkerGlobalScope","markup","includedCdataInside","def","mathml","svg","xml","ssml","atom","rss","css","addInlined","clike","javascript","js","EXTENSIONS","SELECTOR","pre","matches","extension","setLanguageClass","autoloader","loadLanguages","xhr","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","logged","g"],"mappings":"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","file":"commons-d1068770723430c08465.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0iIzc3NyIgZD0iTTEzLjA4IDE2TDAgMi45MiAyLjgzLjA5bDEzLjA4IDEzLjA4eiIvPgogIDxwYXRoIGZpbGw9IiM3NzciIGQ9Ik0xMy4wOC4wOGwyLjgzIDIuODNMMi44MyAxNiAwIDEzLjE3eiIvPgo8L3N2Zz4=\"","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","export const supportedLanguages: ReadonlySet<string> = new Set([\"en\", \"de\"]);\nexport type SupportedLanguage = \"en\" | \"de\";\n\nexport interface LocalizableProps {\n\treadonly lang: SupportedLanguage;\n}\n\nexport type Locales<T> = { [K in SupportedLanguage]: T };\nexport type SimpleLocale<Keys extends string> = { [K in Keys]: string };\nexport type SupplierLocale<Keys extends string> = {\n\t[K in Keys]: () => JSX.Element;\n};\n\nexport type LocalizerOf<L> = L extends Locales<infer T> ? Localizer<T> : never;\nexport type Localizer<T> = <K extends keyof T>(key: K) => T[K];\nexport function createLocalizer<T>(props: LocalizableProps, locales: Locales<T>): Localizer<T> {\n\tconst { lang } = props;\n\tconst locale = locales[lang];\n\treturn key => locale[key];\n}\n\nconst currentLangKey = \"currentLang\";\n\nfunction detectCurrentLang(): SupportedLanguage | null {\n\tif (localStorage.getItem(currentLangKey)) {\n\t\t// stored\n\t\treturn localStorage.getItem(currentLangKey) as SupportedLanguage;\n\t}\n\n\t// match against users languages\n\tfor (let l of navigator.languages || []) {\n\t\tl = l.toLowerCase();\n\t\tif (supportedLanguages.has(l)) return l as SupportedLanguage;\n\t\t// reduce e.g. \"en-US\" to \"en\"\n\t\tl = (/^(\\w+)-\\w+$/.exec(l) || [])[1];\n\t\tif (supportedLanguages.has(l)) return l as SupportedLanguage;\n\t}\n\n\treturn null;\n}\nexport function getCurrentLang(): SupportedLanguage {\n\tconst lang = detectCurrentLang();\n\tif (lang === null) {\n\t\treturn \"en\";\n\t} else {\n\t\treturn lang;\n\t}\n}\nexport function setCurrentLang(lang: SupportedLanguage): void {\n\tlocalStorage.setItem(currentLangKey, lang);\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMTEwNi41MikiPgogICAgPHJlY3Qgd2lkdGg9IjkiIGhlaWdodD0iMTMiIHg9IjIuNSIgeT0iMTEwOS4wMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNzc3Nzc3IiByeT0iLjUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3Nzc3NyIgZD0iTTEzIDExMjAuMDJhLjUuNSAwIDAwLjUtLjV2LTEyYS41LjUgMCAwMC0uNS0uNUg1YS41LjUgMCAwMC0uNS41Ii8+CiAgICA8cmVjdCBmaWxsPSIjNzc3Nzc3IiB3aWR0aD0iNiIgaGVpZ2h0PSIxIiB4PSI0IiB5PSIxMTEzLjUyIiByeT0iMCIvPgogICAgPHJlY3QgZmlsbD0iIzc3Nzc3NyIgd2lkdGg9IjYiIGhlaWdodD0iMSIgeD0iNCIgeT0iMTExNS41MiIgcnk9IjAiLz4KICAgIDxyZWN0IGZpbGw9IiM3Nzc3NzciIHdpZHRoPSI2IiBoZWlnaHQ9IjEiIHg9IjQiIHk9IjExMTcuNTIiIHJ5PSIwIi8+CiAgICA8cmVjdCBmaWxsPSIjNzc3Nzc3IiB3aWR0aD0iNCIgaGVpZ2h0PSIxIiB4PSI0IiB5PSIxMTExLjUyIiByeT0iMCIvPgogIDwvZz4KPC9zdmc+\"","export function constructQueryParams(params: Readonly<Record<string, any>>): string {\n\tconst list: string[] = [];\n\n\tfor (const key in params) {\n\t\tif (Object.prototype.hasOwnProperty.call(params, key)) {\n\t\t\tconst value = params[key];\n\t\t\tif (value === null || value === undefined || value === false) {\n\t\t\t\t// do nothing\n\t\t\t} else if (value === true) {\n\t\t\t\tlist.push(encodeURIComponent(key));\n\t\t\t} else {\n\t\t\t\tlist.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(String(value)));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (list.length) {\n\t\treturn \"?\" + list.join(\"&\");\n\t} else {\n\t\treturn \"\";\n\t}\n}\n\n/**\n * Returns the text content of a given HTML.\n */\nexport function textContent(html: string): string {\n\t// copied from PrismJS' markup definition\n\thtml = html.replace(\n\t\t/<\\/?(?!\\d)[^\\s>/=$<%]+(?:\\s(?:\\s*[^\\s>/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/g,\n\t\t\"\"\n\t);\n\tconst div = document.createElement(\"div\");\n\tdiv.innerHTML = html;\n\treturn div.textContent || \"\";\n}\n\nexport function normalizeSpaces(str: string): string {\n\treturn str.replace(/\\s+/g, \" \").trim();\n}\n\nexport function optional<T>(condition: boolean, supplier: () => T): T | null {\n\tif (condition) {\n\t\treturn supplier();\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function delay(duration: number): Promise<void> {\n\treturn new Promise(resolve => {\n\t\tsetTimeout(() => {\n\t\t\tresolve();\n\t\t}, duration);\n\t});\n}\n\nexport function assertNever(value: never): never {\n\tthrow new Error(\"Unreachable part has been reached with \" + value);\n}\n\n/**\n * Returns a CSS `url()` of the given URL.\n *\n * @param url\n */\nexport function url(url: string): string {\n\treturn `url(${JSON.stringify(url)})`;\n}\n\nlet idCounter = 0;\n/**\n * Returns a unique id.\n */\nexport function nextId(): number {\n\tidCounter = (idCounter + 1) & 0x7fffffff;\n\treturn idCounter;\n}\n\nexport enum LoadingState {\n\t/** Currently loading items. */\n\tLOADING,\n\t/** There are more items available to be loaded. */\n\tMORE_AVAILABLE,\n\t/** All available items were loaded. There are no items left to be loaded. */\n\tEXHAUSTED,\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noop = (): void => {};\n","import Prism from \"prismjs\";\n\nPrism.languages.netspeak = {\n\t\"q-mark\": /\\?/,\n\t\"asterisk\": /\\*|\\.{2,}/,\n\t\"plus\": /\\+/,\n\t\"order-set\": /[{}]/,\n\t\"option-set\": /[[\\]]/,\n\t\"dict-set\": /#/,\n\t\"punctuation\": /[\"]/,\n};\n\nexport default Prism;\n","import React from \"react\";\nimport Prism from \"../lib/prism\";\nimport \"./netspeak-query-text.scss\";\n\ninterface Props {\n\tquery: string;\n}\n\nexport default function NetspeakQueryText(props: Props): JSX.Element {\n\tconst { query } = props;\n\tconst html = Prism.highlight(query, Prism.languages.netspeak, \"netspeak\");\n\n\treturn <span className=\"NetspeakQueryText\" dangerouslySetInnerHTML={{ __html: html }}></span>;\n}\n","import React from \"react\";\nimport { LocalizableProps, Locales, SimpleLocale, createLocalizer } from \"../lib/localize\";\nimport \"./netspeak-example-queries.scss\";\nimport NetspeakQueryText from \"./netspeak-query-text\";\n\ninterface Props extends LocalizableProps {\n\tcorpus: string;\n\tonQueryClicked?: (query: string, corpus: string) => void;\n}\n\nexport default function NetspeakExampleQueries(props: Props): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\n\tconst corpus = props.corpus in exampleQueries ? props.corpus : defaultCorpus;\n\tconst examples = exampleQueries[corpus];\n\n\tconst handleClick = (e: React.MouseEvent<HTMLElement>): void => {\n\t\tconst query = e.currentTarget.dataset.query!;\n\t\tprops.onQueryClicked?.(query, corpus);\n\t};\n\n\treturn (\n\t\t<div className=\"NetspeakExampleQueries\">\n\t\t\t<div className=\"info\">\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{(Object.keys(examples) as QueryKey[]).map(key => {\n\t\t\t\t\t\t\tconst query = examples[key]!;\n\t\t\t\t\t\t\tconst explanation = l(key);\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr key={query}>\n\t\t\t\t\t\t\t\t\t<td className=\"example\">\n\t\t\t\t\t\t\t\t\t\t<span onClick={handleClick} data-query={query}>\n\t\t\t\t\t\t\t\t\t\t\t<NetspeakQueryText query={query} />\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td className=\"spacer\"></td>\n\t\t\t\t\t\t\t\t\t<td className=\"explanation\">\n\t\t\t\t\t\t\t\t\t\t<NetspeakQueryText query={explanation} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ntype QueryKey = \"q-mark\" | \"dots\" | \"option-set\" | \"hash\" | \"order\" | \"gap\";\nconst locales: Locales<SimpleLocale<QueryKey>> = {\n\ten: {\n\t\t\"q-mark\": \"The ? finds one word.\",\n\t\t\"dots\": \"The ... finds many words.\",\n\t\t\"option-set\": \"The [ ] compare options.\",\n\t\t\"hash\": \"The # finds similar words.\",\n\t\t\"order\": \"The { } check the order.\",\n\t\t\"gap\": \"The space is important.\",\n\t},\n\tde: {\n\t\t\"q-mark\": \"Das ? findet ein Wort.\",\n\t\t\"dots\": \"Die ... finden mehrere Wrter.\",\n\t\t\"option-set\": \"Die [ ] vergleichen Alternativen.\",\n\t\t\"hash\": \"Das # findet hnliche Wrter.\",\n\t\t\"order\": \"Die { } prfen die Reihenfolge.\",\n\t\t\"gap\": \"Das Leerzeichen ist wichtig.\",\n\t},\n};\n\n/**\n * A list of corpus specific example queries.\n */\nconst exampleQueries: Record<string, Partial<Record<QueryKey, string>>> = {\n\t\"web-en\": {\n\t\t\"q-mark\": \"how to ? this\",\n\t\t\"dots\": \"see ... works\",\n\t\t\"option-set\": \"it's [ great well ]\",\n\t\t\"hash\": \"and knows #much\",\n\t\t\"order\": \"{ more show me }\",\n\t\t\"gap\": \"m...d ? g?p\",\n\t},\n\t\"web-de\": {\n\t\t\"q-mark\": \"was ? das\",\n\t\t\"dots\": \"was ... hier ab\",\n\t\t\"option-set\": \"wie [ ntzlich praktisch ]\",\n\t\t// \"hash\": \"and knows #much\", // this feature isn't yet implemented on the server-side\n\t\t\"order\": \"{ rum richtig }\",\n\t\t\"gap\": \"M?t ? L...e\",\n\t},\n};\n/**\n * The default corpus for which examples will be displayed in case the current corpus is unknown.\n */\nconst defaultCorpus = \"web-en\";\n","import React from \"react\";\nimport { normalizeQuery } from \"../lib/netspeak\";\nimport { CancelablePromise, ignoreCanceled } from \"../lib/cancelable-promise\";\nimport { delay } from \"../lib/util\";\n\ninterface Props {\n\tquery: string;\n\tonQueryEnter: (query: string) => void;\n}\ninterface State {\n\toriginal: string;\n\tvalue: string;\n}\n\nexport class NetspeakSearchBar extends React.PureComponent<Props, State> {\n\tprivate delay: CancelablePromise<void> | undefined;\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\toriginal: props.query,\n\t\t\tvalue: props.query,\n\t\t};\n\t}\n\n\tcomponentWillUnmount(): void {\n\t\tthis.delay?.cancel();\n\t}\n\n\tstatic getDerivedStateFromProps(props: Props, state: State): State | null {\n\t\t// This is a bit of a hack.\n\t\t// We want to update out state if the query of the received props doesn't match the query we last got via props.\n\t\tif (props.query !== state.original) {\n\t\t\treturn {\n\t\t\t\toriginal: props.query,\n\t\t\t\tvalue: props.query,\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate _onChangeHandler = (e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\tthis.delay?.cancel();\n\n\t\tconst value = e.currentTarget.value;\n\t\tthis.setState({ value });\n\n\t\tif (!equalQueries(value, this.props.query)) {\n\t\t\tthis.delay = new CancelablePromise(delay(100));\n\t\t\tthis.delay.then(() => {\n\t\t\t\tthis.props.onQueryEnter(value);\n\t\t\t}, ignoreCanceled);\n\t\t}\n\t};\n\tprivate _oKeyupHandler = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n\t\tthis.delay?.cancel();\n\n\t\tconst value = e.currentTarget.value;\n\t\tthis.setState({ value });\n\n\t\tif (!equalQueries(value, this.props.query)) {\n\t\t\tthis.props.onQueryEnter(value);\n\t\t}\n\t};\n\n\trender(): JSX.Element {\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclassName=\"NetspeakSearchBar\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tonChange={this._onChangeHandler}\n\t\t\t\tonKeyUp={this._oKeyupHandler}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction equalQueries(q1: string, q2: string): boolean {\n\treturn normalizeQuery(q1) === normalizeQuery(q2);\n}\n","import { textContent, normalizeSpaces, constructQueryParams } from \"./util\";\n\nexport interface Snippet {\n\t/**\n\t * The clean text content of the snippet.\n\t */\n\treadonly text: string;\n\t/**\n\t * URLs which link to the source of the snippet.\n\t * It's possible to declare more than one URL to provide mirror links and alternative sources.\n\t */\n\treadonly urls: Record<string, string>;\n}\n\n/**\n * A generic supplier of snippets.\n *\n * If `false` is returned, the supplier will not supply any additional items.\n */\nexport type SnippetSupplier = () => Promise<Snippet[] | false>;\n\nexport interface SnippetBackend {\n\tgetSupplier: (phrase: string, count: number) => SnippetSupplier;\n}\n\ntype ResolveFn = (value: Snippet[] | false) => void;\n\n/**\n * Creates a new snippet supplier which returns snippets from all given suppliers favouring faster suppliers.\n *\n * @param suppliers\n * @returns\n */\nfunction unfairSupplierCombination(suppliers: SnippetSupplier[]): SnippetSupplier {\n\tsuppliers = [...suppliers];\n\tconst pendingSuppliers: boolean[] = [];\n\tconst pendingResolves: ResolveFn[] = [];\n\tconst cached: Snippet[][] = [];\n\n\tfunction resolvePendingResolves(): void {\n\t\tif (suppliers.length === 0) {\n\t\t\tpendingResolves.forEach(resolve => {\n\t\t\t\tconst fromCache = cached.pop();\n\t\t\t\tif (fromCache) {\n\t\t\t\t\tresolve(fromCache);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t});\n\t\t\tpendingResolves.length = 0;\n\t\t} else {\n\t\t\tlet fromCache;\n\t\t\twhile (pendingResolves.length && (fromCache = cached.pop())) {\n\t\t\t\tconst resolve = pendingResolves.splice(0, 1)[0];\n\t\t\t\tresolve(fromCache);\n\t\t\t}\n\t\t\tif (pendingResolves.length) {\n\t\t\t\tcallSuppliers();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction callSuppliers(): void {\n\t\tfor (let i = 0; i < suppliers.length; i++) {\n\t\t\tconst pending = pendingSuppliers[i];\n\t\t\tif (!pending) {\n\t\t\t\tpendingSuppliers[i] = true;\n\t\t\t\tconst supplier = suppliers[i];\n\n\t\t\t\tsupplier()\n\t\t\t\t\t.then(\n\t\t\t\t\t\tsnippets => {\n\t\t\t\t\t\t\tif (snippets) {\n\t\t\t\t\t\t\t\tcached.push(snippets);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn !snippets;\n\t\t\t\t\t\t},\n\t\t\t\t\t\te => {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\t.then(empty => {\n\t\t\t\t\t\tconst index = suppliers.indexOf(supplier);\n\t\t\t\t\t\tif (empty) {\n\t\t\t\t\t\t\tsuppliers.splice(index, 1);\n\t\t\t\t\t\t\tpendingSuppliers.splice(index, 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpendingSuppliers[index] = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolvePendingResolves();\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn () => {\n\t\treturn new Promise<Snippet[] | false>(resolve => {\n\t\t\tpendingResolves.push(resolve);\n\t\t\tresolvePendingResolves();\n\t\t});\n\t};\n}\n\n/**\n * Creates a new snippet supplier which will always return the exact amount of snippets until the given supplier runs\n * out of snippets.\n *\n * @param supplier\n * @param count\n * @returns\n */\nfunction exactSupplier(supplier: SnippetSupplier, count: number): SnippetSupplier {\n\t/** Whether all suppliers are empty */\n\tlet empty = false;\n\tconst buffer: Snippet[] = [];\n\tconst pendingResolves: ResolveFn[] = [];\n\tlet waitingForSupplier = false;\n\n\tfunction resolvePendingResolves(): void {\n\t\tif (empty) {\n\t\t\tpendingResolves.forEach(resolve => {\n\t\t\t\tif (buffer.length) {\n\t\t\t\t\tresolve(buffer.splice(0, Math.min(count, buffer.length)));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t});\n\t\t\tpendingResolves.length = 0;\n\t\t} else {\n\t\t\twhile (buffer.length >= count && pendingResolves.length) {\n\t\t\t\tconst resolve = pendingResolves.splice(0, 1)[0];\n\t\t\t\tresolve(buffer.splice(0, count));\n\t\t\t}\n\t\t\tif (pendingResolves.length) {\n\t\t\t\tcallSuppliers();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction callSuppliers(): void {\n\t\tif (waitingForSupplier) return;\n\t\twaitingForSupplier = true;\n\n\t\tsupplier()\n\t\t\t.then(\n\t\t\t\tsnippets => {\n\t\t\t\t\twaitingForSupplier = false;\n\n\t\t\t\t\tif (snippets) {\n\t\t\t\t\t\tsnippets.forEach(s => buffer.push(s));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tempty = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\twaitingForSupplier = false;\n\t\t\t\t\tempty = true;\n\t\t\t\t}\n\t\t\t)\n\t\t\t.then(() => {\n\t\t\t\tresolvePendingResolves();\n\t\t\t});\n\t}\n\n\treturn () => {\n\t\treturn new Promise<Snippet[] | false>(resolve => {\n\t\t\tpendingResolves.push(resolve);\n\t\t\tresolvePendingResolves();\n\t\t});\n\t};\n}\n\n/**\n * Adds a timeout to the given supplier.\n *\n * If the given supplier takes longer than the specified timeout, it's assumed that the supplier could not find\n * more snippets, so an empty array will be returned.\n *\n * @param supplier\n * @param timeout\n * @returns\n */\nfunction timeoutSupplier(supplier: SnippetSupplier, timeout: number): SnippetSupplier {\n\tif (timeout === Infinity) return supplier;\n\n\tlet dead = false;\n\n\treturn () => {\n\t\tif (dead) {\n\t\t\treturn Promise.resolve(false);\n\t\t}\n\n\t\tlet raceIsOver = false;\n\t\tconst timeoutPromise = new Promise<false>(resolve => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!raceIsOver) {\n\t\t\t\t\tdead = true;\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t}, timeout);\n\t\t});\n\n\t\treturn Promise.race([supplier(), timeoutPromise]).then(\n\t\t\tx => {\n\t\t\t\traceIsOver = true;\n\t\t\t\treturn x;\n\t\t\t},\n\t\t\tx => {\n\t\t\t\traceIsOver = true;\n\t\t\t\tthrow x;\n\t\t\t}\n\t\t);\n\t};\n}\n\n/**\n * Returns a new supplier based on the given supplier which will return `false` instead of rejecting.\n */\nfunction nonRejectingSupplier(supplier: SnippetSupplier): SnippetSupplier {\n\tlet rejected = false;\n\treturn () => {\n\t\tif (rejected) return Promise.resolve(false);\n\t\treturn supplier().catch(e => {\n\t\t\tconsole.log(e);\n\t\t\trejected = true;\n\t\t\treturn false;\n\t\t});\n\t};\n}\n\nfunction filterSupplier(supplier: SnippetSupplier, filterFn: (snippet: Snippet) => boolean): SnippetSupplier {\n\treturn () => {\n\t\treturn supplier().then(snippets => {\n\t\t\tif (snippets) {\n\t\t\t\treturn snippets.filter(filterFn);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t};\n}\nfunction mapSupplier(supplier: SnippetSupplier, mapFn: (snippet: Snippet) => Snippet): SnippetSupplier {\n\treturn () => {\n\t\treturn supplier().then(snippets => {\n\t\t\tif (snippets) {\n\t\t\t\treturn snippets.map(mapFn);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t};\n}\n\nconst phraseReCache = new Map<string, RegExp>();\nexport function getPhraseRegex(phrase: string): RegExp {\n\tphrase = normalizeSpaces(phrase);\n\tlet value = phraseReCache.get(phrase);\n\tif (value === undefined) {\n\t\tlet source = phrase.replace(/[\\\\/(){}[\\]|?+*^$.]/g, \"\\\\$&\").replace(/\\s+/g, \"\\\\s*\");\n\t\tif (/^\\w/.test(phrase)) {\n\t\t\tsource = \"\\\\b\" + source;\n\t\t}\n\t\tif (/\\w$/.test(phrase)) {\n\t\t\tsource = source + \"\\\\b\";\n\t\t}\n\t\tvalue = RegExp(source, \"i\");\n\t\tphraseReCache.set(phrase, value);\n\t}\n\treturn value;\n}\n\nexport interface SnippetBackendConfig {\n\tbackend: SnippetBackend;\n\tgetCount?: (count: number) => number;\n\t/** The number of parallel suppliers for the given backend. */\n\tparallel?: number;\n\t/** The timeout after which a supplier from the backend will be declared dead. */\n\ttimeout?: number;\n}\nexport class Snippets {\n\tbackends: SnippetBackendConfig[] = [];\n\tdefaultTimeout = 5000;\n\n\tgetSupplier(phrase: string, count = 6): SnippetSupplier {\n\t\tlet supplier = unfairSupplierCombination(this._createSuppliers(phrase, count));\n\t\tsupplier = mapSupplier(supplier, this._removeUrlsInText);\n\t\tsupplier = filterSupplier(supplier, this._createRelevantSnippetFilter(phrase));\n\n\t\treturn exactSupplier(supplier, count);\n\t}\n\n\t/**\n\t * Creates a list of suppliers from the current backend config.\n\t *\n\t * @param phrase\n\t * @param count\n\t */\n\tprivate _createSuppliers(phrase: string, count: number): SnippetSupplier[] {\n\t\tconst suppliers: SnippetSupplier[] = [];\n\n\t\tthis.backends.forEach(config => {\n\t\t\tlet supplierCount: number | undefined = undefined;\n\t\t\tif (config.getCount) {\n\t\t\t\tsupplierCount = config.getCount(count);\n\t\t\t} else {\n\t\t\t\tsupplierCount = count;\n\t\t\t}\n\n\t\t\tlet supplier = config.backend.getSupplier(phrase, supplierCount);\n\t\t\tsupplier = timeoutSupplier(supplier, config.timeout || this.defaultTimeout);\n\t\t\tsupplier = nonRejectingSupplier(supplier);\n\n\t\t\tlet parallel = config.parallel;\n\t\t\tif (parallel === undefined) parallel = 1;\n\t\t\tfor (let i = parallel; i > 0; i--) {\n\t\t\t\tsuppliers.push(supplier);\n\t\t\t}\n\t\t});\n\n\t\treturn suppliers;\n\t}\n\n\tprivate _createRelevantSnippetFilter(phrase: string): (snippet: Snippet) => boolean {\n\t\tconst testRe = getPhraseRegex(phrase);\n\n\t\tconst pastExamples = new Set<string>([\"\"]);\n\n\t\treturn snippet => {\n\t\t\tconst text = snippet.text.toLowerCase();\n\n\t\t\t// The text has to contain the phrase.\n\t\t\tif (!testRe.test(text)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// The test is mostly punctuation.\n\t\t\tif (text.replace(/[\\w\\xA0-\\uFFFF]+/g, \"\").length > text.length * 0.5) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// The basic idea behind this id is that most duplicate examples are equal character for character,\n\t\t\t// so a simple (and fast) hash lookup is sufficient.\n\t\t\t// To also filter duplicates which are technically different but don't look very different to\n\t\t\t// humans, some additional transformation are performed.\n\t\t\tconst id = text.replace(/\\s+/, \"\").replace(/\\d+/g, \"0\");\n\n\t\t\tif (pastExamples.has(id)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tpastExamples.add(id);\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tprivate _removeUrlsInText(snippet: Snippet): Snippet {\n\t\tconst text = snippet.text.replace(URL_REGEX, \"[]\");\n\n\t\treturn { text, urls: snippet.urls };\n\t}\n}\n\nconst URL_REGEX = /(?:https?\\s*:\\s*\\/\\s*\\/\\s*(?:www\\s*\\.\\s*)?|www\\s*\\.\\s*)(?:\\w|\\s*[-@:%.+~#=]\\s*){1,256}\\s*\\.\\s*[a-z0-9()]{1,6}\\b[-\\w()@:%+.~#/?&=]*/gi;\n\ninterface NetspeakSnippetsRequest {\n\tquery: string;\n\t/** list of indices to search */\n\tindex?: string[];\n\t/** result pagination begin */\n\tfrom: number;\n\t/** number of results per page */\n\tsize: number;\n}\ninterface NetspeakSnippetsResponse {\n\t/** global result meta information */\n\tmeta: {\n\t\t/** query time in milliseconds */\n\t\tquery_time: number;\n\t\t/** number of total hits */\n\t\ttotal_results: number;\n\t\t/** list of indices that were searched */\n\t\tindices: string[];\n\t};\n\t/** list of search results */\n\tresults: NetspeakSnippetsResponseItem[];\n}\ninterface NetspeakSnippetsResponseItem {\n\t/** ranking score of this result */\n\tscore: number;\n\t/** Webis UUID of this document */\n\tuuid: string;\n\t/** index the document was retrieved from */\n\tindex: string;\n\t/** TREC ID of the result if available (null otherwise) */\n\ttrec_id: string | null;\n\t/** web host this document was crawled from */\n\ttarget_hostname: string;\n\t/** full web URI */\n\ttarget_uri: string;\n\t/** page rank of this document if available (null otherwise) */\n\tpage_rank: number | null;\n\t/** spam rank of this document if available (null otherwise) */\n\tspam_rank: number | null;\n\t/** document title with highlights */\n\ttitle: string;\n\t/** document body snippet with highlights */\n\tsnippet: string;\n\t/** additional scoring information if explain was set to true */\n\texplanation: string | null;\n}\n\n/**\n * A snippet backend for Netspeak's internal snippet API based on ChatNoir.\n *\n * @see https://www.chatnoir.eu/doc/api/\n */\nexport class NetspeakSnippetsBackend implements SnippetBackend {\n\tgetSupplier(phrase: string, count: number): SnippetSupplier {\n\t\tphrase = normalizeSpaces(phrase);\n\n\t\tlet internalPage = 0;\n\n\t\t// whether the snippet API doesn't have any more examples\n\t\tlet noFurtherExamples = false;\n\n\t\treturn () => {\n\t\t\tif (noFurtherExamples) {\n\t\t\t\treturn Promise.resolve(false);\n\t\t\t}\n\n\t\t\tconst request: NetspeakSnippetsRequest = {\n\t\t\t\tquery: phrase,\n\t\t\t\tsize: count,\n\t\t\t\tfrom: count * internalPage++,\n\t\t\t};\n\n\t\t\treturn this.search(request).then(res => {\n\t\t\t\tif (res.results.length === 0) {\n\t\t\t\t\tnoFurtherExamples = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst snippets: Snippet[] = [];\n\n\t\t\t\tres.results.forEach(({ snippet, uuid, index }) => {\n\t\t\t\t\tconst urls = {\n\t\t\t\t\t\tChatNoir: `https://www.chatnoir.eu/cache?uuid=${uuid}&index=${encodeURIComponent(index)}&plain`,\n\t\t\t\t\t};\n\t\t\t\t\tsnippets.push({ text: normalizeSpaces(textContent(snippet)), urls });\n\t\t\t\t});\n\n\t\t\t\treturn snippets;\n\t\t\t});\n\t\t};\n\t}\n\n\t/**\n\t * The simple search operation of the Snippets API.\n\t *\n\t * @param request The request details passed to the API.\n\t * @returns\n\t */\n\tsearch(request: NetspeakSnippetsRequest): Promise<NetspeakSnippetsResponse> {\n\t\ttry {\n\t\t\tif (!request) throw new Error(\"request cannot be \" + request);\n\n\t\t\t// construct URL\n\t\t\tconst url = \"https://snippets.netspeak.org/_search\" + constructQueryParams(request);\n\n\t\t\t// fetch data\n\t\t\treturn fetch(url).then(res => res.json());\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n}\n\ninterface ErrorJson {\n\terror: ErrorJsonObject;\n}\ninterface ErrorJsonObject {\n\tcode: number;\n\tmessage: string;\n}\n\ninterface GoogleBooksJson {\n\tkind: string;\n\ttotalItems: number;\n\titems: GoogleBooksJsonItem[] | undefined;\n}\ninterface GoogleBooksJsonItem {\n\tkind: string;\n\tid: string;\n\tetag: string;\n\tselfLink: string;\n\tvolumeInfo: GoogleBooksJsonItemVolumeInfo;\n\tsearchInfo: GoogleBooksJsonItemSearchInfo;\n}\ninterface GoogleBooksJsonItemVolumeInfo {\n\ttitle: string;\n\tauthors: string[];\n\tpublishedDate: string;\n\tdescription?: string | undefined;\n\tlanguage: string;\n\tpreviewLink: string;\n\tinfoLink: string;\n\tcanonicalVolumeLink: string;\n}\ninterface GoogleBooksJsonItemSearchInfo {\n\ttextSnippet: string;\n}\n/**\n * A snippet backend for Google Book's public search API.\n *\n * @see https://developers.google.com/books/docs/v1/using\n */\nexport class GoogleBooksSnippetBackend implements SnippetBackend {\n\tgetSupplier(phrase: string, count: number): SnippetSupplier {\n\t\t// The API only supports up to 40 results\n\t\t// https://developers.google.com/books/docs/v1/using#maxResults\n\t\tconst maxResults = Math.min(count, 40);\n\t\tconst q = encodeURIComponent(`\"${normalizeSpaces(phrase)}\"`);\n\n\t\tlet startIndex = 0;\n\t\tlet done = false;\n\n\t\treturn () => {\n\t\t\tif (done) {\n\t\t\t\treturn Promise.resolve(false);\n\t\t\t}\n\n\t\t\tconst currentIndex = startIndex;\n\t\t\tstartIndex += maxResults;\n\n\t\t\t// Note: The following type definitions are incomplete\n\t\t\tconst promise: Promise<ErrorJson | GoogleBooksJson> = fetch(\n\t\t\t\t`https://www.googleapis.com/books/v1/volumes?q=${q}&startIndex=${currentIndex}&maxResults=${maxResults}`\n\t\t\t).then(res => res.json());\n\n\t\t\treturn promise.then(json => {\n\t\t\t\tif (\"error\" in json) {\n\t\t\t\t\tthrow new Error(json.error.message);\n\t\t\t\t}\n\n\t\t\t\tconst items = json.items;\n\t\t\t\tif (!items) {\n\t\t\t\t\tdone = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst snippets: Snippet[] = [];\n\n\t\t\t\titems.forEach(item => {\n\t\t\t\t\tconst urls = { \"Google Books\": item.volumeInfo.previewLink };\n\n\t\t\t\t\t// we use 3 parts of every result\n\t\t\t\t\tif (item.volumeInfo) {\n\t\t\t\t\t\tif (item.volumeInfo.title)\n\t\t\t\t\t\t\tsnippets.push({\n\t\t\t\t\t\t\t\ttext: normalizeSpaces(textContent(item.volumeInfo.title)),\n\t\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif (item.volumeInfo.description)\n\t\t\t\t\t\t\tsnippets.push({\n\t\t\t\t\t\t\t\ttext: normalizeSpaces(textContent(item.volumeInfo.description)),\n\t\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (item.searchInfo && item.searchInfo.textSnippet)\n\t\t\t\t\t\tsnippets.push({\n\t\t\t\t\t\t\ttext: normalizeSpaces(textContent(item.searchInfo.textSnippet)),\n\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\treturn snippets;\n\t\t\t});\n\t\t};\n\t}\n}\n\nexport const DEFAULT_SNIPPETS = new Snippets();\nDEFAULT_SNIPPETS.backends.push(\n\t{\n\t\tbackend: new NetspeakSnippetsBackend(),\n\t\tparallel: 3,\n\t\tgetCount: () => 33,\n\t},\n\t{\n\t\tbackend: new GoogleBooksSnippetBackend(),\n\t\tparallel: 1,\n\t\tgetCount: () => 20,\n\t}\n);\n","import React from \"react\";\nimport \"./load-more-button.scss\";\n\ninterface Props {\n\t/**\n\t * Whether the button was clicked and the page is currently loading more items.\n\t *\n\t * If `true`, the button will be disabled as display a loading animation.\n\t */\n\tloading?: boolean;\n\tonClick: () => void;\n}\n\n/**\n * A button that displays an image to load more items.\n *\n * If in a loading state, it will display a small loading animation instead.\n */\nexport default function LoadMoreButton(props: Props): JSX.Element {\n\tconst className = \"LoadMoreButton\" + (props.loading ? \" loading\" : \"\");\n\n\treturn (\n\t\t<button className={className} disabled={!!props.loading} onClick={props.onClick}>\n\t\t\t<span></span>\n\t\t</button>\n\t);\n}\n","import React from \"react\";\nimport { optional } from \"../lib/util\";\nimport \"./transparent-button.scss\";\n\ninterface Props {\n\timage?: string;\n\ttext?: string;\n\tselected?: boolean;\n\tonClick?: () => void;\n}\n\nexport default function TransparentButton(props: Readonly<Props>): JSX.Element {\n\tconst selectedClass = props.selected ? \" selected\" : \"\";\n\n\treturn (\n\t\t<button className={\"TransparentButton\" + selectedClass} onClick={props.onClick}>\n\t\t\t{optional(!!props.image, () => (\n\t\t\t\t<span className=\"button-img\" style={{ backgroundImage: props.image }}></span>\n\t\t\t))}\n\t\t\t{optional(!!props.text, () => (\n\t\t\t\t<span className=\"button-text\">{props.text}</span>\n\t\t\t))}\n\t\t</button>\n\t);\n}\n","import React from \"react\";\nimport { LocalizableProps, Locales, SimpleLocale, createLocalizer } from \"../lib/localize\";\nimport { Phrase, WordTypes, Word } from \"../lib/netspeak\";\nimport { Snippet, SnippetSupplier, getPhraseRegex } from \"../lib/snippets\";\nimport { optional, LoadingState, url, delay } from \"../lib/util\";\nimport LoadMoreButton from \"./load-more-button\";\nimport \"./netspeak-result-list.scss\";\nimport TransparentButton from \"./transparent-button\";\nimport PinImage from \"../img/pin.svg\";\nimport CopyImage from \"../img/copy.svg\";\nimport { CancelablePromise, ignoreCanceled, newCancelableCollection } from \"../lib/cancelable-promise\";\n\nexport class PhraseSnippetState {\n\tconstructor(\n\t\tpublic readonly supplier: SnippetSupplier,\n\t\tpublic readonly snippets: readonly Snippet[] = [],\n\t\tpublic readonly loading: LoadingState = LoadingState.MORE_AVAILABLE\n\t) {}\n\n\tpushSnippets(snippets: readonly Snippet[]): PhraseSnippetState {\n\t\tif (snippets.length === 0) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.set(\"snippets\", [...this.snippets, ...snippets]);\n\t\t}\n\t}\n\tsetLoading(value: LoadingState): PhraseSnippetState {\n\t\treturn this.set(\"loading\", value);\n\t}\n\n\tprivate copy(): PhraseSnippetState {\n\t\treturn new PhraseSnippetState(this.supplier, this.snippets, this.loading);\n\t}\n\tprivate set<K extends keyof PhraseSnippetState>(key: K, value: PhraseSnippetState[K]): PhraseSnippetState {\n\t\tif (this[key] === value) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tconst copy = this.copy();\n\t\t\tcopy[key] = value;\n\t\t\treturn copy;\n\t\t}\n\t}\n}\nexport class PhraseState {\n\tconstructor(\n\t\tpublic readonly phrase: Phrase,\n\t\tpublic readonly pinned: boolean,\n\t\tpublic readonly expanded: boolean,\n\t\tpublic readonly snippets: PhraseSnippetState\n\t) {}\n\n\tsetPinned(value: boolean): PhraseState {\n\t\treturn this.set(\"pinned\", value);\n\t}\n\tsetExpanded(value: boolean): PhraseState {\n\t\treturn this.set(\"expanded\", value);\n\t}\n\tsetSnippets(value: PhraseSnippetState): PhraseState {\n\t\treturn this.set(\"snippets\", value);\n\t}\n\n\tprivate copy(): PhraseState {\n\t\treturn new PhraseState(this.phrase, this.pinned, this.expanded, this.snippets);\n\t}\n\tprivate set<K extends keyof PhraseState>(key: K, value: PhraseState[K]): PhraseState {\n\t\tif (this[key] === value) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tconst copy = this.copy();\n\t\t\tcopy[key] = value;\n\t\t\treturn copy;\n\t\t}\n\t}\n}\n\nexport interface PhraseCollectionStats {\n\treadonly frequencySum: number;\n\treadonly frequencyMax: number;\n}\n\nexport type PhraseStateChangeFn = (current: PhraseState) => PhraseState;\nexport type OnChangeFn = (phrase: Phrase, change: PhraseStateChangeFn) => void;\n\ninterface ListProps extends LocalizableProps {\n\tphrases: readonly PhraseState[];\n\tstats: PhraseCollectionStats;\n\tonChange: OnChangeFn;\n}\n\nexport default function NetspeakResultList(props: ListProps): JSX.Element {\n\treturn (\n\t\t<div className=\"NetspeakResultList\">\n\t\t\t{props.phrases.map(phrase => (\n\t\t\t\t<ResultListItem\n\t\t\t\t\tkey={phrase.phrase.text}\n\t\t\t\t\tlang={props.lang}\n\t\t\t\t\tphrase={phrase}\n\t\t\t\t\tstats={props.stats}\n\t\t\t\t\tonChange={props.onChange}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\ninterface ItemProps extends LocalizableProps {\n\tphrase: PhraseState;\n\tstats: PhraseCollectionStats;\n\tonChange: OnChangeFn;\n}\n\nfunction ResultListItem(props: ItemProps): JSX.Element {\n\treturn (\n\t\t<div className=\"ResultListItem\">\n\t\t\t<PhraseContainer {...props} />\n\t\t\t{optional(props.phrase.expanded, () => (\n\t\t\t\t<PhraseInfo {...props} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nclass PhraseContainer extends React.PureComponent<ItemProps> {\n\t/**\n\t * Formats the frequency of the given phrase.\n\t */\n\tformatFrequency(): JSX.Element {\n\t\tconst formatter = new Intl.NumberFormat(this.props.lang, {\n\t\t\tstyle: \"decimal\",\n\t\t});\n\n\t\tlet freq = this.props.phrase.phrase.frequency;\n\n\t\t// floor to 2 significant digits if the frequency has more than 3 digits\n\t\tif (freq >= 1000) {\n\t\t\tconst log = Math.ceil(Math.log10(freq));\n\t\t\tconst factor = Math.pow(10, log - 2);\n\t\t\tfreq = Math.floor(freq / factor) * factor;\n\t\t}\n\n\t\treturn <>{formatter.format(freq)}</>;\n\t}\n\n\t/**\n\t * Formats the frequency percentage of the given phrase.\n\t */\n\tformatPercentage(): JSX.Element {\n\t\tconst smallOptions: Intl.NumberFormatOptions = {\n\t\t\tstyle: \"percent\",\n\t\t\tminimumFractionDigits: 1,\n\t\t\tmaximumFractionDigits: 1,\n\t\t};\n\t\tconst largeOptions: Intl.NumberFormatOptions = {\n\t\t\tstyle: \"percent\",\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: 0,\n\t\t};\n\n\t\tconst ratio = this.props.phrase.phrase.frequency / this.props.stats.frequencySum;\n\n\t\t// this just means that if the rounded percentage is >= 10.0% then we'll use the other formatter\n\t\tconst useLarge = Math.round(ratio * 1000) >= 100;\n\t\tconst formatter = new Intl.NumberFormat(this.props.lang, useLarge ? largeOptions : smallOptions);\n\n\t\treturn <>{formatter.format(ratio)}</>;\n\t}\n\n\t/**\n\t * Formats the phrase text of the given phrase.\n\t */\n\tformatText(): JSX.Element {\n\t\tconst elements: JSX.Element[] = [];\n\n\t\tthis.props.phrase.phrase.words.forEach((word, i) => {\n\t\t\tconst classes: string[] = [];\n\n\t\t\t// is operator\n\t\t\tif (word.type !== WordTypes.WORD) {\n\t\t\t\tclasses.push(\"operator\");\n\t\t\t}\n\n\t\t\t// add type\n\t\t\tclasses.push(\n\t\t\t\tString(Word.nameOfType(word.type))\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^a-z]+/, \"-\")\n\t\t\t);\n\n\t\t\tif (elements.length > 0) {\n\t\t\t\telements.push(<React.Fragment key={i * 2 - 1}> </React.Fragment>);\n\t\t\t}\n\t\t\telements.push(\n\t\t\t\t<span key={i * 2} className={classes.join(\" \")}>\n\t\t\t\t\t{word.text}\n\t\t\t\t</span>\n\t\t\t);\n\t\t});\n\n\t\treturn <>{elements}</>;\n\t}\n\n\tonClick = (): void =>\n\t\tthis.props.onChange(this.props.phrase.phrase, phraseState =>\n\t\t\tphraseState.setExpanded(!this.props.phrase.expanded)\n\t\t);\n\n\trender(): JSX.Element {\n\t\tconst relativeFreq = this.props.phrase.phrase.frequency / this.props.stats.frequencyMax;\n\t\tconst backgroundSize = `${relativeFreq * 0.618 * 100}% 130%`;\n\n\t\treturn (\n\t\t\t<div className=\"phrase-container\" style={{ backgroundSize }} onClick={this.onClick}>\n\t\t\t\t<div>\n\t\t\t\t\t<span className={\"text\" + (this.props.phrase.pinned ? \" pinned\" : \"\")}>{this.formatText()}</span>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"freq\">\n\t\t\t\t\t{this.formatFrequency()}\n\t\t\t\t\t<span className=\"percentage\">{this.formatPercentage()}</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\ninterface PhraseInfoState {\n\t/** Whether the text of the phrase was recently copied to clipboard. */\n\tcopied: boolean;\n}\n\nclass PhraseInfo extends React.PureComponent<ItemProps, PhraseInfoState> {\n\tstate: PhraseInfoState = {\n\t\tcopied: false,\n\t};\n\tprivate cancelable = newCancelableCollection();\n\tprivate _copiedDelay: CancelablePromise<void> | undefined;\n\n\tcomponentDidMount(): void {\n\t\tconst snippets = this.props.phrase.snippets;\n\t\tif (snippets.loading === LoadingState.MORE_AVAILABLE && snippets.snippets.length === 0) {\n\t\t\t// load snippets when the user first expands a phrase\n\t\t\tthis.loadSnippets();\n\t\t}\n\t}\n\tcomponentWillUnmount(): void {\n\t\tthis.cancelable.cancel();\n\t}\n\n\tloadSnippets = (): void => {\n\t\tconst snippetState = this.props.phrase.snippets;\n\n\t\tif (snippetState.loading === LoadingState.MORE_AVAILABLE) {\n\t\t\t// mark as loading\n\t\t\tthis._change(p => p.setSnippets(p.snippets.setLoading(LoadingState.LOADING)));\n\n\t\t\t// load more snippets\n\t\t\tthis.cancelable(snippetState.supplier()).then(result => {\n\t\t\t\tlet change: PhraseStateChangeFn;\n\t\t\t\tif (result === false) {\n\t\t\t\t\tchange = phraseState =>\n\t\t\t\t\t\tphraseState.setSnippets(phraseState.snippets.setLoading(LoadingState.EXHAUSTED));\n\t\t\t\t} else {\n\t\t\t\t\tchange = phraseState =>\n\t\t\t\t\t\tphraseState.setSnippets(\n\t\t\t\t\t\t\tphraseState.snippets.setLoading(LoadingState.MORE_AVAILABLE).pushSnippets(result)\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis._change(change);\n\t\t\t}, ignoreCanceled);\n\t\t}\n\t};\n\n\tprivate _change(changeFn: PhraseStateChangeFn): void {\n\t\tthis.props.onChange(this.props.phrase.phrase, changeFn);\n\t}\n\n\tprivate _onCopyButtonClick = (): void => {\n\t\tthis._copiedDelay?.cancel();\n\n\t\tnavigator.clipboard.writeText(this.props.phrase.phrase.text);\n\n\t\t// set the \"copied\" state to true and then to false after 3sec\n\t\tthis.setState({ copied: true });\n\t\tthis._copiedDelay = this.cancelable(delay(3000));\n\t\tthis._copiedDelay.then(() => {\n\t\t\tthis.setState({ copied: false });\n\t\t}, ignoreCanceled);\n\t};\n\tprivate _onPinButtonClick = (): void => {\n\t\tthis._change(p => p.setPinned(!p.pinned));\n\t};\n\n\trender(): JSX.Element {\n\t\tconst l = createLocalizer(this.props, locales);\n\n\t\treturn (\n\t\t\t<div className=\"options\">\n\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t<TransparentButton\n\t\t\t\t\t\timage={url(CopyImage)}\n\t\t\t\t\t\ttext={this.state.copied ? l(\"copied\") : l(\"copy\")}\n\t\t\t\t\t\tonClick={this._onCopyButtonClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<TransparentButton\n\t\t\t\t\t\tselected={this.props.phrase.pinned}\n\t\t\t\t\t\timage={url(PinImage)}\n\t\t\t\t\t\ttext={l(\"pin\")}\n\t\t\t\t\t\tonClick={this._onPinButtonClick}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"examples-container\">\n\t\t\t\t\t<div className=\"examples-list\">\n\t\t\t\t\t\t{this.props.phrase.snippets.snippets.map((s, i) => (\n\t\t\t\t\t\t\t<PhraseExample key={i} phrase={this.props.phrase.phrase} snippet={s} />\n\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t{optional(this.props.phrase.snippets.loading === LoadingState.EXHAUSTED, () => (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<em>\n\t\t\t\t\t\t\t\t\t\t{this.props.phrase.snippets.snippets.length === 0\n\t\t\t\t\t\t\t\t\t\t\t? l(\"no-examples-found\")\n\t\t\t\t\t\t\t\t\t\t\t: l(\"no-further-examples-found\")}\n\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t\t{optional(this.props.phrase.snippets.loading !== LoadingState.EXHAUSTED, () => (\n\t\t\t\t\t\t<div className=\"load-more-container\">\n\t\t\t\t\t\t\t<LoadMoreButton\n\t\t\t\t\t\t\t\tloading={this.props.phrase.snippets.loading === LoadingState.LOADING}\n\t\t\t\t\t\t\t\tonClick={this.loadSnippets}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction PhraseExample(props: Readonly<{ phrase: Phrase; snippet: Snippet }>): JSX.Element {\n\tconst { phrase, snippet } = props;\n\n\tfunction emphasize(text: string): JSX.Element[] {\n\t\t/** The number of characters allowed around the phrase. */\n\t\tconst context = 200;\n\n\t\tconst textParts: JSX.Element[] = [];\n\t\tlet key = 0;\n\t\tconst pushBefore = (s: string, maxLength = Infinity): void => {\n\t\t\tif (s.length > maxLength) {\n\t\t\t\ts = s.substr(s.length - maxLength).replace(/^\\S*\\s+/, \"... \");\n\t\t\t}\n\t\t\ttextParts.push(<React.Fragment key={key++}>{s}</React.Fragment>);\n\t\t};\n\t\tconst pushAfter = (s: string, maxLength: number): void => {\n\t\t\tif (s.length > maxLength) {\n\t\t\t\ts = s.substr(0, maxLength).replace(/\\s+\\S*$/, \" ...\");\n\t\t\t}\n\t\t\ttextParts.push(<React.Fragment key={key++}>{s}</React.Fragment>);\n\t\t};\n\n\t\tconst re = getPhraseRegex(phrase.text);\n\t\tlet match;\n\t\twhile (text && (match = re.exec(text))) {\n\t\t\tif (textParts.length > 0 && match.index > context) {\n\t\t\t\t// the matches are too far apart\n\t\t\t\tpushAfter(text, context);\n\t\t\t\ttext = \"\";\n\t\t\t\tbreak;\n\t\t\t} else if (match.index > 0) {\n\t\t\t\tif (textParts.length === 0) {\n\t\t\t\t\tpushBefore(text.substr(0, match.index), context);\n\t\t\t\t} else {\n\t\t\t\t\tpushBefore(text.substr(0, match.index));\n\t\t\t\t}\n\t\t\t}\n\t\t\ttextParts.push(<strong key={key++}>{match[0]}</strong>);\n\t\t\ttext = text.substr(match.index + match[0].length);\n\t\t}\n\t\tif (text) {\n\t\t\tif (textParts.length === 0) {\n\t\t\t\t// something went wrong...\n\t\t\t\tpushAfter(text, context * 2);\n\t\t\t} else {\n\t\t\t\tpushAfter(text, context);\n\t\t\t}\n\t\t}\n\n\t\treturn textParts;\n\t}\n\n\tconst sources = Object.keys(snippet.urls).map(name => {\n\t\tconst href = snippet.urls[name];\n\t\treturn (\n\t\t\t<span key={name} className=\"source\">\n\t\t\t\t[\n\t\t\t\t<a href={href} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t{name}\n\t\t\t\t</a>\n\t\t\t\t]\n\t\t\t</span>\n\t\t);\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t{emphasize(snippet.text)}\n\t\t\t\t{sources}\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nconst locales: Locales<SimpleLocale<\n\t\"failed-to-load-examples\" | \"no-examples-found\" | \"no-further-examples-found\" | \"copy\" | \"copied\" | \"pin\"\n>> = {\n\ten: {\n\t\t\"failed-to-load-examples\": \"Failed to load examples.\",\n\t\t\"no-examples-found\": \"No examples found.\",\n\t\t\"no-further-examples-found\": \"No further examples found.\",\n\t\t\"copy\": \"Copy\",\n\t\t\"copied\": \"Copied\",\n\t\t\"pin\": \"Pin\",\n\t},\n\tde: {\n\t\t\"failed-to-load-examples\": \"Beispiele konnten nicht geladen werden.\",\n\t\t\"no-examples-found\": \"Keine Beispiele gefunden.\",\n\t\t\"no-further-examples-found\": \"Keine weiteren Beispiele gefunden.\",\n\t\t\"copy\": \"Kopieren\",\n\t\t\"copied\": \"Kopiert\",\n\t\t\"pin\": \"Anheften\",\n\t},\n};\n","/*!\n * reactjs-popup v1.5.0\n * (c) 2019-present Youssouf EL AZIZI <youssoufelazizi@gmail.com>\n * Released under the MIT License.\n */\nimport React from 'react';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\n\n\nfunction getCoordinatesForPosition(triggerBounding, ContentBounding, position, arrow, _ref) {\n  var offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n  var margin = arrow ? 8 : 0;\n  var args = position.split(' '); // the step N 1 : center the popup content => ok\n\n  var CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  var CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  var height = ContentBounding.height,\n      width = ContentBounding.width;\n  var top = CenterTop - height / 2;\n  var left = CenterLeft - width / 2;\n  var transform = '';\n  var arrowTop = '0%';\n  var arrowLeft = '0%'; // the  step N 2 : => ok\n\n  switch (args[0]) {\n    case 'top':\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(45deg)\";\n      arrowTop = '100%';\n      arrowLeft = '50%';\n      break;\n\n    case 'bottom':\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = \"rotate(225deg)\";\n      arrowLeft = '50%';\n      break;\n\n    case 'left':\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = \" rotate(-45deg)\";\n      arrowLeft = '100%';\n      arrowTop = '50%';\n      break;\n\n    case 'right':\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = \"rotate(135deg)\";\n      arrowTop = '50%';\n      break;\n\n    default:\n  }\n\n  switch (args[1]) {\n    case 'top':\n      top = triggerBounding.top;\n      arrowTop = \"\".concat(triggerBounding.height / 2, \"px\");\n      break;\n\n    case 'bottom':\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = \"\".concat(height - triggerBounding.height / 2, \"px\");\n      break;\n\n    case 'left':\n      left = triggerBounding.left;\n      arrowLeft = \"\".concat(triggerBounding.width / 2, \"px\");\n      break;\n\n    case 'right':\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = \"\".concat(width - triggerBounding.width / 2, \"px\");\n      break;\n\n    default:\n  }\n\n  top = args[0] === 'top' ? top - offsetY : top + offsetY;\n  left = args[0] === 'left' ? left - offsetX : left + offsetX;\n  return {\n    top: top,\n    left: left,\n    transform: transform,\n    arrowLeft: arrowLeft,\n    arrowTop: arrowTop\n  };\n}\n\nfunction calculatePosition(triggerBounding, ContentBounding, positions, arrow, _ref2, wrapperBox) {\n  var offsetX = _ref2.offsetX,\n      offsetY = _ref2.offsetY;\n  var bestCoords;\n  var i = 0;\n\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(triggerBounding, ContentBounding, positions[i], arrow, {\n      offsetX: offsetX,\n      offsetY: offsetY\n    });\n    var contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (contentBox.top <= wrapperBox.top || contentBox.left <= wrapperBox.left || contentBox.top + contentBox.height >= wrapperBox.top + wrapperBox.height || contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n}\n\nvar styles = {\n  popupContent: {\n    tooltip: {\n      position: 'absolute',\n      zIndex: '2',\n      width: '200px',\n      background: \"rgb(255, 255, 255)\",\n      border: \"1px solid rgb(187, 187, 187)\",\n      boxShadow: \"rgba(0, 0, 0, 0.2) 0px 1px 3px\",\n      padding: '5px'\n    },\n    modal: {\n      position: 'relative',\n      background: \"rgb(255, 255, 255)\",\n      width: '50%',\n      margin: 'auto',\n      border: \"1px solid rgb(187, 187, 187)\",\n      padding: '5px'\n    }\n  },\n  popupArrow: {\n    height: '10px',\n    width: '10px',\n    position: 'absolute',\n    background: 'rgb(255, 255, 255)',\n    transform: 'rotate(45deg)',\n    margin: '-5px',\n    zIndex: '-1',\n    boxShadow: 'rgba(0, 0, 0, 0.2) 1px 1px 1px'\n  },\n  overlay: {\n    tooltip: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0'\n    },\n    modal: {\n      position: 'fixed',\n      top: '0',\n      bottom: '0',\n      left: '0',\n      right: '0',\n      background: \"rgba(0, 0, 0,0.5)\",\n      display: 'flex',\n      zIndex: '999'\n    }\n  }\n};\nvar POSITION_TYPES = ['top left', 'top center', 'top right', 'right top', 'right center', 'right bottom', 'bottom left', 'bottom center', 'bottom right', 'left top', 'left center', 'left bottom', 'center center'];\n\nvar Popup = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Popup, _React$PureComponent);\n\n  function Popup(props) {\n    var _this;\n\n    _classCallCheck(this, Popup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popup).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"repositionOnResize\", function () {\n      _this.setPosition();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEscape\", function (e) {\n      if (e.key === 'Escape') _this.closePopup();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"lockScroll\", function () {\n      var lockScroll = _this.props.lockScroll;\n      var modal = _this.state.modal;\n      if (modal && lockScroll)\n        /* eslint-disable-next-line no-undef */\n        document.getElementsByTagName('body')[0].style.overflow = 'hidden';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetScroll\", function () {\n      var lockScroll = _this.props.lockScroll;\n      var modal = _this.state.modal;\n      if (modal && lockScroll)\n        /* eslint-disable-next-line no-undef */\n        document.getElementsByTagName('body')[0].style.overflow = 'auto';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePopup\", function (e) {\n      // https://reactjs.org/docs/events.html#event-pooling\n      e.persist();\n      if (_this.state.isOpen) _this.closePopup(e);else _this.openPopup(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openPopup\", function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onOpen = _this$props.onOpen;\n      var isOpen = _this.state.isOpen;\n      if (isOpen || disabled) return;\n      onOpen(e);\n\n      _this.setState({\n        isOpen: true\n      }, function () {\n        _this.setPosition();\n\n        _this.lockScroll();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closePopup\", function (e) {\n      var onClose = _this.props.onClose;\n      var isOpen = _this.state.isOpen;\n      if (!isOpen) return;\n      onClose(e);\n\n      _this.setState({\n        isOpen: false\n      }, function () {\n        _this.resetScroll();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function () {\n      clearTimeout(_this.timeOut);\n      var mouseEnterDelay = _this.props.mouseEnterDelay;\n      _this.timeOut = setTimeout(function () {\n        return _this.openPopup();\n      }, mouseEnterDelay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function () {\n      clearTimeout(_this.timeOut);\n      var mouseLeaveDelay = _this.props.mouseLeaveDelay;\n      _this.timeOut = setTimeout(function () {\n        return _this.closePopup();\n      }, mouseLeaveDelay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTooltipBoundary\", function () {\n      var keepTooltipInside = _this.props.keepTooltipInside;\n      var boundingBox = {\n        top: 0,\n        left: 0,\n\n        /* eslint-disable-next-line no-undef */\n        width: window.innerWidth,\n\n        /* eslint-disable-next-line no-undef */\n        height: window.innerHeight\n      };\n\n      if (typeof keepTooltipInside === 'string') {\n        /* eslint-disable-next-line no-undef */\n        var selector = document.querySelector(keepTooltipInside);\n\n        if (process.env.NODE_ENV !== 'production') {\n          if (selector === null) throw new Error(\"\".concat(keepTooltipInside, \" selector is not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value\"));\n        }\n\n        boundingBox = selector.getBoundingClientRect();\n      }\n\n      return boundingBox;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPosition\", function () {\n      var _this$state = _this.state,\n          modal = _this$state.modal,\n          isOpen = _this$state.isOpen;\n      if (modal || !isOpen) return;\n      var _this$props2 = _this.props,\n          arrow = _this$props2.arrow,\n          position = _this$props2.position,\n          offsetX = _this$props2.offsetX,\n          offsetY = _this$props2.offsetY,\n          keepTooltipInside = _this$props2.keepTooltipInside,\n          arrowStyle = _this$props2.arrowStyle,\n          className = _this$props2.className;\n\n      var helper = _this.HelperEl.getBoundingClientRect();\n\n      var trigger = _this.TriggerEl.getBoundingClientRect();\n\n      var content = _this.ContentEl.getBoundingClientRect();\n\n      var boundingBox = _this.getTooltipBoundary();\n\n      var positions = Array.isArray(position) ? position : [position]; // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n\n      if (keepTooltipInside || Array.isArray(position)) positions = [].concat(_toConsumableArray(positions), POSITION_TYPES);\n      var cords = calculatePosition(trigger, content, positions, arrow, {\n        offsetX: offsetX,\n        offsetY: offsetY\n      }, boundingBox);\n      _this.ContentEl.style.top = \"\".concat(cords.top - helper.top, \"px\");\n      _this.ContentEl.style.left = \"\".concat(cords.left - helper.left, \"px\");\n\n      if (arrow) {\n        _this.ArrowEl.style.transform = cords.transform;\n        _this.ArrowEl.style['-ms-transform'] = cords.transform;\n        _this.ArrowEl.style['-webkit-transform'] = cords.transform;\n        _this.ArrowEl.style.top = arrowStyle.top || cords.arrowTop;\n        _this.ArrowEl.style.left = arrowStyle.left || cords.arrowLeft;\n\n        _this.ArrowEl.classList.add(\"popup-arrow\");\n\n        if (className !== '') {\n          _this.ArrowEl.classList.add(\"\".concat(className, \"-arrow\"));\n        }\n      }\n\n      if (\n      /* eslint-disable-next-line no-undef */\n      window.getComputedStyle(_this.TriggerEl, null).getPropertyValue('position') === 'static' ||\n      /* eslint-disable-next-line no-undef */\n      window.getComputedStyle(_this.TriggerEl, null).getPropertyValue('position') === '') _this.TriggerEl.style.position = 'relative';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addWarperAction\", function () {\n      var _this$props3 = _this.props,\n          contentStyle = _this$props3.contentStyle,\n          className = _this$props3.className,\n          on = _this$props3.on;\n      var modal = _this.state.modal;\n      var popupContentStyle = modal ? styles.popupContent.modal : styles.popupContent.tooltip;\n      var childrenElementProps = {\n        className: \"popup-content \".concat(className !== '' ? \"\".concat(className, \"-content\") : ''),\n        style: Object.assign({}, popupContentStyle, contentStyle),\n        ref: _this.setContentRef,\n        onClick: function onClick(e) {\n          e.stopPropagation();\n        }\n      };\n\n      if (!modal && on.indexOf('hover') >= 0) {\n        childrenElementProps.onMouseEnter = _this.onMouseEnter;\n        childrenElementProps.onMouseLeave = _this.onMouseLeave;\n      }\n\n      return childrenElementProps;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTrigger\", function () {\n      var triggerProps = {\n        key: 'T',\n        ref: _this.setTriggerRef\n      };\n      var _this$props4 = _this.props,\n          on = _this$props4.on,\n          trigger = _this$props4.trigger;\n      var isOpen = _this.state.isOpen;\n      var onAsArray = Array.isArray(on) ? on : [on];\n\n      for (var i = 0, len = onAsArray.length; i < len; i++) {\n        switch (onAsArray[i]) {\n          case 'click':\n            triggerProps.onClick = _this.togglePopup;\n            break;\n\n          case 'hover':\n            triggerProps.onMouseEnter = _this.onMouseEnter;\n            triggerProps.onMouseLeave = _this.onMouseLeave;\n            break;\n\n          case 'focus':\n            triggerProps.onFocus = _this.onMouseEnter;\n            break;\n\n          default:\n        }\n      }\n\n      if (typeof trigger === 'function') return !!trigger && React.cloneElement(trigger(isOpen), triggerProps);\n      return !!trigger && React.cloneElement(trigger, triggerProps);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderContent\", function () {\n      var _this$props5 = _this.props,\n          arrow = _this$props5.arrow,\n          arrowStyle = _this$props5.arrowStyle,\n          children = _this$props5.children;\n      var _this$state2 = _this.state,\n          modal = _this$state2.modal,\n          isOpen = _this$state2.isOpen;\n      return React.createElement(\"div\", _extends({}, _this.addWarperAction(), {\n        key: \"C\"\n      }), arrow && !modal && React.createElement(\"div\", {\n        ref: _this.setArrowRef,\n        style: Object.assign({}, styles.popupArrow, arrowStyle)\n      }), typeof children === 'function' ? children(_this.closePopup, isOpen) : children);\n    });\n\n    _this.setTriggerRef = function (r) {\n      return _this.TriggerEl = r;\n    };\n\n    _this.setContentRef = function (r) {\n      return _this.ContentEl = r;\n    };\n\n    _this.setArrowRef = function (r) {\n      return _this.ArrowEl = r;\n    };\n\n    _this.setHelperRef = function (r) {\n      return _this.HelperEl = r;\n    };\n\n    _this.timeOut = 0;\n    var open = props.open,\n        _modal = props.modal,\n        defaultOpen = props.defaultOpen,\n        _trigger = props.trigger;\n    _this.state = {\n      isOpen: open || defaultOpen,\n      modal: _modal ? true : !_trigger // we create this modal state because the popup can't be a tooltip if the trigger prop doesn't exist\n\n    };\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props6 = this.props,\n          closeOnEscape = _this$props6.closeOnEscape,\n          defaultOpen = _this$props6.defaultOpen,\n          repositionOnResize = _this$props6.repositionOnResize;\n      if (defaultOpen) this.setPosition();\n\n      if (closeOnEscape) {\n        /* eslint-disable-next-line no-undef */\n        window.addEventListener('keyup', this.onEscape);\n      }\n\n      if (repositionOnResize) {\n        /* eslint-disable-next-line no-undef */\n        window.addEventListener('resize', this.repositionOnResize);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props7 = this.props,\n          open = _this$props7.open,\n          disabled = _this$props7.disabled;\n      var isOpen = this.state.isOpen;\n\n      if (prevProps.open !== open) {\n        if (open) this.openPopup();else this.closePopup(undefined, true);\n      }\n\n      if (prevProps.disabled !== disabled && disabled && isOpen) {\n        this.closePopup();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // kill any function to execute if the component is unmounted\n      clearTimeout(this.timeOut);\n      var _this$props8 = this.props,\n          closeOnEscape = _this$props8.closeOnEscape,\n          repositionOnResize = _this$props8.repositionOnResize; // remove events listeners\n\n      if (closeOnEscape) {\n        /* eslint-disable-next-line no-undef */\n        window.removeEventListener('keyup', this.onEscape);\n      }\n\n      if (repositionOnResize) {\n        /* eslint-disable-next-line no-undef */\n        window.removeEventListener('resize', this.repositionOnResize);\n      }\n\n      this.resetScroll();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props9 = this.props,\n          overlayStyle = _this$props9.overlayStyle,\n          closeOnDocumentClick = _this$props9.closeOnDocumentClick,\n          className = _this$props9.className,\n          on = _this$props9.on,\n          trigger = _this$props9.trigger;\n      var _this$state3 = this.state,\n          modal = _this$state3.modal,\n          isOpen = _this$state3.isOpen;\n      var overlay = isOpen && !(on.indexOf('hover') >= 0);\n      var ovStyle = modal ? styles.overlay.modal : styles.overlay.tooltip;\n      return [this.renderTrigger(), isOpen && React.createElement(\"div\", {\n        key: \"H\",\n        style: {\n          position: 'absolute',\n          top: '0px',\n          left: '0px'\n        },\n        ref: this.setHelperRef\n      }), overlay && React.createElement(\"div\", {\n        key: \"O\",\n        className: \"popup-overlay \".concat(className !== '' ? \"\".concat(className, \"-overlay\") : ''),\n        style: Object.assign({}, ovStyle, overlayStyle),\n        onClick: closeOnDocumentClick ? this.closePopup : undefined\n      }, modal && this.renderContent()), isOpen && !modal && this.renderContent()];\n    }\n  }]);\n\n  return Popup;\n}(React.PureComponent);\n\n_defineProperty(Popup, \"defaultProps\", {\n  trigger: null,\n  onOpen: function onOpen() {},\n  onClose: function onClose() {},\n  defaultOpen: false,\n  open: false,\n  disabled: false,\n  closeOnDocumentClick: true,\n  repositionOnResize: true,\n  closeOnEscape: true,\n  on: ['click'],\n  contentStyle: {},\n  arrowStyle: {},\n  overlayStyle: {},\n  className: '',\n  position: 'bottom center',\n  modal: false,\n  lockScroll: false,\n  arrow: true,\n  offsetX: 0,\n  offsetY: 0,\n  mouseEnterDelay: 100,\n  mouseLeaveDelay: 100,\n  keepTooltipInside: false\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  var PropTypes = require('prop-types');\n\n  var TRIGGER_TYPES = ['hover', 'click', 'focus'];\n}\n\nexport default Popup;","import React from \"react\";\nimport { LocalizableProps, Locales, SimpleLocale, createLocalizer } from \"../lib/localize\";\nimport {\n\tPhrase,\n\tnormalizeQuery,\n\tNetspeak,\n\tNetspeakInvalidQueryError,\n\tNetspeakError,\n\tReadonlyNetspeakSearchResult,\n} from \"../lib/netspeak\";\nimport { optional, LoadingState, assertNever, delay, url } from \"../lib/util\";\nimport NetspeakExampleQueries from \"./netspeak-example-queries\";\nimport {\n\tCancelableCollection,\n\tnewCancelableCollection,\n\twasCanceled,\n\tCancelablePromise,\n\tignoreCanceled,\n} from \"../lib/cancelable-promise\";\nimport { NetspeakSearchBar } from \"./netspeak-search-bar\";\nimport NetspeakResultList, {\n\tPhraseState,\n\tPhraseCollectionStats,\n\tPhraseSnippetState,\n\tOnChangeFn,\n} from \"./netspeak-result-list\";\nimport LoadMoreButton from \"./load-more-button\";\nimport { DEFAULT_SNIPPETS } from \"../lib/snippets\";\nimport \"./netspeak-search.scss\";\nimport { NetworkError } from \"../lib/jsonp\";\nimport InfoImage from \"../img/i.svg\";\nimport ClearImage from \"../img/x.svg\";\nimport HistoryImage from \"../img/history.svg\";\nimport TransparentButton from \"./transparent-button\";\nimport Popup from \"reactjs-popup\";\nimport NetspeakQueryText from \"./netspeak-query-text\";\nimport { QueryHistory } from \"../lib/query-history\";\n\nexport type ExampleVisibility = \"visible\" | \"hidden\" | \"peek\";\n\ninterface Props extends LocalizableProps {\n\tdefaultQuery?: string;\n\tcorpus: string;\n\tonCommitQuery?: (query: string, corpus: string) => void;\n\n\thistory?: QueryHistory;\n\n\tdefaultExampleVisibility?: ExampleVisibility;\n\tonSetExampleVisibility?: (value: ExampleVisibility) => void;\n\n\tpageSize?: number;\n}\ninterface State {\n\tquery: string;\n\tnormalizedQuery: NormalizedQuery;\n\tloadingState: LoadingState;\n\n\texamplesVisibility: ExampleVisibility;\n\n\tphrases: readonly PhraseState[];\n\tphrasesStats: PhraseCollectionStats;\n\n\tproblems: readonly Problem[];\n}\n\ntype Problem = UnknownWordProblem | NetworkingProblem | NetspeakProblem | UnknownProblem;\ntype UnknownWordProblem = Readonly<{ type: \"UnknownWord\"; word: string }>;\ntype UnknownProblem = Readonly<{ type: \"Unknown\"; details: string }>;\ntype NetworkingProblem = Readonly<{ type: \"ServerUnreachable\" }> | Readonly<{ type: \"NoConnection\" }>;\ntype NetspeakProblem =\n\t| Readonly<{ type: \"NetspeakServer\"; details: string }>\n\t| Readonly<{ type: \"InvalidQuery\"; details: string }>;\n\ntype NormalizedQuery = string;\n\nconst DEFAULT_PAGE_SIZE = 20;\n\nexport class NetspeakSearch extends React.PureComponent<Props, State> {\n\tprivate cancelable: CancelableCollection = newCancelableCollection();\n\tprivate _delayErrorPromise: CancelablePromise<void> | undefined;\n\tprivate _delayCommitPromise: CancelablePromise<void> | undefined;\n\n\tconstructor(props: Props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tquery: props.defaultQuery || \"\",\n\t\t\tnormalizedQuery: normalizeQuery(props.defaultQuery),\n\t\t\tloadingState: LoadingState.EXHAUSTED,\n\n\t\t\texamplesVisibility: props.defaultExampleVisibility || \"peek\",\n\n\t\t\tphrases: [],\n\t\t\tphrasesStats: EMPTY_STATS,\n\n\t\t\tproblems: [],\n\t\t};\n\t}\n\n\tcomponentDidMount(): void {\n\t\tthis._queryPhrases(this.state.normalizedQuery);\n\t}\n\tcomponentWillUnmount(): void {\n\t\tthis.cancelable.cancel();\n\t}\n\n\tprivate _setExampleVisibility(visibility: ExampleVisibility): void {\n\t\tthis.setState({ examplesVisibility: visibility });\n\t\tthis.props.onSetExampleVisibility?.(visibility);\n\t}\n\n\tprivate _commit(query: string): void {\n\t\tthis.props.onCommitQuery?.(query, this.props.corpus);\n\t}\n\tprivate _setQuery(query: string, commit: boolean): void {\n\t\tthis._delayErrorPromise?.cancel();\n\t\tthis._delayCommitPromise?.cancel();\n\n\t\t// hide examples if visibility was \"peek\"\n\t\tif (this.state.examplesVisibility === \"peek\") {\n\t\t\tthis._setExampleVisibility(\"hidden\");\n\t\t}\n\n\t\tconst normalizedQuery = normalizeQuery(query);\n\t\tconst changed = normalizedQuery !== this.state.normalizedQuery;\n\n\t\tthis.setState({ query, normalizedQuery });\n\t\tif (changed) {\n\t\t\tthis._queryPhrases(normalizedQuery);\n\t\t}\n\n\t\tif (commit) {\n\t\t\t// commit right away\n\t\t\tthis._commit(query);\n\t\t} else if (changed) {\n\t\t\t// wait to see whether the user changes the query again\n\t\t\tthis._delayCommitPromise = this.cancelable(delay(1000));\n\t\t\tthis._delayCommitPromise.then(() => {\n\t\t\t\tthis._commit(query);\n\t\t\t}, ignoreCanceled);\n\t\t}\n\t}\n\tprivate _queryPhrases(normalizedQuery: NormalizedQuery): void {\n\t\tif (!normalizedQuery) {\n\t\t\t// empty query\n\t\t\tthis.setState({ loadingState: LoadingState.EXHAUSTED });\n\t\t\tthis._clearPhrases(false);\n\t\t} else {\n\t\t\tthis.setState({ loadingState: LoadingState.LOADING });\n\n\t\t\tconst promise = this.cancelable(\n\t\t\t\tNetspeak.instance.search({\n\t\t\t\t\tquery: normalizedQuery,\n\t\t\t\t\tcorpus: this.props.corpus,\n\t\t\t\t\ttopk: this.props.pageSize || DEFAULT_PAGE_SIZE,\n\t\t\t\t})\n\t\t\t);\n\t\t\tthis._handleSearchPromise(normalizedQuery, promise);\n\t\t}\n\t}\n\tprivate _queryMorePhrases = (): void => {\n\t\tconst normalizedQuery = this.state.normalizedQuery;\n\t\t// current phrases = all phrases - phrases pinned from other queries\n\t\tconst currentPhrases = this.state.phrases.filter(p => p.phrase.query === normalizedQuery);\n\n\t\tif (currentPhrases.length === 0) {\n\t\t\tthrow new Error('Cannot query \"more\" phrases if there weren\\'t any to begin with.');\n\t\t}\n\n\t\tconst minFreq = currentPhrases[currentPhrases.length - 1].phrase.frequency;\n\n\t\tthis.setState({ loadingState: LoadingState.LOADING });\n\n\t\tconst promise = this.cancelable(\n\t\t\tNetspeak.instance.search(\n\t\t\t\t{\n\t\t\t\t\tquery: normalizedQuery,\n\t\t\t\t\tcorpus: this.props.corpus,\n\t\t\t\t\ttopk: this.props.pageSize || DEFAULT_PAGE_SIZE,\n\t\t\t\t\tmaxfreq: minFreq,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcheckComplete: true,\n\t\t\t\t\ttopkMode: \"fill\",\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tthis._handleSearchPromise(normalizedQuery, promise);\n\t};\n\tprivate _handleSearchPromise(\n\t\tnormalizedQuery: NormalizedQuery,\n\t\tpromise: CancelablePromise<ReadonlyNetspeakSearchResult>\n\t): void {\n\t\tthis._delayErrorPromise?.cancel();\n\n\t\tpromise.then(\n\t\t\tresult => {\n\t\t\t\tthis._delayErrorPromise?.cancel();\n\t\t\t\t// success\n\n\t\t\t\tif (this.state.normalizedQuery !== normalizedQuery) {\n\t\t\t\t\t// too late\n\t\t\t\t} else {\n\t\t\t\t\t// append all queried phrases\n\t\t\t\t\tthis._mergePhrases(normalizedQuery, result.phrases);\n\t\t\t\t\t// set the loading state\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloadingState:\n\t\t\t\t\t\t\tresult.complete || result.phrases.length === 0\n\t\t\t\t\t\t\t\t? LoadingState.EXHAUSTED\n\t\t\t\t\t\t\t\t: LoadingState.MORE_AVAILABLE,\n\t\t\t\t\t\tproblems: result.unknownWords.map<Problem>(word => ({ type: \"UnknownWord\", word })),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\treason => {\n\t\t\t\tthis._delayErrorPromise?.cancel();\n\t\t\t\t// error\n\n\t\t\t\tif (wasCanceled(reason) || this.state.normalizedQuery !== normalizedQuery) {\n\t\t\t\t\t// ignore\n\t\t\t\t} else {\n\t\t\t\t\t(this._delayErrorPromise = this.cancelable(delay(1000))).then(() => {\n\t\t\t\t\t\tif (this.state.normalizedQuery === normalizedQuery) {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tloadingState: LoadingState.EXHAUSTED,\n\t\t\t\t\t\t\t\tproblems: [this._reasonToProblem(reason)],\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, ignoreCanceled);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\tprivate _reasonToProblem(reason: any): Problem {\n\t\tif (reason instanceof NetworkError) {\n\t\t\tif (navigator.onLine) {\n\t\t\t\treturn { type: \"ServerUnreachable\" };\n\t\t\t} else {\n\t\t\t\treturn { type: \"NoConnection\" };\n\t\t\t}\n\t\t} else if (reason instanceof NetspeakInvalidQueryError) {\n\t\t\treturn {\n\t\t\t\ttype: \"InvalidQuery\",\n\t\t\t\tdetails: reason.message,\n\t\t\t};\n\t\t} else if (reason instanceof NetspeakError) {\n\t\t\treturn {\n\t\t\t\ttype: \"NetspeakServer\",\n\t\t\t\tdetails: reason.message,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: \"Unknown\",\n\t\t\t\tdetails: String(reason),\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate _clearPhrases(clearPinned: boolean): void {\n\t\tif (clearPinned) {\n\t\t\tthis.setState({\n\t\t\t\tphrases: [],\n\t\t\t\tphrasesStats: EMPTY_STATS,\n\t\t\t});\n\t\t} else {\n\t\t\tconst newPhrases = this.state.phrases.filter(p => p.pinned);\n\t\t\tif (newPhrases.length !== this.state.phrases.length) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tphrases: newPhrases,\n\t\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tprivate _mergePhrases(normalizedQuery: NormalizedQuery, phrases: Iterable<Phrase>): void {\n\t\tconst newPhrases = this.state.phrases.filter(p => p.pinned || p.phrase.query === normalizedQuery);\n\t\tconst textSet = new Set<string>(newPhrases.map(p => p.phrase.text));\n\t\tlet numberOfNewPhrases = 0;\n\n\t\tfor (const phrase of phrases) {\n\t\t\tif (!textSet.has(phrase.text)) {\n\t\t\t\ttextSet.add(phrase.text);\n\t\t\t\tnumberOfNewPhrases++;\n\t\t\t\tnewPhrases.push(\n\t\t\t\t\tnew PhraseState(\n\t\t\t\t\t\tphrase,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\tnew PhraseSnippetState(DEFAULT_SNIPPETS.getSupplier(phrase.text))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (numberOfNewPhrases > 0) {\n\t\t\t// set state to reflect new phrases\n\t\t\tnewPhrases.sort((a, b) => b.phrase.frequency - a.phrase.frequency);\n\t\t\tthis.setState({\n\t\t\t\tphrases: newPhrases,\n\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t});\n\t\t} else if (newPhrases.length !== this.state.phrases.length) {\n\t\t\t// no new phrases but some old ones have been removed\n\t\t\tthis.setState({\n\t\t\t\tphrases: newPhrases,\n\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _splitProblems(): Record<\"warnings\" | \"errors\", Problem[]> {\n\t\tconst warnings: Problem[] = [];\n\t\tconst errors: Problem[] = [];\n\t\tthis.state.problems.forEach(p => {\n\t\t\tif (p.type === \"UnknownWord\") {\n\t\t\t\twarnings.push(p);\n\t\t\t} else {\n\t\t\t\terrors.push(p);\n\t\t\t}\n\t\t});\n\n\t\treturn { warnings, errors };\n\t}\n\n\tprivate _onSearchBarQueryEnterHandler = (query: string): void => {\n\t\tthis._setQuery(query, false);\n\t};\n\tprivate _onExampleQueryClickHandler = (query: string): void => {\n\t\tif (this.state.examplesVisibility === \"peek\") {\n\t\t\tthis._setExampleVisibility(\"visible\");\n\t\t}\n\n\t\tthis._setQuery(query, true);\n\t};\n\tprivate _onPhraseChange: OnChangeFn = (phrase, change) => {\n\t\tconst phrases = this.state.phrases;\n\t\tconst index = phrases.findIndex(p => p.phrase === phrase);\n\t\tconst phraseState = phrases[index];\n\t\tconst newPhraseState = change(phraseState);\n\t\tif (newPhraseState !== phraseState) {\n\t\t\tconst newPhrases: readonly PhraseState[] = [\n\t\t\t\t...phrases.slice(0, index),\n\t\t\t\tnewPhraseState,\n\t\t\t\t...phrases.slice(index + 1),\n\t\t\t];\n\t\t\tthis.setState({\n\t\t\t\tphrases: newPhrases,\n\t\t\t\tphrasesStats: getStats(newPhrases),\n\t\t\t});\n\t\t}\n\t};\n\tprivate _onExampleButtonClick = (): void => {\n\t\t// toggle visibility\n\t\tthis._setExampleVisibility(this.state.examplesVisibility === \"hidden\" ? \"visible\" : \"hidden\");\n\t};\n\tprivate _onClearButtonClick = (): void => {\n\t\tthis._setQuery(\"\", true);\n\t\tthis._clearPhrases(true);\n\t};\n\n\tprivate _renderHistoryPopup(): JSX.Element {\n\t\tconst l = createLocalizer(this.props, locales);\n\n\t\treturn (\n\t\t\t<Popup\n\t\t\t\ttrigger={\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<TransparentButton image={url(HistoryImage)} />\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\tposition=\"bottom right\"\n\t\t\t\tcloseOnDocumentClick\n\t\t\t\tcloseOnEscape>\n\t\t\t\t{close => (\n\t\t\t\t\t<div className=\"history-wrapper\">\n\t\t\t\t\t\t{optional((this.props.history?.items.length ?? 0) === 0, () => (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<em>{l(\"noHistory\")}</em>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{this.props.history?.items.map(query => {\n\t\t\t\t\t\t\tconst onClick = (): void => {\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t\tthis._setQuery(query, true);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<button key={query} onClick={onClick}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<NetspeakQueryText query={query} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Popup>\n\t\t);\n\t}\n\n\trender(): JSX.Element {\n\t\tconst l = createLocalizer(this.props, locales);\n\t\tconst { warnings, errors } = this._splitProblems();\n\n\t\treturn (\n\t\t\t<div className=\"NetspeakSearch\">\n\t\t\t\t<div className=\"wrapper search-bar-wrapper\">\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<NetspeakSearchBar\n\t\t\t\t\t\t\t\t\t\tquery={this.state.query}\n\t\t\t\t\t\t\t\t\t\tonQueryEnter={this._onSearchBarQueryEnterHandler}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<TransparentButton\n\t\t\t\t\t\t\t\t\t\timage={url(InfoImage)}\n\t\t\t\t\t\t\t\t\t\tselected={this.state.examplesVisibility !== \"hidden\"}\n\t\t\t\t\t\t\t\t\t\tonClick={this._onExampleButtonClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<TransparentButton image={url(ClearImage)} onClick={this._onClearButtonClick} />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{optional(!!this.props.history, () => (\n\t\t\t\t\t\t\t\t\t<td>{this._renderHistoryPopup()}</td>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\n\t\t\t\t{optional(warnings.length > 0, () => (\n\t\t\t\t\t<div className=\"wrapper warnings-wrapper\">\n\t\t\t\t\t\t<div style={{ display: \"table\", width: \"100%\" }}>\n\t\t\t\t\t\t\t{warnings.map((p, i) => (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<ProblemInner key={i} lang={this.props.lang} problem={p} />\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{optional(errors.length > 0, () => (\n\t\t\t\t\t<div className=\"wrapper errors-wrapper\">\n\t\t\t\t\t\t<div style={{ display: \"table\", width: \"100%\" }}>\n\t\t\t\t\t\t\t{errors.map((p, i) => (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<ProblemInner key={i} lang={this.props.lang} problem={p} />\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{optional(this.state.examplesVisibility !== \"hidden\", () => (\n\t\t\t\t\t<div className=\"wrapper examples-wrapper\">\n\t\t\t\t\t\t<NetspeakExampleQueries\n\t\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\t\tcorpus={this.props.corpus}\n\t\t\t\t\t\t\tonQueryClicked={this._onExampleQueryClickHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\n\t\t\t\t{optional(this.state.phrases.length > 0, () => (\n\t\t\t\t\t<div className=\"wrapper result-list-wrapper\">\n\t\t\t\t\t\t<NetspeakResultList\n\t\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\t\tphrases={this.state.phrases}\n\t\t\t\t\t\t\tstats={this.state.phrasesStats}\n\t\t\t\t\t\t\tonChange={this._onPhraseChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{optional(\n\t\t\t\t\t!!this.state.normalizedQuery &&\n\t\t\t\t\t\tthis.state.phrases.length === 0 &&\n\t\t\t\t\t\tthis.state.loadingState === LoadingState.EXHAUSTED,\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<div className=\"wrapper no-phrases-wrapper\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<em>{l(\"noPhrasesFound\")}</em>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t)}\n\n\t\t\t\t{optional(this.state.loadingState !== LoadingState.EXHAUSTED, () => (\n\t\t\t\t\t<div className=\"wrapper load-more-wrapper\">\n\t\t\t\t\t\t<LoadMoreButton\n\t\t\t\t\t\t\tloading={this.state.loadingState === LoadingState.LOADING}\n\t\t\t\t\t\t\tonClick={this._queryMorePhrases}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction ProblemInner(props: { problem: Problem } & LocalizableProps): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\tconst { problem } = props;\n\n\tfunction withDetails(text: string): JSX.Element {\n\t\treturn (\n\t\t\t<details>\n\t\t\t\t<summary>{l(\"details\")}</summary>\n\t\t\t\t<p>{text}</p>\n\t\t\t</details>\n\t\t);\n\t}\n\n\tswitch (problem.type) {\n\t\tcase \"UnknownWord\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"unknownWord\")}\n\t\t\t\t\t{\": \"}\n\t\t\t\t\t<em>{problem.word}</em>\n\t\t\t\t</>\n\t\t\t);\n\n\t\tcase \"NoConnection\":\n\t\t\treturn <>{l(\"noConnectionError\")}</>;\n\t\tcase \"ServerUnreachable\":\n\t\t\treturn <>{l(\"serverUnreachableError\")}</>;\n\n\t\tcase \"InvalidQuery\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"invalidQueryError\")}\n\t\t\t\t\t{withDetails(problem.details)}\n\t\t\t\t</>\n\t\t\t);\n\t\tcase \"NetspeakServer\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"netspeakError\")}\n\t\t\t\t\t{withDetails(problem.details)}\n\t\t\t\t</>\n\t\t\t);\n\n\t\tcase \"Unknown\":\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{l(\"unknownError\")}\n\t\t\t\t\t{withDetails(problem.details)}\n\t\t\t\t</>\n\t\t\t);\n\n\t\tdefault:\n\t\t\tthrow assertNever(problem);\n\t}\n}\n\nconst locales: Locales<SimpleLocale<\n\t| \"noPhrasesFound\"\n\t| \"noHistory\"\n\t| \"unknownWord\"\n\t| \"noConnectionError\"\n\t| \"serverUnreachableError\"\n\t| \"invalidQueryError\"\n\t| \"netspeakError\"\n\t| \"unknownError\"\n\t| \"details\"\n>> = {\n\ten: {\n\t\tnoPhrasesFound: \"No phrases found.\",\n\t\tnoHistory: \"No query history.\",\n\n\t\tunknownWord: \"Unknown word\",\n\n\t\tnoConnectionError:\n\t\t\t\"No response form the Netspeak server. Please make sure you have a stable internet connection.\",\n\t\tserverUnreachableError: \"The Netspeak server failed to respond. Please retry in a few minutes.\",\n\t\tinvalidQueryError: \"Your input is not a valid Netspeak query.\",\n\t\tnetspeakError: \"An error occurred in Netspeak.\",\n\t\tunknownError: \"Unknown error.\",\n\n\t\tdetails: \"Details\",\n\t},\n\tde: {\n\t\tnoPhrasesFound: \"Keine Phrasen gefunden.\",\n\t\tnoHistory: \"Keine vorherigen Abfragen.\",\n\n\t\tunknownWord: \"Unbekanntes Wort\",\n\n\t\tnoConnectionError:\n\t\t\t\"Keine Antwort vom Netspeak-Server. Bitte stellen Sie sicher, dass ihr Gert mit dem Internet verbunden ist.\",\n\t\tserverUnreachableError: \"Keine Antwort vom Netspeak-Server. Bitte versuchen Sie es in ein paar Minuten erneut.\",\n\t\tinvalidQueryError: \"Ihre Eingabe ist keine valide Netspeak-Abfrage.\",\n\t\tnetspeakError: \"Es ist ein Fehler in Netspeak aufgetreten.\",\n\t\tunknownError: \"Unbekannter Fehler.\",\n\n\t\tdetails: \"Details\",\n\t},\n};\n\nconst EMPTY_STATS: PhraseCollectionStats = {\n\tfrequencyMax: 0,\n\tfrequencySum: 0,\n};\nfunction getStats(phrases: readonly PhraseState[]): PhraseCollectionStats {\n\tlet max = 0;\n\tlet sum = 0;\n\n\tfor (const { phrase } of phrases) {\n\t\tmax = Math.max(max, phrase.frequency);\n\t\tsum += phrase.frequency;\n\t}\n\n\tif (sum === 0) {\n\t\treturn EMPTY_STATS;\n\t} else {\n\t\treturn {\n\t\t\tfrequencyMax: max,\n\t\t\tfrequencySum: sum,\n\t\t};\n\t}\n}\n","import React from \"react\";\nimport \"./netspeak-header.scss\";\nimport { Locales, SimpleLocale, createLocalizer, LocalizableProps } from \"../lib/localize\";\nimport { Link } from \"gatsby\";\n\nexport default function NetspeakHeader(props: LocalizableProps): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\n\treturn (\n\t\t<div className=\"NetspeakHeader\">\n\t\t\t<div className=\"content\">\n\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t<span className=\"logo\"></span>\n\t\t\t\t</Link>\n\t\t\t\t<span className=\"slogan\">{l(\"slogan\")}</span>\n\t\t\t\t<div style={{ clear: \"both\" }}></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst locales: Locales<SimpleLocale<\"slogan\">> = {\n\ten: {\n\t\tslogan: \"One word leads to another.\",\n\t},\n\tde: {\n\t\tslogan: \"Ein Wort ergibt das andere.\",\n\t},\n};\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./netspeak-footer.scss\";\nimport {\n\tLocalizableProps,\n\tLocales,\n\tSimpleLocale,\n\tcreateLocalizer,\n\tSupportedLanguage,\n\tsetCurrentLang,\n} from \"../lib/localize\";\n\nexport default function NetspeakFooter(props: LocalizableProps): JSX.Element {\n\tconst l = createLocalizer(props, locales);\n\n\treturn (\n\t\t<div className=\"NetspeakFooter\">\n\t\t\t<div>\n\t\t\t\t<div id=\"webis-copyright\">\n\t\t\t\t\t{\"\\xA9 2019 \"}\n\t\t\t\t\t<a href=\"https://webis.de\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\tWebis Group\n\t\t\t\t\t</a>\n\t\t\t\t\t<Bullet />\n\t\t\t\t\t<a href=\"https://webis.de/people.html\" target=\"_blank\" rel=\"noopener noreferrer\" id=\"contact\">\n\t\t\t\t\t\t{l(\"contact\")}\n\t\t\t\t\t</a>\n\t\t\t\t\t<Bullet />\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://webis.de/impressum.html\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\tid=\"impressum-and-privacy\">\n\t\t\t\t\t\t{l(\"impressumAndPrivacy\")}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"netspeak-points\">\n\t\t\t\t\t<Link to=\"/help/\">{l(\"help\")}</Link>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"language-section\">\n\t\t\t\t\t<span className=\"pipe\">|</span>\n\t\t\t\t\t<LangSelect lang={props.lang} thisLang=\"de\">\n\t\t\t\t\t\tDeutsch\n\t\t\t\t\t</LangSelect>\n\t\t\t\t\t<Bullet />\n\t\t\t\t\t<LangSelect lang={props.lang} thisLang=\"en\">\n\t\t\t\t\t\tEnglish\n\t\t\t\t\t</LangSelect>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div style={{ clear: \"both\" }}></div>\n\t\t</div>\n\t);\n}\n\nconst locales: Locales<SimpleLocale<\"help\" | \"contact\" | \"impressumAndPrivacy\">> = {\n\ten: {\n\t\thelp: \"Help\",\n\t\tcontact: \"Contact\",\n\t\timpressumAndPrivacy: \"Impressum\\u00A0/\\u00A0Terms\\u00A0/\\u00A0Privacy\",\n\t},\n\tde: {\n\t\thelp: \"Hilfe\",\n\t\tcontact: \"Kontakt\",\n\t\timpressumAndPrivacy: \"Impressum\\u00A0/\\u00A0AGB\\u00A0/\\u00A0Datenschutz\",\n\t},\n};\n\nfunction LangSelect(props: { lang: string; thisLang: SupportedLanguage; children: React.ReactNode }): JSX.Element {\n\tconst { lang, thisLang } = props;\n\n\tconst className = lang === thisLang ? \"current-lang\" : \"\";\n\tconst clickHandler = (): void => {\n\t\tsetCurrentLang(thisLang);\n\t\twindow.location.reload();\n\t};\n\t// eslint-disable-next-line jsx-a11y/anchor-is-valid\n\treturn (\n\t\t<a className={className} href=\"#\" onClick={clickHandler}>\n\t\t\t{props.children}\n\t\t</a>\n\t);\n}\n\nfunction Bullet(): JSX.Element {\n\treturn <span className=\"bullet\">{\"\\u2022\"}</span>;\n}\n","import React from \"react\";\nimport \"./page.scss\";\nimport NetspeakHeader from \"./netspeak-header\";\nimport NetspeakFooter from \"./netspeak-footer\";\nimport { LocalizableProps } from \"../lib/localize\";\n\nexport default function Page(props: { children: React.ReactNode; className: string } & LocalizableProps): JSX.Element {\n\treturn (\n\t\t<div id=\"Page\" className={props.className}>\n\t\t\t<NetspeakHeader lang={props.lang} />\n\t\t\t<div id=\"content\">{props.children}</div>\n\t\t\t<div className=\"footer-wrapper\">\n\t\t\t\t<NetspeakFooter lang={props.lang} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0iIzc3NyIgZD0iTTEuOCAxNC44Yy0uMi0uMi0uMy0uNC0uMy0uNiAwLS4xLjQtLjguOC0xLjQuNC0uNiAxLjEtMS41IDEuNS0yIC40LS41LjgtLjkuOS0uOS4yIDAgMS42IDEuMiAxLjYgMS40IDAgLjEtLjggMS0xLjggMi0xLjkgMi0yLjIgMi4xLTIuNyAxLjV6bTcuNS0yLjNjLTMtMi41LTMuNy0zLjEtNS41LTQuNi0xLS45LTEuOS0xLjctMi0xLjgtLjEtLjMuMi0uNi44LS43IDEuNC0uMiAzLjItLjUgMy41LS41LjQgMCAuOC0uNCAyLjctMi42LjctLjggMS40LTEuNiAxLjUtMS42LjEtLjEuNS0uMS43LS4xLjQgMCAuNy4xIDEuNyAxIDEuMyAxLjEgMS44IDEuNiAxLjggMi4xIDAgLjYtLjEuOC0yLjMgMy4yLTEuNCAxLjYtMS4zIDEuNC0xLjIgMy44LjIgMy4xIDAgMy4zLTEuOCAxLjh6Ii8+Cjwvc3ZnPg==\"","import React from \"react\";\nimport favicon from \"../img/favicon.ico\";\n\nexport default function SharedHead(): JSX.Element {\n\treturn (\n\t\t<>\n\t\t\t<link rel=\"icon\" href={favicon} />\n\t\t\t<script type=\"text/javascript\">\n\t\t\t\t{`\n\t\t\tvar _gaq = _gaq || [];\n\t\t\t_gaq.push(['_setAccount', 'UA-19276564-1']);\n\t\t\t_gaq.push(['_setDomainName', 'none']);\n\t\t\t_gaq.push(['_setAllowLinker', true]);\n\t\t\t_gaq.push(['_trackPageview']);\n\t\t\t(function () {\n\t\t\t\tvar ga = document.createElement('script');\n\t\t\t\tga.type = 'text/javascript';\n\t\t\t\tga.async = true;\n\t\t\t\tga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n\t\t\t\tvar s = document.getElementsByTagName('script')[0];\n\t\t\t\ts.parentNode.insertBefore(ga, s);\n\t\t\t})();`}\n\t\t\t</script>\n\t\t</>\n\t);\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/**\n * Shuffles the given array.\n *\n * @param array\n */\nfunction shuffle<T>(array: T[]): void {\n\tlet j, x, i;\n\tfor (i = array.length - 1; i > 0; i--) {\n\t\tj = Math.floor(Math.random() * (i + 1));\n\t\tx = array[i];\n\t\tarray[i] = array[j];\n\t\tarray[j] = x;\n\t}\n}\n\n/**\n * Returns a random subset of the given values with `min(count, values.length)` elements.\n *\n * @param values\n * @param count\n * @returns\n */\nfunction randomValues<T>(values: readonly T[], count: number): T[] {\n\tif (values.length <= count) return values.slice(0);\n\tif (count === 1) return [values[Math.floor(Math.random() * values.length)]];\n\n\tconst copy = values.slice(0);\n\tshuffle(copy);\n\treturn copy.slice(0, count);\n}\n\n/**\n * A least recently used cache.\n */\nexport class LRUCache<V> {\n\tsize: number;\n\n\tprivate _length: number;\n\tprivate _head: CacheNode<string, V>;\n\tprivate _tail: CacheNode<string, V>;\n\tprivate _map: Record<string, CacheNode<string, V>> = {};\n\n\t/**\n\t * Creates an instance of LRUCache.\n\t *\n\t * @param size The maximum size of the cache.\n\t */\n\tconstructor(size = 100) {\n\t\tthis.size = size;\n\t\tthis._length = 0;\n\n\t\tthis._head = new CacheNode<string, V>(null as any, null as any);\n\t\tthis._tail = new CacheNode<string, V>(null as any, null as any);\n\t\tthis._head.next = this._tail;\n\t\tthis._tail.prev = this._head;\n\t}\n\n\t/**\n\t * Adds a new element to the cache.\n\t *\n\t * @param key The key of the element.\n\t * @param obj The element.\n\t */\n\tadd(key: string, obj: V): void {\n\t\treturn this.addAll({ [key]: obj });\n\t}\n\t/**\n\t * Adds any number of key-value-pairs to the cache.\n\t *\n\t * @param map The collection of key-value-pairs.\n\t */\n\taddAll(map: Record<string, V>): void {\n\t\tlet keys = Object.keys(map);\n\t\tif (keys.length === 0) return;\n\t\tif (keys.length > this.size) keys = keys.slice(0, this.size);\n\n\t\tconst toRemove = keys.length + this._length - this.size;\n\t\tif (toRemove > 0) {\n\t\t\trandomValues(Object.keys(this._map), toRemove).forEach(key => {\n\t\t\t\tthis.remove(key);\n\t\t\t});\n\t\t}\n\n\t\tfor (const key of keys) {\n\t\t\tconst node = new CacheNode<string, V>(key, map[key]);\n\t\t\tthis._tail.insertBefore(node);\n\t\t\tthis._map[key] = node;\n\t\t\tthis._length++;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the cached value.\n\t *\n\t * @param key The key of the cached element.\n\t * @param defaultValue The default value.\n\t * @returns The cached element of the default value.\n\t */\n\tget(key: string, defaultValue: V): V;\n\tget(key: string, defaultValue?: V): V | undefined;\n\tget(key: string, defaultValue?: V): V | undefined {\n\t\tconst node = this._map[key];\n\t\tif (node) {\n\t\t\tnode.remove();\n\t\t\tthis._head.insertAfter(node);\n\t\t\treturn node.obj;\n\t\t} else {\n\t\t\treturn defaultValue;\n\t\t}\n\t}\n\n\t/**\n\t * Returns whether an element with the given key is cached.\n\t *\n\t * @param key The key of the cached element.\n\t * @returns\n\t */\n\tcontains(key: string): boolean {\n\t\treturn Boolean(this._map[key]);\n\t}\n\n\t/**\n\t * Removes the cached element with the given key.\n\t *\n\t * @param key The key of the cached element.\n\t * @returns Whether there was an element cached.\n\t */\n\tremove(key: string): boolean {\n\t\tconst node = this._map[key];\n\t\tif (!node) return false;\n\t\tthis._removeNode(node);\n\t\treturn true;\n\t}\n\n\t_removeNode(node: CacheNode<string, V>): void {\n\t\tthis._length--;\n\t\tdelete this._map[node.key];\n\t\tnode.remove();\n\t}\n}\n\n/**\n * A node used by the internal implementation of the LRU cache.\n */\nclass CacheNode<K, V> {\n\tkey: K;\n\tobj: V;\n\n\tprev: CacheNode<K, V> | undefined = undefined;\n\tnext: CacheNode<K, V> | undefined = undefined;\n\n\tconstructor(key: K, obj: V) {\n\t\tthis.key = key;\n\t\tthis.obj = obj;\n\t}\n\n\tremove(): void {\n\t\tthis.prev!.next = this.next;\n\t\tthis.next!.prev = this.prev;\n\t}\n\n\tinsertAfter(afterNode: CacheNode<K, V>): void {\n\t\tafterNode.next = this.next;\n\t\tafterNode.prev = this;\n\n\t\tthis.next!.prev = afterNode;\n\t\tthis.next = afterNode;\n\t}\n\tinsertBefore(beforeNode: CacheNode<K, V>): void {\n\t\treturn this.prev!.insertAfter(beforeNode);\n\t}\n}\n","import { jsonp } from \"./jsonp\";\nimport { LRUCache } from \"./lru-cache\";\nimport { constructQueryParams, noop } from \"./util\";\n\n/**\n * Normalizes the given query such that two identical queries have the same string representation.\n */\nexport function normalizeQuery(query: string | undefined | null): string {\n\t// special values\n\tif (!query) return \"\";\n\n\t// normalize white spaces\n\treturn query.replace(/[\\s\\uFEFF\\xA0]+/g, \" \").trim();\n}\n\nexport interface Corpus {\n\t/** The unique key (or id) of the corpus. */\n\tkey: string;\n\t/** The english name of the corpus. */\n\tname: string;\n\t/** The ISO 639-1 name of the language of the corpus. Only available for Netspeak >= 4. */\n\tlanguage?: string;\n}\nexport interface CorporaInfo {\n\t/** The key of the default corpus. */\n\tdefault: string | undefined;\n\tcorpora: Corpus[];\n}\nexport interface NetspeakSearchRequest {\n\tquery: string;\n\tcorpus?: string;\n\tformat?: \"json\";\n\tmaxfreq?: number;\n\tmaxregexmatches?: number;\n\tnmax?: number;\n\tnmin?: number;\n\ttopk?: number;\n}\nexport interface NetspeakSearchOptions {\n\t/**\n\t * Whether the completeness of the resulting phrases should be explicitly checked. This cannot be done if `topk` is set to its maximum allowed value.\n\t */\n\tcheckComplete?: boolean;\n\t/**\n\t * If the top-k mode is `\"fill\"`, then the API will guarantee that there are no further phrases if less than k phrases were returned. The fill mode requires that `request.topk` is set and that `options.outputType` is not `\"raw\"`. This might result in multiple request being made.\n\t */\n\ttopkMode?: \"default\" | \"fill\";\n}\n\nexport interface ReadonlyNetspeakSearchResult {\n\t/** The phrases returned by the API. */\n\treadonly phrases: readonly Phrase[];\n\treadonly complete?: boolean | undefined;\n\t/** A list of unknown words returned by the API. */\n\treadonly unknownWords: readonly string[];\n}\nexport interface NetspeakSearchResult extends ReadonlyNetspeakSearchResult {\n\tphrases: Phrase[];\n\tcomplete?: boolean | undefined;\n\tunknownWords: string[];\n}\n\nexport class Netspeak {\n\tbaseUrl = Netspeak.defaultBaseUrl;\n\tdefaultCorpus = Netspeak.defaultCorpus;\n\tcorpusCaching = true;\n\n\tprivate _cache = new LRUCache<Promise<ReadonlyNetspeakSearchResult>>(100);\n\tprivate _cachedCorpus: Promise<Readonly<CorporaInfo>> | undefined = undefined;\n\n\t/**\n\t * Queries phrases from the Netspeak API using the given request.\n\t *\n\t * The returned phrase array will also have an optional `complete` property.\n\t * It indicates whether the phrase array is complete, so that no additional phrases can be obtained by increasing `topk` or deceasing `maxfreq`.\n\t * If the value is not set or `undefined`, it is not certain whether there are still phrases matching the query.\n\t *\n\t * @param request A request specifying the the options of the Netspeak API.\n\t * @param options\n\t */\n\tsearch(\n\t\trequest: Readonly<NetspeakSearchRequest>,\n\t\toptions?: Readonly<NetspeakSearchOptions>\n\t): Promise<ReadonlyNetspeakSearchResult> {\n\t\t// fill mode\n\t\tif (options?.topkMode === \"fill\") {\n\t\t\treturn this._fillSearch(request, { ...options });\n\t\t} else {\n\t\t\tconst key = JSON.stringify(request);\n\t\t\tconst cached = this._cache.get(key);\n\t\t\tif (cached !== undefined) {\n\t\t\t\treturn cached;\n\t\t\t} else {\n\t\t\t\tconst uncached = this._uncachedSearch(request);\n\t\t\t\tuncached.then(res => {\n\t\t\t\t\t// only cache successful responses\n\t\t\t\t\tthis._cache.add(key, Promise.resolve(res));\n\t\t\t\t}, noop);\n\t\t\t\treturn uncached;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _uncachedSearch(request: Readonly<NetspeakSearchRequest>): Promise<ReadonlyNetspeakSearchResult> {\n\t\ttry {\n\t\t\t// copy request\n\t\t\tconst req = { ...request };\n\n\t\t\t// configure request\n\t\t\treq.format = \"json\";\n\t\t\tif (!req.corpus) {\n\t\t\t\treq.corpus = this.defaultCorpus;\n\t\t\t}\n\t\t\t// TODO: proper handling of lower-case indexes\n\t\t\tif (req.corpus === \"web-en\") {\n\t\t\t\treq.query = req.query.toLowerCase();\n\t\t\t}\n\n\t\t\t// get URL\n\t\t\tconst url = this.baseUrl + \"search\" + constructQueryParams(req);\n\n\t\t\treturn jsonp<any>(url).then(json => {\n\t\t\t\tconst query = req.query;\n\t\t\t\tconst corpus = req.corpus!;\n\n\t\t\t\t// for information on how the JSON object is structured see www.netspeak.org\n\n\t\t\t\tconst errorCode = json[\"9\"];\n\t\t\t\tif (errorCode) {\n\t\t\t\t\t// json[\"9\"]:  error code for any value != 0\n\t\t\t\t\t// json[\"10\"]: error message\n\t\t\t\t\tconst errorMessage = json[\"10\"];\n\t\t\t\t\tif (errorCode === 1) {\n\t\t\t\t\t\tthrow new NetspeakInvalidQueryError(errorMessage);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new NetspeakError(errorCode, errorMessage);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// json[\"4\"]: [ // array of phrases\n\t\t\t\t//     {\n\t\t\t\t//         \"1\": internal id (int),\n\t\t\t\t//         \"2\": absolute frequency (int),\n\t\t\t\t//         \"3\": [ // array of words\n\t\t\t\t//             {\n\t\t\t\t//                 \"1\": type of word (int),\n\t\t\t\t//                 \"2\": the word (string)\n\t\t\t\t//             }, ...\n\t\t\t\t//         ]\n\t\t\t\t//     }, ...\n\t\t\t\t// ];\n\t\t\t\tconst rawPhrases: {\n\t\t\t\t\t\"1\": number;\n\t\t\t\t\t\"2\": number;\n\t\t\t\t\t\"3\": { \"1\": number; \"2\": string }[];\n\t\t\t\t}[] = json[\"4\"] || [];\n\n\t\t\t\tconst phrases = rawPhrases.map(phrase => {\n\t\t\t\t\tconst words = phrase[\"3\"].map(w => new Word(w[\"2\"], w[\"1\"]));\n\t\t\t\t\treturn new Phrase(words, phrase[\"2\"], query, corpus);\n\t\t\t\t});\n\n\t\t\t\tconst unknownWords: string[] = json[\"5\"] || [];\n\n\t\t\t\treturn {\n\t\t\t\t\tphrases,\n\t\t\t\t\tunknownWords,\n\t\t\t\t};\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t/**\n\t * Queries phrases from the Netspeak API using the given request.\n\t *\n\t * This version of search guarantees that if not request.topk phrases are returned that there are no further phrases.\n\t *\n\t * To guarantees this, there might be as much as request.topk requests to the Netspeak API.\n\t *\n\t * @private\n\t * @param request A request specifying the the options of the Netspeak API.\n\t * @param options\n\t * @returns\n\t */\n\tprivate _fillSearch(\n\t\trequest: Readonly<NetspeakSearchRequest>,\n\t\toptions: NetspeakSearchOptions\n\t): Promise<NetspeakSearchResult> {\n\t\t// copy request\n\t\tconst req = { ...request };\n\n\t\ttry {\n\t\t\t// check topk\n\t\t\tif (typeof req.topk !== \"number\") {\n\t\t\t\tthrow new TypeError(\"request.topk has to be a number.\");\n\t\t\t}\n\n\t\t\t// prepare\n\t\t\tdelete options.topkMode;\n\n\t\t\tconst goal = req.topk;\n\n\t\t\tconst result: NetspeakSearchResult & { complete: boolean } = {\n\t\t\t\tphrases: [],\n\t\t\t\tcomplete: false,\n\t\t\t\tunknownWords: [],\n\t\t\t};\n\t\t\tconst unknownWordsSet: Record<string, true> = {};\n\n\t\t\t/**\n\t\t\t * A \"recursive\" function to continue loading phrases until a certain number of phases has been loaded or\n\t\t\t * there are no more phrases left.\n\t\t\t */\n\t\t\tconst fill = (): Promise<NetspeakSearchResult & { complete: boolean }> => {\n\t\t\t\treq.topk = goal - result.phrases.length + 1; // + 1 to check for completeness\n\n\t\t\t\treturn this.search(req, options).then(({ phrases, unknownWords }) => {\n\t\t\t\t\t// append new phrases\n\t\t\t\t\tresult.phrases.push(...phrases);\n\n\t\t\t\t\t// add new unknown words\n\t\t\t\t\tunknownWords.forEach(word => {\n\t\t\t\t\t\tif (!unknownWordsSet[word]) {\n\t\t\t\t\t\t\tunknownWordsSet[word] = true;\n\t\t\t\t\t\t\tresult.unknownWords.push(word);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// no new phrases\n\t\t\t\t\tif (phrases.length === 0) {\n\t\t\t\t\t\tresult.complete = true;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t\t// queried more than necessary -> done & incomplete\n\t\t\t\t\tif (result.phrases.length > goal) {\n\t\t\t\t\t\tresult.complete = false;\n\t\t\t\t\t\tresult.phrases.splice(goal, goal - result.phrases.length);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t\t// there are still phrases left to query\n\n\t\t\t\t\t// adjust maxFreq\n\t\t\t\t\tconst newMaxFreq = phrases[phrases.length - 1].frequency;\n\t\t\t\t\treq.maxfreq = req.maxfreq === newMaxFreq ? newMaxFreq - 1 : newMaxFreq;\n\n\t\t\t\t\treturn fill();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn fill();\n\t\t} catch (error) {\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t}\n\n\t/**\n\t * Queries all available corpora from the Netspeak API.\n\t */\n\tqueryCorpora(): Promise<Readonly<CorporaInfo>> {\n\t\t// cached\n\t\tif (this.corpusCaching && this._cachedCorpus) {\n\t\t\treturn this._cachedCorpus;\n\t\t}\n\n\t\tconst result = jsonp<any>(this.baseUrl + \"corpus\").then(json => {\n\t\t\tif (\"default\" in json && \"corpora\" in json) {\n\t\t\t\t// Netspeak 4\n\t\t\t\treturn json as CorporaInfo;\n\t\t\t} else {\n\t\t\t\t// Netspeak 3\n\n\t\t\t\tconst corpora: CorporaInfo = {\n\t\t\t\t\tdefault: undefined,\n\t\t\t\t\tcorpora: [],\n\t\t\t\t};\n\n\t\t\t\tfor (const corpus of json) {\n\t\t\t\t\t// corpus = { key: String, name: String, isDefault: Boolean }\n\n\t\t\t\t\tif (corpus.isDefault && corpora.default === undefined) corpora.default = corpus.key;\n\t\t\t\t\tdelete corpus.isDefault;\n\n\t\t\t\t\tcorpora.corpora.push(corpus);\n\t\t\t\t}\n\n\t\t\t\treturn corpora;\n\t\t\t}\n\t\t});\n\n\t\tif (this.corpusCaching) {\n\t\t\tthis._cachedCorpus = result;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * The default base URL of the Netspeak API.\n\t */\n\tstatic get defaultBaseUrl(): string {\n\t\treturn \"https://api.netspeak.org/netspeak4/\";\n\t}\n\n\t/**\n\t * The default corpus specified by the Netspeak API.\n\t */\n\tstatic get defaultCorpus(): string {\n\t\treturn \"web-en\";\n\t}\n\n\tstatic get instance(): Netspeak {\n\t\treturn (defaultNetspeakInstance = defaultNetspeakInstance || new Netspeak());\n\t}\n}\n\nlet defaultNetspeakInstance: Netspeak | undefined = undefined;\n\nexport class NetspeakError extends Error {\n\tconstructor(errorCode: number | string, message: string) {\n\t\tsuper(\"Netspeak error: \" + errorCode + \": \" + message);\n\t}\n}\nexport class NetspeakInvalidQueryError extends NetspeakError {\n\tconstructor(message: string) {\n\t\tsuper(1, \"Invalid Query: \" + message);\n\t}\n}\n\n/**\n * The different types of operators that matched a given word.\n */\nexport enum WordTypes {\n\tWORD = 0,\n\tQ_MARK = 1,\n\tASTERISK = 2,\n\tDICT_SET = 3,\n\tORDER_SET = 4,\n\tOPTION_SET = 5,\n\tPLUS = 6,\n\tREGEX = 7,\n\tORDER_SET_REGEX = 8,\n\tOPTION_SET_REGEX = 9,\n}\n\nexport class Word {\n\t/**\n\t * @param text The text of the word.\n\t * @param type The type of operator the word matches.\n\t */\n\tconstructor(public readonly text: string, public readonly type: WordTypes = WordTypes.WORD) {}\n\n\t/**\n\t * Returns the name of the given word type\n\t * or undefined if the given type does not equal any known word type.\n\t *\n\t * @param type The word type.\n\t * @returns The name.\n\t */\n\tstatic nameOfType(type: WordTypes): string {\n\t\treturn WordTypes[type];\n\t}\n}\n\n/**\n * A phrase is phrase list of words that match phrase query.\n */\nexport class Phrase {\n\treadonly text: string;\n\treadonly id: string;\n\n\t/**\n\t * Creates an instance of Phrase.\n\t *\n\t * @param words The array of words creating the phrase.\n\t * @param frequency The absolute frequency of the phrase.\n\t * @param query The query this phase matches.\n\t * @param corpus The corpus from which the phrases where retrieved.\n\t */\n\tconstructor(\n\t\tpublic readonly words: readonly Word[],\n\t\tpublic readonly frequency: number,\n\t\tpublic readonly query: string,\n\t\tpublic readonly corpus: string\n\t) {\n\t\tthis.text = this.words.map(w => w.text || \"\").join(\" \");\n\t\tthis.id = this.corpus + \"\\n\" + this.text;\n\t}\n}\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView; // Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    } // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n\n\n    var it;\n\n    if (hasMap && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (hasSet && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    } // END: Modifications\n\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (a[i] !== b[i]) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    } // END: fast-deep-equal\n    // START: react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element) return false; // custom handling for React/Preact\n\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n        continue;\n      } // all other properties should be traversed as usual\n\n\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    } // END: react-fast-compare\n    // START: fast-deep-equal\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","module.exports = \"data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/X0rY/9jT9gD///8A////Af///wH///8AKQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/X0rY//38/gH///8A////ACkMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8tEcz//v7/Af///wEpDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/y0RzP8pDMv/KQzL/19K2P////8AKQzL/ykMy//+/v7///////////8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy///////KQzL/ykMy/8pDMv/+/v+ACkMy/8pDMv/NhvO//////8pDMv/KQzL/ykMy/8pDMv/KQzL/zgdz//+/v///////ykMy/8pDMv/KQzL/19K2P8pDMv/KQzL/y8TzP//////KQzL/ykMy/8pDMv/KQzL/y4SzP/6+v7/9fT9//39/v8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8sD8z//////ykMy/8pDMv/KQzL/yoNy//x7/z//Pz+/zAUzf//////Kg3L/ykMy/8pDMv/KQzL/ykMy/8pDMv/Kg3L//////8pDMv/KQzL/ykMy////////////ykMy/8pDMv//////ysPzP8pDMv/KQzL/ykMy/8pDMv/KQzL/yoNy///////KQzL/ykMy////////////ykMy/8pDMv/KQzL//////8tEMz/KQzL/ykMy/8pDMv/KQzL/ykMy/8qDcv//////ykMy////////////ykMy/8pDMv/KQzL/ykMy///////LxPM/ykMy/8pDMv/KQzL/ykMy/8pDMv/Kw/M//z8/P///////////ykMy/8pDMv/KQzL/ykMy/8pDMv//////zEWzf8pDMv/KQzL/ykMy/8pDMv/KQzL/y8Tzf/+/v///////ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL//////83HM7/KQzL/ykMy/8pDMv/KQzL/ykMy////////////ykMy/8pDMv/KQzL/ykMy/8pDMv/NRnO/////////////////ykMy/8pDMv/KQzL/ykMy/8rDsv/Kg3L/yoNy/8pDMv/KQzL/ykMy/8pDMv/KQzL/yoNy/8qDsv/KQzL/yoNy/8qDcv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/KQzL/ykMy/8pDMv/AB8AAAAHAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"","import React from \"react\";\n\nexport default function dynamic(supplier: () => JSX.Element): JSX.Element {\n\tconst isSSR = typeof window === \"undefined\";\n\tif (isSSR) {\n\t\treturn <></>;\n\t} else {\n\t\treturn supplier();\n\t}\n}\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { noop } from \"./util\";\n\ntype ResolveRejectCancelCallback<T> = (promise: CancelablePromise<T>, reason: \"resolve\" | \"reject\" | \"cancel\") => void;\n\nexport class CancelablePromise<T> {\n\tprivate _isCanceled = false;\n\tprivate readonly _callback: ResolveRejectCancelCallback<T> | undefined;\n\tprivate readonly _wrapped: Promise<T>;\n\n\tconstructor(promise: Promise<T>, callback?: ResolveRejectCancelCallback<T>) {\n\t\tthis._callback = callback;\n\t\tthis._wrapped = new Promise((resolve, reject) => {\n\t\t\tpromise.then(\n\t\t\t\tval => {\n\t\t\t\t\tif (this._isCanceled) {\n\t\t\t\t\t\treject({ isCanceled: true });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(val);\n\t\t\t\t\t\tthis._callback?.(this, \"resolve\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tif (this._isCanceled) {\n\t\t\t\t\t\treject({ isCanceled: true });\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t\tthis._callback?.(this, \"reject\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\tthen<TResult1 = T, TResult2 = never>(\n\t\tonfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\tonrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n\t): Promise<TResult1 | TResult2> {\n\t\treturn this._wrapped.then(onfulfilled, onrejected);\n\t}\n\tcancel(): void {\n\t\tif (this._isCanceled === false) {\n\t\t\tthis._isCanceled = true;\n\t\t\tthis._callback?.(this, \"cancel\");\n\t\t}\n\t}\n}\n\nexport const ignoreCanceled = (reason: unknown): void => {\n\tif (wasCanceled(reason)) {\n\t\t// ignore\n\t} else {\n\t\tthrow reason;\n\t}\n};\n\n/**\n * Returns whether the reason a promise rejected is that it was canceled.\n *\n * @param reason\n */\nexport function wasCanceled(reason: any): reason is { isCanceled: true } {\n\treturn reason && typeof reason === \"object\" && reason.isCanceled === true;\n}\n\n/**\n * A collection of cancelable promises.\n *\n * This collection provides a convenient way to create cancelable promises and to cancel them all at once.\n *\n * By calling the `cancel` function, all cancelable promises created by this collection will be canceled. This includes\n * the cancelable promises created after this function was called.\n */\nexport interface CancelableCollection {\n\t<T>(promise: Promise<T>): CancelablePromise<T>;\n\tcancel(): void;\n}\n\nconst CANCELED = new CancelablePromise<any>(Promise.resolve());\nCANCELED.then(noop, noop);\nCANCELED.cancel();\n\nexport function newCancelableCollection(): CancelableCollection {\n\tlet isCanceled = false;\n\tconst pending = new Set<CancelablePromise<any>>();\n\tfunction deletePromise(promise: CancelablePromise<any>): void {\n\t\tpending.delete(promise);\n\t}\n\n\tfunction CancelableCollection<T>(promise: Promise<T>): CancelablePromise<T> {\n\t\tif (isCanceled) {\n\t\t\treturn CANCELED;\n\t\t} else {\n\t\t\tconst cancelable = new CancelablePromise(promise, deletePromise);\n\t\t\tpending.add(cancelable);\n\t\t\treturn cancelable;\n\t\t}\n\t}\n\tCancelableCollection.cancel = (): void => {\n\t\tif (!isCanceled) {\n\t\t\tisCanceled = true;\n\t\t\tpending.forEach(p => p.cancel());\n\t\t}\n\t};\n\n\treturn CancelableCollection;\n}\n","let idCounter = 0;\n\n/**\n * Queries the JSON result for the given URL.\n *\n * The given URL is not allowed to contain a `callback` parameter.\n *\n * @param url\n * @param timeout\n * @returns\n */\nexport function jsonp<T>(url: string, timeout = 20000): Promise<T> {\n\treturn new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tif (!url) throw new Error(\"url cannot be \" + url);\n\n\t\t\t// DO NOT use URL here\n\t\t\t// Edge can't handle it. I'm serious. Edge can't even build an URL.\n\n\t\t\t// check for callback\n\t\t\tif (/[&?]callback=/i.test(url)) throw new Error(\"url is not allowed to contain a callback parameter.\");\n\n\t\t\t// convenience functions\n\t\t\tconst addCallback = (id: string, callback: (value: T) => void): string => {\n\t\t\t\t(window as any)[id] = callback;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tconst removeCallback = (id: string, timeoutId: number): void => {\n\t\t\t\t// timeout\n\t\t\t\twindow.clearTimeout(timeoutId);\n\t\t\t\t// remove callback\n\t\t\t\tdelete window[id as any];\n\t\t\t\t// remove script\n\t\t\t\tconst script = document.getElementById(id);\n\t\t\t\tif (script) script.remove();\n\t\t\t};\n\n\t\t\t// id\n\t\t\tconst id = \"jsonp$$\" + idCounter++;\n\t\t\t// eslint-disable-next-line prefer-const\n\t\t\tlet timeoutId: number;\n\n\t\t\t// callbacks\n\t\t\tconst callbackSuccess = (json: T): void => {\n\t\t\t\tremoveCallback(id, timeoutId);\n\t\t\t\tresolve(json);\n\t\t\t};\n\t\t\tconst callbackError = (message: NetworkError): void => {\n\t\t\t\tremoveCallback(id, timeoutId);\n\t\t\t\treject(message);\n\t\t\t};\n\n\t\t\t// set URL callback\n\t\t\tconst prefix = url.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n\t\t\turl += prefix + \"callback=\" + encodeURIComponent(addCallback(id, callbackSuccess));\n\n\t\t\t// set timeout\n\t\t\ttimeoutId = window.setTimeout(() => {\n\t\t\t\tcallbackError(new TimeoutError(`Could not reach server after ${timeout / 1000} seconds for ${url}`));\n\t\t\t}, timeout);\n\n\t\t\t// create script\n\t\t\tconst script = document.createElement(\"SCRIPT\");\n\t\t\tscript.id = id;\n\t\t\tscript.onerror = (): void => callbackError(new NetworkError(`Unknown networking error for ${url}`));\n\t\t\tscript.setAttribute(\"async\", \"true\");\n\t\t\tscript.setAttribute(\"src\", url);\n\n\t\t\tdocument.body.appendChild(script);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t});\n}\n\nexport class NetworkError extends Error {}\nexport class TimeoutError extends NetworkError {}\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPGcgZmlsbD0iIzc3NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjkyLjc3KSI+CiAgICA8cGF0aCBkPSJNOCAyOTIuODdhNy43NSA3Ljc1IDAgMCAwLTQuODQgMS42M2wtLjY4LjUxLS43OC0uNzVjLS44NC0uODMtMS4xMy0uOTMtMS41LS41Ni0uMTkuMTktLjIuMzMtLjIgMi43NVYyOTlsLjI1LjI1LjI0LjI1SDUuNWwuMjYtLjI2Yy4zOC0uMzcuMjYtLjY2LS42NC0xLjU3bC0uNzctLjc4LjMtLjI0YTUuMzYgNS4zNiAwIDEgMSA1LjI1IDkuMmMtLjUyLjIyLS44Ny4yOC0xLjcuMzItLjk1LjA0LTEuMTMuMDItMS44NC0uMjJhNS4zNiA1LjM2IDAgMCAxLTIuMy0xLjQ1Yy0uMjYtLjI4LS41Mi0uNS0uNTgtLjVhNi41IDYuNSAwIDAgMC0xLjY4IDEuNzRjMCAuMjkgMS4xNiAxLjQgMS45NSAxLjg3Ljc1LjQ1IDEuNzEuODQgMi41NSAxLjAzLjk2LjIyIDMuMDMuMTQgMy45NS0uMTVhOC4wNiA4LjA2IDAgMCAwIDUuNzEtOC4yIDcuNzEgNy43MSAwIDAgMC00LjUxLTYuNjUgNi43NyA2Ljc3IDAgMCAwLTMuNDUtLjc3eiIvPgogICAgPHJlY3Qgd2lkdGg9IjQuNTgiIGhlaWdodD0iMiIgeD0iMy45NCIgeT0iMzAwLjU3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHBhaW50LW9yZGVyPSJmaWxsIG1hcmtlcnMgc3Ryb2tlIiByeT0iMSIvPgogICAgPHJlY3Qgd2lkdGg9IjEuOTUiIGhlaWdodD0iNS44OCIgeD0iMjM4LjU2IiB5PSIxNzguNDkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgcGFpbnQtb3JkZXI9ImZpbGwgbWFya2VycyBzdHJva2UiIHJ5PSIuOTciIHRyYW5zZm9ybT0icm90YXRlKDUxLjEpIi8+CiAgICA8cmVjdCB3aWR0aD0iLjAyIiBoZWlnaHQ9Ii40MyIgeD0iNi40NSIgeT0iMzAxLjQ2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHBhaW50LW9yZGVyPSJmaWxsIG1hcmtlcnMgc3Ryb2tlIiByeT0iLjAxIi8+CiAgPC9nPgo8L3N2Zz4=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0iIzc3NyIgZD0iTTguODQgMS4zdjIuNDdINi4wOFYxLjN6bS4zMiA0LjQxdjcuOTZoMi43OHEuODQgMCAxLjIuMzMuMzUuMzIuMzUuODQgMCAuNTEtLjM2Ljg0LS4zNS4zMi0xLjE5LjMySDQuMDVxLS44NCAwLTEuMi0uMzItLjM1LS4zMy0uMzUtLjg1IDAtLjUxLjM1LS44My4zNi0uMzMgMS4yLS4zM2gyLjc5VjguMDNINC45N3EtLjgzIDAtMS4xOS0uMzEtLjM2LS4zMy0uMzYtLjg1IDAtLjUxLjM1LS44My4zNi0uMzMgMS4yLS4zM3oiLz4KPC9zdmc+Cg==\"","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\nvar ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\",\n  TARGET: \"target\"\n};\nvar REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n    bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return React.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case ATTRIBUTE_NAMES.BODY:\n    case ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      classCallCheck(this, HelmetWrapper);\n      return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case TAG_NAMES.SCRIPT:\n        case TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _babelHelpers$extends;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _babelHelpers$extends2, _babelHelpers$extends3;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n        case TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _babelHelpers$extends4;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n      React.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = objectWithoutProperties(_child$props, [\"children\"]);\n        var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case TAG_NAMES.LINK:\n          case TAG_NAMES.META:\n          case TAG_NAMES.NOSCRIPT:\n          case TAG_NAMES.SCRIPT:\n          case TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return React.createElement(Component, newProps);\n    };\n\n    createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Dont use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set$$1(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n    return HelmetWrapper;\n  }(React.Component), _class.propTypes = {\n    base: PropTypes.object,\n    bodyAttributes: PropTypes.object,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n    defaultTitle: PropTypes.string,\n    defer: PropTypes.bool,\n    encodeSpecialCharacters: PropTypes.bool,\n    htmlAttributes: PropTypes.object,\n    link: PropTypes.arrayOf(PropTypes.object),\n    meta: PropTypes.arrayOf(PropTypes.object),\n    noscript: PropTypes.arrayOf(PropTypes.object),\n    onChangeClientState: PropTypes.func,\n    script: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.arrayOf(PropTypes.object),\n    title: PropTypes.string,\n    titleAttributes: PropTypes.object,\n    titleTemplate: PropTypes.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = mapStateOnServer({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexport default HelmetExport;\nexport { HelmetExport as Helmet };","/* **********************************************\n     Begin prism-core.js\n********************************************** */\n/// <reference lib=\"WebWorker\"/>\nvar _self = typeof window !== 'undefined' ? window // if in browser\n: typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope ? self // if in worker\n: {} // if in node js\n;\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\n\n\nvar Prism = function (_self) {\n  // Private helper vars\n  var lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n  var uniqueId = 0;\n  var _ = {\n    /**\n     * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n     * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n     * additional languages or plugins yourself.\n     *\n     * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n     *\n     * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n     * empty Prism object into the global scope before loading the Prism script like this:\n     *\n     * ```js\n     * window.Prism = window.Prism || {};\n     * Prism.manual = true;\n     * // add a new <script> to load Prism's script\n     * ```\n     *\n     * @default false\n     * @type {boolean}\n     * @memberof Prism\n     * @public\n     */\n    manual: _self.Prism && _self.Prism.manual,\n    disableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n    /**\n     * A namespace for utility methods.\n     *\n     * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n     * change or disappear at any time.\n     *\n     * @namespace\n     * @memberof Prism\n     */\n    util: {\n      encode: function encode(tokens) {\n        if (tokens instanceof Token) {\n          return new Token(tokens.type, encode(tokens.content), tokens.alias);\n        } else if (Array.isArray(tokens)) {\n          return tokens.map(encode);\n        } else {\n          return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n        }\n      },\n\n      /**\n       * Returns the name of the type of the given value.\n       *\n       * @param {any} o\n       * @returns {string}\n       * @example\n       * type(null)      === 'Null'\n       * type(undefined) === 'Undefined'\n       * type(123)       === 'Number'\n       * type('foo')     === 'String'\n       * type(true)      === 'Boolean'\n       * type([1, 2])    === 'Array'\n       * type({})        === 'Object'\n       * type(String)    === 'Function'\n       * type(/abc+/)    === 'RegExp'\n       */\n      type: function type(o) {\n        return Object.prototype.toString.call(o).slice(8, -1);\n      },\n\n      /**\n       * Returns a unique number for the given object. Later calls will still return the same number.\n       *\n       * @param {Object} obj\n       * @returns {number}\n       */\n      objId: function objId(obj) {\n        if (!obj['__id']) {\n          Object.defineProperty(obj, '__id', {\n            value: ++uniqueId\n          });\n        }\n\n        return obj['__id'];\n      },\n\n      /**\n       * Creates a deep clone of the given object.\n       *\n       * The main intended use of this function is to clone language definitions.\n       *\n       * @param {T} o\n       * @param {Record<number, any>} [visited]\n       * @returns {T}\n       * @template T\n       */\n      clone: function deepClone(o, visited) {\n        visited = visited || {};\n        var clone, id;\n\n        switch (_.util.type(o)) {\n          case 'Object':\n            id = _.util.objId(o);\n\n            if (visited[id]) {\n              return visited[id];\n            }\n\n            clone =\n            /** @type {Record<string, any>} */\n            {};\n            visited[id] = clone;\n\n            for (var key in o) {\n              if (o.hasOwnProperty(key)) {\n                clone[key] = deepClone(o[key], visited);\n              }\n            }\n\n            return (\n              /** @type {any} */\n              clone\n            );\n\n          case 'Array':\n            id = _.util.objId(o);\n\n            if (visited[id]) {\n              return visited[id];\n            }\n\n            clone = [];\n            visited[id] = clone;\n\n            /** @type {Array} */\n\n            /** @type {any} */\n            o.forEach(function (v, i) {\n              clone[i] = deepClone(v, visited);\n            });\n            return (\n              /** @type {any} */\n              clone\n            );\n\n          default:\n            return o;\n        }\n      },\n\n      /**\n       * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n       *\n       * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n       *\n       * @param {Element} element\n       * @returns {string}\n       */\n      getLanguage: function getLanguage(element) {\n        while (element && !lang.test(element.className)) {\n          element = element.parentElement;\n        }\n\n        if (element) {\n          return (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n        }\n\n        return 'none';\n      },\n\n      /**\n       * Returns the script element that is currently executing.\n       *\n       * This does __not__ work for line script element.\n       *\n       * @returns {HTMLScriptElement | null}\n       */\n      currentScript: function currentScript() {\n        if (typeof document === 'undefined') {\n          return null;\n        }\n\n        if ('currentScript' in document && 1 < 2\n        /* hack to trip TS' flow analysis */\n        ) {\n            return (\n              /** @type {any} */\n              document.currentScript\n            );\n          } // IE11 workaround\n        // we'll get the src of the current script by parsing IE11's error stack trace\n        // this will not work for inline scripts\n\n\n        try {\n          throw new Error();\n        } catch (err) {\n          // Get file src url from stack. Specifically works with the format of stack traces in IE.\n          // A stack will look like this:\n          //\n          // Error\n          //    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n          //    at Global code (http://localhost/components/prism-core.js:606:1)\n          var src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\n          if (src) {\n            var scripts = document.getElementsByTagName('script');\n\n            for (var i in scripts) {\n              if (scripts[i].src == src) {\n                return scripts[i];\n              }\n            }\n          }\n\n          return null;\n        }\n      },\n\n      /**\n       * Returns whether a given class is active for `element`.\n       *\n       * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n       * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n       * given class is just the given class with a `no-` prefix.\n       *\n       * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n       * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n       * ancestors have the given class or the negated version of it, then the default activation will be returned.\n       *\n       * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n       * version of it, the class is considered active.\n       *\n       * @param {Element} element\n       * @param {string} className\n       * @param {boolean} [defaultActivation=false]\n       * @returns {boolean}\n       */\n      isActive: function isActive(element, className, defaultActivation) {\n        var no = 'no-' + className;\n\n        while (element) {\n          var classList = element.classList;\n\n          if (classList.contains(className)) {\n            return true;\n          }\n\n          if (classList.contains(no)) {\n            return false;\n          }\n\n          element = element.parentElement;\n        }\n\n        return !!defaultActivation;\n      }\n    },\n\n    /**\n     * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n     *\n     * @namespace\n     * @memberof Prism\n     * @public\n     */\n    languages: {\n      /**\n       * Creates a deep copy of the language with the given id and appends the given tokens.\n       *\n       * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n       * will be overwritten at its original position.\n       *\n       * ## Best practices\n       *\n       * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n       * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n       * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n       *\n       * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n       * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n       *\n       * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n       * @param {Grammar} redef The new tokens to append.\n       * @returns {Grammar} The new language created.\n       * @public\n       * @example\n       * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n       *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n       *     // at its original position\n       *     'comment': { ... },\n       *     // CSS doesn't have a 'color' token, so this token will be appended\n       *     'color': /\\b(?:red|green|blue)\\b/\n       * });\n       */\n      extend: function extend(id, redef) {\n        var lang = _.util.clone(_.languages[id]);\n\n        for (var key in redef) {\n          lang[key] = redef[key];\n        }\n\n        return lang;\n      },\n\n      /**\n       * Inserts tokens _before_ another token in a language definition or any other grammar.\n       *\n       * ## Usage\n       *\n       * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n       * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n       * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n       * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n       * this:\n       *\n       * ```js\n       * Prism.languages.markup.style = {\n       *     // token\n       * };\n       * ```\n       *\n       * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n       * before existing tokens. For the CSS example above, you would use it like this:\n       *\n       * ```js\n       * Prism.languages.insertBefore('markup', 'cdata', {\n       *     'style': {\n       *         // token\n       *     }\n       * });\n       * ```\n       *\n       * ## Special cases\n       *\n       * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n       * will be ignored.\n       *\n       * This behavior can be used to insert tokens after `before`:\n       *\n       * ```js\n       * Prism.languages.insertBefore('markup', 'comment', {\n       *     'comment': Prism.languages.markup.comment,\n       *     // tokens after 'comment'\n       * });\n       * ```\n       *\n       * ## Limitations\n       *\n       * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n       * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n       * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n       * deleting properties which is necessary to insert at arbitrary positions.\n       *\n       * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n       * Instead, it will create a new object and replace all references to the target object with the new one. This\n       * can be done without temporarily deleting properties, so the iteration order is well-defined.\n       *\n       * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n       * you hold the target object in a variable, then the value of the variable will not change.\n       *\n       * ```js\n       * var oldMarkup = Prism.languages.markup;\n       * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n       *\n       * assert(oldMarkup !== Prism.languages.markup);\n       * assert(newMarkup === Prism.languages.markup);\n       * ```\n       *\n       * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n       * object to be modified.\n       * @param {string} before The key to insert before.\n       * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n       * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n       * object to be modified.\n       *\n       * Defaults to `Prism.languages`.\n       * @returns {Grammar} The new grammar object.\n       * @public\n       */\n      insertBefore: function insertBefore(inside, before, insert, root) {\n        root = root ||\n        /** @type {any} */\n        _.languages;\n        var grammar = root[inside];\n        /** @type {Grammar} */\n\n        var ret = {};\n\n        for (var token in grammar) {\n          if (grammar.hasOwnProperty(token)) {\n            if (token == before) {\n              for (var newToken in insert) {\n                if (insert.hasOwnProperty(newToken)) {\n                  ret[newToken] = insert[newToken];\n                }\n              }\n            } // Do not insert token which also occur in insert. See #1525\n\n\n            if (!insert.hasOwnProperty(token)) {\n              ret[token] = grammar[token];\n            }\n          }\n        }\n\n        var old = root[inside];\n        root[inside] = ret; // Update references in other language definitions\n\n        _.languages.DFS(_.languages, function (key, value) {\n          if (value === old && key != inside) {\n            this[key] = ret;\n          }\n        });\n\n        return ret;\n      },\n      // Traverse a language definition with Depth First Search\n      DFS: function DFS(o, callback, type, visited) {\n        visited = visited || {};\n        var objId = _.util.objId;\n\n        for (var i in o) {\n          if (o.hasOwnProperty(i)) {\n            callback.call(o, i, o[i], type || i);\n\n            var property = o[i],\n                propertyType = _.util.type(property);\n\n            if (propertyType === 'Object' && !visited[objId(property)]) {\n              visited[objId(property)] = true;\n              DFS(property, callback, null, visited);\n            } else if (propertyType === 'Array' && !visited[objId(property)]) {\n              visited[objId(property)] = true;\n              DFS(property, callback, i, visited);\n            }\n          }\n        }\n      }\n    },\n    plugins: {},\n\n    /**\n     * This is the most high-level function in Prisms API.\n     * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n     * each one of them.\n     *\n     * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n     *\n     * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n     * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n     * @memberof Prism\n     * @public\n     */\n    highlightAll: function highlightAll(async, callback) {\n      _.highlightAllUnder(document, async, callback);\n    },\n\n    /**\n     * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n     * {@link Prism.highlightElement} on each one of them.\n     *\n     * The following hooks will be run:\n     * 1. `before-highlightall`\n     * 2. All hooks of {@link Prism.highlightElement} for each element.\n     *\n     * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n     * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n     * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n     * @memberof Prism\n     * @public\n     */\n    highlightAllUnder: function highlightAllUnder(container, async, callback) {\n      var env = {\n        callback: callback,\n        container: container,\n        selector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n      };\n\n      _.hooks.run('before-highlightall', env);\n\n      env.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n      _.hooks.run('before-all-elements-highlight', env);\n\n      for (var i = 0, element; element = env.elements[i++];) {\n        _.highlightElement(element, async === true, env.callback);\n      }\n    },\n\n    /**\n     * Highlights the code inside a single element.\n     *\n     * The following hooks will be run:\n     * 1. `before-sanity-check`\n     * 2. `before-highlight`\n     * 3. All hooks of {@link Prism.highlight}. These hooks will only be run by the current worker if `async` is `true`.\n     * 4. `before-insert`\n     * 5. `after-highlight`\n     * 6. `complete`\n     *\n     * @param {Element} element The element containing the code.\n     * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n     * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n     * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n     * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n     *\n     * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n     * asynchronous highlighting to work. You can build your own bundle on the\n     * [Download page](https://prismjs.com/download.html).\n     * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n     * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n     * @memberof Prism\n     * @public\n     */\n    highlightElement: function highlightElement(element, async, callback) {\n      // Find language\n      var language = _.util.getLanguage(element);\n\n      var grammar = _.languages[language]; // Set language on the element, if not present\n\n      element.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language; // Set language on the parent, for styling\n\n      var parent = element.parentElement;\n\n      if (parent && parent.nodeName.toLowerCase() === 'pre') {\n        parent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n      }\n\n      var code = element.textContent;\n      var env = {\n        element: element,\n        language: language,\n        grammar: grammar,\n        code: code\n      };\n\n      function insertHighlightedCode(highlightedCode) {\n        env.highlightedCode = highlightedCode;\n\n        _.hooks.run('before-insert', env);\n\n        env.element.innerHTML = env.highlightedCode;\n\n        _.hooks.run('after-highlight', env);\n\n        _.hooks.run('complete', env);\n\n        callback && callback.call(env.element);\n      }\n\n      _.hooks.run('before-sanity-check', env);\n\n      if (!env.code) {\n        _.hooks.run('complete', env);\n\n        callback && callback.call(env.element);\n        return;\n      }\n\n      _.hooks.run('before-highlight', env);\n\n      if (!env.grammar) {\n        insertHighlightedCode(_.util.encode(env.code));\n        return;\n      }\n\n      if (async && _self.Worker) {\n        var worker = new Worker(_.filename);\n\n        worker.onmessage = function (evt) {\n          insertHighlightedCode(evt.data);\n        };\n\n        worker.postMessage(JSON.stringify({\n          language: env.language,\n          code: env.code,\n          immediateClose: true\n        }));\n      } else {\n        insertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n      }\n    },\n\n    /**\n     * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n     * and the language definitions to use, and returns a string with the HTML produced.\n     *\n     * The following hooks will be run:\n     * 1. `before-tokenize`\n     * 2. `after-tokenize`\n     * 3. `wrap`: On each {@link Token}.\n     *\n     * @param {string} text A string with the code to be highlighted.\n     * @param {Grammar} grammar An object containing the tokens to use.\n     *\n     * Usually a language definition like `Prism.languages.markup`.\n     * @param {string} language The name of the language definition passed to `grammar`.\n     * @returns {string} The highlighted HTML.\n     * @memberof Prism\n     * @public\n     * @example\n     * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n     */\n    highlight: function highlight(text, grammar, language) {\n      var env = {\n        code: text,\n        grammar: grammar,\n        language: language\n      };\n\n      _.hooks.run('before-tokenize', env);\n\n      env.tokens = _.tokenize(env.code, env.grammar);\n\n      _.hooks.run('after-tokenize', env);\n\n      return Token.stringify(_.util.encode(env.tokens), env.language);\n    },\n\n    /**\n     * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n     * and the language definitions to use, and returns an array with the tokenized code.\n     *\n     * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n     *\n     * This method could be useful in other contexts as well, as a very crude parser.\n     *\n     * @param {string} text A string with the code to be highlighted.\n     * @param {Grammar} grammar An object containing the tokens to use.\n     *\n     * Usually a language definition like `Prism.languages.markup`.\n     * @returns {TokenStream} An array of strings and tokens, a token stream.\n     * @memberof Prism\n     * @public\n     * @example\n     * let code = `var foo = 0;`;\n     * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n     * tokens.forEach(token => {\n     *     if (token instanceof Prism.Token && token.type === 'number') {\n     *         console.log(`Found numeric literal: ${token.content}`);\n     *     }\n     * });\n     */\n    tokenize: function tokenize(text, grammar) {\n      var rest = grammar.rest;\n\n      if (rest) {\n        for (var token in rest) {\n          grammar[token] = rest[token];\n        }\n\n        delete grammar.rest;\n      }\n\n      var tokenList = new LinkedList();\n      addAfter(tokenList, tokenList.head, text);\n      matchGrammar(text, tokenList, grammar, tokenList.head, 0);\n      return toArray(tokenList);\n    },\n\n    /**\n     * @namespace\n     * @memberof Prism\n     * @public\n     */\n    hooks: {\n      all: {},\n\n      /**\n       * Adds the given callback to the list of callbacks for the given hook.\n       *\n       * The callback will be invoked when the hook it is registered for is run.\n       * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n       *\n       * One callback function can be registered to multiple hooks and the same hook multiple times.\n       *\n       * @param {string} name The name of the hook.\n       * @param {HookCallback} callback The callback function which is given environment variables.\n       * @public\n       */\n      add: function add(name, callback) {\n        var hooks = _.hooks.all;\n        hooks[name] = hooks[name] || [];\n        hooks[name].push(callback);\n      },\n\n      /**\n       * Runs a hook invoking all registered callbacks with the given environment variables.\n       *\n       * Callbacks will be invoked synchronously and in the order in which they were registered.\n       *\n       * @param {string} name The name of the hook.\n       * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n       * @public\n       */\n      run: function run(name, env) {\n        var callbacks = _.hooks.all[name];\n\n        if (!callbacks || !callbacks.length) {\n          return;\n        }\n\n        for (var i = 0, callback; callback = callbacks[i++];) {\n          callback(env);\n        }\n      }\n    },\n    Token: Token\n  };\n  _self.Prism = _; // Typescript note:\n  // The following can be used to import the Token type in JSDoc:\n  //\n  //   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n  /**\n   * Creates a new token.\n   *\n   * @param {string} type See {@link Token#type type}\n   * @param {string | TokenStream} content See {@link Token#content content}\n   * @param {string|string[]} [alias] The alias(es) of the token.\n   * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n   * @class\n   * @global\n   * @public\n   */\n\n  function Token(type, content, alias, matchedStr) {\n    /**\n     * The type of the token.\n     *\n     * This is usually the key of a pattern in a {@link Grammar}.\n     *\n     * @type {string}\n     * @see GrammarToken\n     * @public\n     */\n    this.type = type;\n    /**\n     * The strings or tokens contained by this token.\n     *\n     * This will be a token stream if the pattern matched also defined an `inside` grammar.\n     *\n     * @type {string | TokenStream}\n     * @public\n     */\n\n    this.content = content;\n    /**\n     * The alias(es) of the token.\n     *\n     * @type {string|string[]}\n     * @see GrammarToken\n     * @public\n     */\n\n    this.alias = alias; // Copy of the full string this token was created from\n\n    this.length = (matchedStr || '').length | 0;\n  }\n  /**\n   * A token stream is an array of strings and {@link Token Token} objects.\n   *\n   * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n   * them.\n   *\n   * 1. No adjacent strings.\n   * 2. No empty strings.\n   *\n   *    The only exception here is the token stream that only contains the empty string and nothing else.\n   *\n   * @typedef {Array<string | Token>} TokenStream\n   * @global\n   * @public\n   */\n\n  /**\n   * Converts the given token or token stream to an HTML representation.\n   *\n   * The following hooks will be run:\n   * 1. `wrap`: On each {@link Token}.\n   *\n   * @param {string | Token | TokenStream} o The token or token stream to be converted.\n   * @param {string} language The name of current language.\n   * @returns {string} The HTML representation of the token or token stream.\n   * @memberof Token\n   * @static\n   */\n\n\n  Token.stringify = function stringify(o, language) {\n    if (typeof o == 'string') {\n      return o;\n    }\n\n    if (Array.isArray(o)) {\n      var s = '';\n      o.forEach(function (e) {\n        s += stringify(e, language);\n      });\n      return s;\n    }\n\n    var env = {\n      type: o.type,\n      content: stringify(o.content, language),\n      tag: 'span',\n      classes: ['token', o.type],\n      attributes: {},\n      language: language\n    };\n    var aliases = o.alias;\n\n    if (aliases) {\n      if (Array.isArray(aliases)) {\n        Array.prototype.push.apply(env.classes, aliases);\n      } else {\n        env.classes.push(aliases);\n      }\n    }\n\n    _.hooks.run('wrap', env);\n\n    var attributes = '';\n\n    for (var name in env.attributes) {\n      attributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n    }\n\n    return '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n  };\n  /**\n   * @param {string} text\n   * @param {LinkedList<string | Token>} tokenList\n   * @param {any} grammar\n   * @param {LinkedListNode<string | Token>} startNode\n   * @param {number} startPos\n   * @param {RematchOptions} [rematch]\n   * @returns {void}\n   * @private\n   *\n   * @typedef RematchOptions\n   * @property {string} cause\n   * @property {number} reach\n   */\n\n\n  function matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n    for (var token in grammar) {\n      if (!grammar.hasOwnProperty(token) || !grammar[token]) {\n        continue;\n      }\n\n      var patterns = grammar[token];\n      patterns = Array.isArray(patterns) ? patterns : [patterns];\n\n      for (var j = 0; j < patterns.length; ++j) {\n        if (rematch && rematch.cause == token + ',' + j) {\n          return;\n        }\n\n        var patternObj = patterns[j],\n            inside = patternObj.inside,\n            lookbehind = !!patternObj.lookbehind,\n            greedy = !!patternObj.greedy,\n            lookbehindLength = 0,\n            alias = patternObj.alias;\n\n        if (greedy && !patternObj.pattern.global) {\n          // Without the global flag, lastIndex won't work\n          var flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n          patternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n        }\n        /** @type {RegExp} */\n\n\n        var pattern = patternObj.pattern || patternObj;\n\n        for ( // iterate the token list and keep track of the current token/string position\n        var currentNode = startNode.next, pos = startPos; currentNode !== tokenList.tail; pos += currentNode.value.length, currentNode = currentNode.next) {\n          if (rematch && pos >= rematch.reach) {\n            break;\n          }\n\n          var str = currentNode.value;\n\n          if (tokenList.length > text.length) {\n            // Something went terribly wrong, ABORT, ABORT!\n            return;\n          }\n\n          if (str instanceof Token) {\n            continue;\n          }\n\n          var removeCount = 1; // this is the to parameter of removeBetween\n\n          if (greedy && currentNode != tokenList.tail.prev) {\n            pattern.lastIndex = pos;\n            var match = pattern.exec(text);\n\n            if (!match) {\n              break;\n            }\n\n            var from = match.index + (lookbehind && match[1] ? match[1].length : 0);\n            var to = match.index + match[0].length;\n            var p = pos; // find the node that contains the match\n\n            p += currentNode.value.length;\n\n            while (from >= p) {\n              currentNode = currentNode.next;\n              p += currentNode.value.length;\n            } // adjust pos (and p)\n\n\n            p -= currentNode.value.length;\n            pos = p; // the current node is a Token, then the match starts inside another Token, which is invalid\n\n            if (currentNode.value instanceof Token) {\n              continue;\n            } // find the last node which is affected by this match\n\n\n            for (var k = currentNode; k !== tokenList.tail && (p < to || typeof k.value === 'string'); k = k.next) {\n              removeCount++;\n              p += k.value.length;\n            }\n\n            removeCount--; // replace with the new match\n\n            str = text.slice(pos, p);\n            match.index -= pos;\n          } else {\n            pattern.lastIndex = 0;\n            var match = pattern.exec(str);\n          }\n\n          if (!match) {\n            continue;\n          }\n\n          if (lookbehind) {\n            lookbehindLength = match[1] ? match[1].length : 0;\n          }\n\n          var from = match.index + lookbehindLength,\n              matchStr = match[0].slice(lookbehindLength),\n              to = from + matchStr.length,\n              before = str.slice(0, from),\n              after = str.slice(to);\n          var reach = pos + str.length;\n\n          if (rematch && reach > rematch.reach) {\n            rematch.reach = reach;\n          }\n\n          var removeFrom = currentNode.prev;\n\n          if (before) {\n            removeFrom = addAfter(tokenList, removeFrom, before);\n            pos += before.length;\n          }\n\n          removeRange(tokenList, removeFrom, removeCount);\n          var wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n          currentNode = addAfter(tokenList, removeFrom, wrapped);\n\n          if (after) {\n            addAfter(tokenList, currentNode, after);\n          }\n\n          if (removeCount > 1) {\n            // at least one Token object was removed, so we have to do some rematching\n            // this can only happen if the current pattern is greedy\n            matchGrammar(text, tokenList, grammar, currentNode.prev, pos, {\n              cause: token + ',' + j,\n              reach: reach\n            });\n          }\n        }\n      }\n    }\n  }\n  /**\n   * @typedef LinkedListNode\n   * @property {T} value\n   * @property {LinkedListNode<T> | null} prev The previous node.\n   * @property {LinkedListNode<T> | null} next The next node.\n   * @template T\n   * @private\n   */\n\n  /**\n   * @template T\n   * @private\n   */\n\n\n  function LinkedList() {\n    /** @type {LinkedListNode<T>} */\n    var head = {\n      value: null,\n      prev: null,\n      next: null\n    };\n    /** @type {LinkedListNode<T>} */\n\n    var tail = {\n      value: null,\n      prev: head,\n      next: null\n    };\n    head.next = tail;\n    /** @type {LinkedListNode<T>} */\n\n    this.head = head;\n    /** @type {LinkedListNode<T>} */\n\n    this.tail = tail;\n    this.length = 0;\n  }\n  /**\n   * Adds a new node with the given value to the list.\n   * @param {LinkedList<T>} list\n   * @param {LinkedListNode<T>} node\n   * @param {T} value\n   * @returns {LinkedListNode<T>} The added node.\n   * @template T\n   */\n\n\n  function addAfter(list, node, value) {\n    // assumes that node != list.tail && values.length >= 0\n    var next = node.next;\n    var newNode = {\n      value: value,\n      prev: node,\n      next: next\n    };\n    node.next = newNode;\n    next.prev = newNode;\n    list.length++;\n    return newNode;\n  }\n  /**\n   * Removes `count` nodes after the given node. The given node will not be removed.\n   * @param {LinkedList<T>} list\n   * @param {LinkedListNode<T>} node\n   * @param {number} count\n   * @template T\n   */\n\n\n  function removeRange(list, node, count) {\n    var next = node.next;\n\n    for (var i = 0; i < count && next !== list.tail; i++) {\n      next = next.next;\n    }\n\n    node.next = next;\n    next.prev = node;\n    list.length -= i;\n  }\n  /**\n   * @param {LinkedList<T>} list\n   * @returns {T[]}\n   * @template T\n   */\n\n\n  function toArray(list) {\n    var array = [];\n    var node = list.head.next;\n\n    while (node !== list.tail) {\n      array.push(node.value);\n      node = node.next;\n    }\n\n    return array;\n  }\n\n  if (!_self.document) {\n    if (!_self.addEventListener) {\n      // in Node.js\n      return _;\n    }\n\n    if (!_.disableWorkerMessageHandler) {\n      // In worker\n      _self.addEventListener('message', function (evt) {\n        var message = JSON.parse(evt.data),\n            lang = message.language,\n            code = message.code,\n            immediateClose = message.immediateClose;\n\n        _self.postMessage(_.highlight(code, _.languages[lang], lang));\n\n        if (immediateClose) {\n          _self.close();\n        }\n      }, false);\n    }\n\n    return _;\n  } // Get current script and highlight\n\n\n  var script = _.util.currentScript();\n\n  if (script) {\n    _.filename = script.src;\n\n    if (script.hasAttribute('data-manual')) {\n      _.manual = true;\n    }\n  }\n\n  function highlightAutomaticallyCallback() {\n    if (!_.manual) {\n      _.highlightAll();\n    }\n  }\n\n  if (!_.manual) {\n    // If the document state is \"loading\", then we'll use DOMContentLoaded.\n    // If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n    // DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n    // might take longer one animation frame to execute which can create a race condition where only some plugins have\n    // been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n    // See https://github.com/PrismJS/prism/issues/2102\n    var readyState = document.readyState;\n\n    if (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n      document.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n    } else {\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(highlightAutomaticallyCallback);\n      } else {\n        window.setTimeout(highlightAutomaticallyCallback, 16);\n      }\n    }\n  }\n\n  return _;\n}(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = Prism;\n} // hack for components to work correctly in node.js\n\n\nif (typeof global !== 'undefined') {\n  global.Prism = Prism;\n} // some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n*/\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n*/\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\n\nPrism.languages.markup = {\n  'comment': /<!--[\\s\\S]*?-->/,\n  'prolog': /<\\?[\\s\\S]+?\\?>/,\n  'doctype': {\n    // https://www.w3.org/TR/xml/#NT-doctypedecl\n    pattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n    greedy: true,\n    inside: {\n      'internal-subset': {\n        pattern: /(\\[)[\\s\\S]+(?=\\]>$)/,\n        lookbehind: true,\n        greedy: true,\n        inside: null // see below\n\n      },\n      'string': {\n        pattern: /\"[^\"]*\"|'[^']*'/,\n        greedy: true\n      },\n      'punctuation': /^<!|>$|[[\\]]/,\n      'doctype-tag': /^DOCTYPE/,\n      'name': /[^\\s<>'\"]+/\n    }\n  },\n  'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n  'tag': {\n    pattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n    greedy: true,\n    inside: {\n      'tag': {\n        pattern: /^<\\/?[^\\s>\\/]+/,\n        inside: {\n          'punctuation': /^<\\/?/,\n          'namespace': /^[^\\s>\\/:]+:/\n        }\n      },\n      'attr-value': {\n        pattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n        inside: {\n          'punctuation': [{\n            pattern: /^=/,\n            alias: 'attr-equals'\n          }, /\"|'/]\n        }\n      },\n      'punctuation': /\\/?>/,\n      'attr-name': {\n        pattern: /[^\\s>\\/]+/,\n        inside: {\n          'namespace': /^[^\\s>\\/:]+:/\n        }\n      }\n    }\n  },\n  'entity': [{\n    pattern: /&[\\da-z]{1,8};/i,\n    alias: 'named-entity'\n  }, /&#x?[\\da-f]{1,8};/i]\n};\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] = Prism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup; // Plugin to make entity title show the real entity, idea by Roman Komarov\n\nPrism.hooks.add('wrap', function (env) {\n  if (env.type === 'entity') {\n    env.attributes['title'] = env.content.replace(/&amp;/, '&');\n  }\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n  /**\n   * Adds an inlined language to markup.\n   *\n   * An example of an inlined language is CSS with `<style>` tags.\n   *\n   * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n   * case insensitive.\n   * @param {string} lang The language key.\n   * @example\n   * addInlined('style', 'css');\n   */\n  value: function addInlined(tagName, lang) {\n    var includedCdataInside = {};\n    includedCdataInside['language-' + lang] = {\n      pattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n      lookbehind: true,\n      inside: Prism.languages[lang]\n    };\n    includedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n    var inside = {\n      'included-cdata': {\n        pattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n        inside: includedCdataInside\n      }\n    };\n    inside['language-' + lang] = {\n      pattern: /[\\s\\S]+/,\n      inside: Prism.languages[lang]\n    };\n    var def = {};\n    def[tagName] = {\n      pattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () {\n        return tagName;\n      }), 'i'),\n      lookbehind: true,\n      greedy: true,\n      inside: inside\n    };\n    Prism.languages.insertBefore('markup', 'cdata', def);\n  }\n});\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n  var string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n  Prism.languages.css = {\n    'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n    'atrule': {\n      pattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n      inside: {\n        'rule': /^@[\\w-]+/,\n        'selector-function-argument': {\n          pattern: /(\\bselector\\s*\\((?!\\s*\\))\\s*)(?:[^()]|\\((?:[^()]|\\([^()]*\\))*\\))+?(?=\\s*\\))/,\n          lookbehind: true,\n          alias: 'selector'\n        },\n        'keyword': {\n          pattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n          lookbehind: true\n        } // See rest below\n\n      }\n    },\n    'url': {\n      // https://drafts.csswg.org/css-values-3/#urls\n      pattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n      greedy: true,\n      inside: {\n        'function': /^url/i,\n        'punctuation': /^\\(|\\)$/,\n        'string': {\n          pattern: RegExp('^' + string.source + '$'),\n          alias: 'url'\n        }\n      }\n    },\n    'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n    'string': {\n      pattern: string,\n      greedy: true\n    },\n    'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n    'important': /!important\\b/i,\n    'function': /[-a-z0-9]+(?=\\()/i,\n    'punctuation': /[(){};:,]/\n  };\n  Prism.languages.css['atrule'].inside.rest = Prism.languages.css;\n  var markup = Prism.languages.markup;\n\n  if (markup) {\n    markup.tag.addInlined('style', 'css');\n    Prism.languages.insertBefore('inside', 'attr-value', {\n      'style-attr': {\n        pattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n        inside: {\n          'attr-name': {\n            pattern: /^\\s*style/i,\n            inside: markup.tag.inside\n          },\n          'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n          'attr-value': {\n            pattern: /.+/i,\n            inside: Prism.languages.css\n          }\n        },\n        alias: 'language-css'\n      }\n    }, markup.tag);\n  }\n})(Prism);\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\n\nPrism.languages.clike = {\n  'comment': [{\n    pattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n    lookbehind: true\n  }, {\n    pattern: /(^|[^\\\\:])\\/\\/.*/,\n    lookbehind: true,\n    greedy: true\n  }],\n  'string': {\n    pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n    greedy: true\n  },\n  'class-name': {\n    pattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n    lookbehind: true,\n    inside: {\n      'punctuation': /[.\\\\]/\n    }\n  },\n  'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n  'boolean': /\\b(?:true|false)\\b/,\n  'function': /\\w+(?=\\()/,\n  'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n  'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n  'punctuation': /[{}[\\];(),.:]/\n};\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n  'class-name': [Prism.languages.clike['class-name'], {\n    pattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n    lookbehind: true\n  }],\n  'keyword': [{\n    pattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n    lookbehind: true\n  }, {\n    pattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n    lookbehind: true\n  }],\n  'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n  // Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n  'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n  'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\nPrism.languages.insertBefore('javascript', 'keyword', {\n  'regex': {\n    pattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n    lookbehind: true,\n    greedy: true\n  },\n  // This must be declared before keyword because we use \"function\" inside the look-forward\n  'function-variable': {\n    pattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n    alias: 'function'\n  },\n  'parameter': [{\n    pattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n    lookbehind: true,\n    inside: Prism.languages.javascript\n  }, {\n    pattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n    inside: Prism.languages.javascript\n  }, {\n    pattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n    lookbehind: true,\n    inside: Prism.languages.javascript\n  }, {\n    pattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n    lookbehind: true,\n    inside: Prism.languages.javascript\n  }],\n  'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\nPrism.languages.insertBefore('javascript', 'string', {\n  'template-string': {\n    pattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n    greedy: true,\n    inside: {\n      'template-punctuation': {\n        pattern: /^`|`$/,\n        alias: 'string'\n      },\n      'interpolation': {\n        pattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n        lookbehind: true,\n        inside: {\n          'interpolation-punctuation': {\n            pattern: /^\\${|}$/,\n            alias: 'punctuation'\n          },\n          rest: Prism.languages.javascript\n        }\n      },\n      'string': /[\\s\\S]+/\n    }\n  }\n});\n\nif (Prism.languages.markup) {\n  Prism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n  if (typeof self === 'undefined' || !self.Prism || !self.document) {\n    return;\n  }\n\n  var Prism = window.Prism;\n  var LOADING_MESSAGE = 'Loading';\n\n  var FAILURE_MESSAGE = function FAILURE_MESSAGE(status, message) {\n    return ' Error ' + status + ' while fetching file: ' + message;\n  };\n\n  var FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n  var EXTENSIONS = {\n    'js': 'javascript',\n    'py': 'python',\n    'rb': 'ruby',\n    'ps1': 'powershell',\n    'psm1': 'powershell',\n    'sh': 'bash',\n    'bat': 'batch',\n    'h': 'c',\n    'tex': 'latex'\n  };\n  var STATUS_ATTR = 'data-src-status';\n  var STATUS_LOADING = 'loading';\n  var STATUS_LOADED = 'loaded';\n  var STATUS_FAILED = 'failed';\n  var SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])' + ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n  var lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n  /**\n   * Sets the Prism `language-xxxx` or `lang-xxxx` class to the given language.\n   *\n   * @param {HTMLElement} element\n   * @param {string} language\n   * @returns {void}\n   */\n\n  function setLanguageClass(element, language) {\n    var className = element.className;\n    className = className.replace(lang, ' ') + ' language-' + language;\n    element.className = className.replace(/\\s+/g, ' ').trim();\n  }\n\n  Prism.hooks.add('before-highlightall', function (env) {\n    env.selector += ', ' + SELECTOR;\n  });\n  Prism.hooks.add('before-sanity-check', function (env) {\n    var pre =\n    /** @type {HTMLPreElement} */\n    env.element;\n\n    if (pre.matches(SELECTOR)) {\n      env.code = ''; // fast-path the whole thing and go to complete\n\n      pre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n      // add code element with loading message\n\n      var code = pre.appendChild(document.createElement('CODE'));\n      code.textContent = LOADING_MESSAGE;\n      var src = pre.getAttribute('data-src');\n      var language = env.language;\n\n      if (language === 'none') {\n        // the language might be 'none' because there is no language set;\n        // in this case, we want to use the extension as the language\n        var extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n        language = EXTENSIONS[extension] || extension;\n      } // set language classes\n\n\n      setLanguageClass(code, language);\n      setLanguageClass(pre, language); // preload the language\n\n      var autoloader = Prism.plugins.autoloader;\n\n      if (autoloader) {\n        autoloader.loadLanguages(language);\n      } // load file\n\n\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', src, true);\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status < 400 && xhr.responseText) {\n            // mark as loaded\n            pre.setAttribute(STATUS_ATTR, STATUS_LOADED); // highlight code\n\n            code.textContent = xhr.responseText;\n            Prism.highlightElement(code);\n          } else {\n            // mark as failed\n            pre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n            if (xhr.status >= 400) {\n              code.textContent = FAILURE_MESSAGE(xhr.status, xhr.statusText);\n            } else {\n              code.textContent = FAILURE_EMPTY_MESSAGE;\n            }\n          }\n        }\n      };\n\n      xhr.send(null);\n    }\n  });\n  Prism.plugins.fileHighlight = {\n    /**\n     * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n     *\n     * Note: Elements which are already loaded or currently loading will not be touched by this method.\n     *\n     * @param {ParentNode} [container=document]\n     */\n    highlight: function highlight(container) {\n      var elements = (container || document).querySelectorAll(SELECTOR);\n\n      for (var i = 0, element; element = elements[i++];) {\n        Prism.highlightElement(element);\n      }\n    }\n  };\n  var logged = false;\n  /** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\n  Prism.fileHighlight = function () {\n    if (!logged) {\n      console.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n      logged = true;\n    }\n\n    Prism.plugins.fileHighlight.highlight.apply(this, arguments);\n  };\n})();","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}