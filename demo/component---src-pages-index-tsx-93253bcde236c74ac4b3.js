(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{DMcj:function(e,t,n){},QeBL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _}));var r=n("q1tI"),a=n.n(r),o=n("9Hrx"),i=(n("glSG"),n("t8Zj")),s=(n("DMcj"),n("EO4T"));function u(e){var t,n,r=Object(s.a)(e,c),o=function(t){var n=t.currentTarget.value,r=e.corpora.find((function(e){return e.key===n}));if(!r)throw new Error('Cannot find corpus with key "'+n+'".');e.onCorpusSelected(r)},u=(t=e.corpora,n=["en","de"],Object(i.a)(t).sort((function(e,t){var r=n.indexOf(e.language),a=n.indexOf(t.language);return-1===r&&(r=n.length),-1===a&&(a=n.length),r-a}))),l=u.find((function(t){return t.key===e.selected}));if(!l&&u.length>0){var h=u[0];l=h,setTimeout((function(){e.onCorpusSelected(h)}),1)}var p=u.map((function(t){var n=[];return t===l&&n.push("selected"),e.unavailable.has(t)&&n.push("unavailable"),a.a.createElement("button",{key:t.key,className:n.join(" "),value:t.key,onClick:o},r("label-"+t.name.toLowerCase())||t.name)}));return a.a.createElement("div",{className:"NetspeakCorpusSelector"},a.a.createElement("div",{className:"wrapper"},p))}var c={en:{"label-english":"English","label-german":"German"},de:{"label-english":"Englisch","label-german":"Deutsch"}};var l=n("PKJ3"),h=n("YvAb"),p=n("fLZm"),f=n("NldC"),m=function(){function e(e){void 0===e&&(e=[]),this.items=e}var t=e.prototype;return t.push=function(t){return this.items.some((function(e){return e===t}))?new e([t].concat(Object(i.a)(this.items.filter((function(e){return e!==t}))))):new e([t].concat(Object(i.a)(this.items)))},t.limit=function(t){return this.items.length<=t?this:new e(this.items.slice(0,t))},t.toJSON=function(){return JSON.stringify(this.items)},e.fromJSON=function(t){return new e(JSON.parse(t))},e}(),y=n("Pa1A"),d=new Set;function g(){d.forEach((function(e){return e()}))}var v=void 0;"undefined"!=typeof window&&(window.addEventListener("hashchange",(function(){v=location.hash,g()})),setInterval((function(){if(void 0!==v){var e=location.hash;v!==e&&(v=location.hash,g())}}),10));var b=[{key:"web-en",name:"English",language:"en"},{key:"web-de",name:"German",language:"de"}],w=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).lang=Object(s.b)(),n.state=Object.assign({},S(C("corpus")||"web-en"),{corpora:b,unavailableCorpora:new Set,pageQuery:C("q")||"",currentQuery:"",queryId:Object(f.e)(),exampleVisibility:null!==(t=H())&&void 0!==t?t:"peek"}),n._onHashUpdateHandler=function(){var e=C("q")||"",t=C("corpus");n.setState((function(n){return Object.assign({pageQuery:e},S(t||n.currentCorpusKey,n),{currentQuery:e,queryId:e===n.pageQuery||e===n.currentQuery?n.queryId:Object(f.e)()})}))},n._onCorpusSelectedHandler=function(e){n.setState((function(t){return S(e.key,t)})),E("corpus",e.key)},n._onQueryCommitHandler=function(e){n.setState((function(t){var n=t.history;return e.trim()&&(n=n.push(e),j(t.currentCorpusKey,n)),{currentQuery:e,history:n}})),E("q",e)},n._onSetExampleVisibilityHandler=function(e){N(e),n.setState({exampleVisibility:e})},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e,t=this;this._corporaPromise=new p.a(h.a.instance.queryCorpora()),this._corporaPromise.then((function(e){var n=new Set(e.corpora.map((function(e){return e.key})));t.setState((function(e){return{unavailableCorpora:new Set(e.corpora.filter((function(e){return!n.has(e.key)})))}}))}),p.b).catch((function(e){t.setState((function(e){return{unavailableCorpora:new Set(e.corpora)}})),console.error(e)})),e=this._onHashUpdateHandler,d.add(e)},n.componentWillUnmount=function(){var e,t;null===(e=this._corporaPromise)||void 0===e||e.cancel(),t=this._onHashUpdateHandler,d.delete(t)},n.render=function(){var e=this;return a.a.createElement(y.a,{lang:this.lang,className:"SearchPage"},Object(f.h)(this.state.corpora.length>0,(function(){return a.a.createElement(u,{lang:e.lang,selected:e.state.currentCorpusKey,corpora:e.state.corpora,unavailable:e.state.unavailableCorpora,onCorpusSelected:e._onCorpusSelectedHandler})})),a.a.createElement("div",{className:"search-wrapper"},a.a.createElement(l.a,{key:this.state.queryId+";"+this.state.currentCorpusKey,lang:this.lang,corpusKey:this.state.currentCorpusKey,defaultQuery:this.state.pageQuery,onCommitQuery:this._onQueryCommitHandler,history:this.state.history,defaultExampleVisibility:this.state.exampleVisibility,onSetExampleVisibility:this._onSetExampleVisibilityHandler,pageSize:40,autoFocus:!0})))},t}(a.a.PureComponent);function S(e,t){return{currentCorpusKey:e,history:(null==t?void 0:t.currentCorpusKey)===e?t.history:O(e)}}function k(){try{return new URLSearchParams((location.hash||"#").substr(1))}catch(e){return new URLSearchParams("")}}function C(e){return k().get(e)}function E(e,t){var n=k();n.set(e,t),function(e){location.hash=e.toString()}(n)}function O(e){var t=localStorage.getItem("queryHistory:"+e);return t?m.fromJSON(t):new m}function j(e,t){localStorage.setItem("queryHistory:"+e,t.toJSON())}function H(){return sessionStorage.getItem("exampleVisibility")}function N(e){sessionStorage.setItem("exampleVisibility",e)}var Q=n("qhky"),q=n("fKQA"),x=n("YMTh");function _(){return a.a.createElement(a.a.Fragment,null,Object(q.a)((function(){return a.a.createElement(w,null)})),a.a.createElement(x.a,null),a.a.createElement(Q.a,null,a.a.createElement("title",null,"Netspeak"),a.a.createElement("meta",{name:"keywords",content:"netspeak, common language, dictionary, phrase dictionary, netfreak, net speak, net-speak, net slang, internet slang, net-speak, writing assistant"}),a.a.createElement("meta",{name:"description",content:"Netspeak helps you to search for words you don't know, yet. It is a new kind of dictionary that contains everything that has ever been written on the web."})))}},glSG:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-index-tsx-93253bcde236c74ac4b3.js.map